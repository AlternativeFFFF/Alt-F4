<!DOCTYPE html>
<html lang="cs" class="cs">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Alt-F4 #52 - Rychlost Tekuté Elektřiny</title>
	<!-- Meta -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v4.1.1">
<meta property="og:title" content="Alt-F4 #52 - Rychlost Tekuté Elektřiny">
<meta name="author" content="stringweasel">
<meta property="og:locale" content="cs">
<meta name="description" content="Pro naše 52. vydání, stringweasel se vrácí pro druhou část Experimentu Tekutá Elektřina, ve které ukáže docela překvapující rychlostní dopady jeho výtvoru! Pokud se vám líbíl článek minulý týden, bude se vám líbit i druhá část tento týden. Jak milé překvapení! Experiment Tekuté Elektřiny: Část Druhá stringweasel Co to vlastně je? V článku minulého týdne, mluvil jsem o historii změn módech o změnách v Factorio systému elektřiny a jak fungovaly, poté jsem vysvětlil svůj vlastní mód pod jménem Tekutá Elektřina. Doporučuji, aby jste si přečetli článek minulého týdne, ale v základě, změnil jsem distribuci elektřiny v Factoriu aby byla realističtější tím, že jsem ji simuloval jako tekutinu - s použitím již existujících mechanik tekutiny. Toto znamená, že potřebujete používat transformátory, aby jste snížili redukci napětí přes delší vzdálenosti. Také to ale znamená, že je těžší zásobovat laserové věžě elektřinou aby běžely na 100%, nebo používat továrny s mnoha majáky. &lt;/source&gt; Příklad kousačů, kteří útočí na základnu s “show-fluid-box-info” zapnutým. Zelený pruh ukazuje množství tekutiny a modrý ukazuje rychlost tekutiny. Všimněte si, jak se laserové věžě občas vypínají, Příklad kousačů, kteří útočí na základnu s “show-fluid-box-info” zapnutým. Zelený pruh ukazuje množství tekutiny a modrý ukazuje rychlost tekutiny. Všimněte si, jak se laserové věžě občas vypínají, Typto nové limitace znamenají, že Tekutá Elektřina dosáhla svého cíle vytváření nové, realistické herní mechaniky, která je blíže reálné elektřině. Také to ale s sebou nese horší následky pro rychlost simulace hry s těmi všemy novými kalkulacemi. Nechtěl jsem na modový portál dát mód, který by váš počítač kompletně zastavil, pokud by jste postavili průměrnou továrnu. Proto jsem se rozhodl udělat svůj vlastní výzkum. Mají nové simulace tekutin vůbec znatelný dopad? Je to hratelné? Je důvod, proč Factorio implementuje elektřinu, kterým je. Dovoluje nám stavět absolutně masivní továrny v takových velikostech, že se v nich ztratíte. Přídavek realističtější energie by mohl viditelně snížit výkon hry až tak, že by jste museli stavět mnohem menší továrny, a to nikdo nechce. Otázka tedy zní: Co by byl výkon Factoria, kdyby byla tekutina tekoucí zkrz každý elektrický sloup? Potřeboval jsem mapu na stavbu, a proto jsem se rozhodl postavic novou bázi s Tekutou Elektřinou s pomocí kamaráda JanKrater. Můj cíl pro tuto bázi byl vymyslet nejefektivnější způsob, jak ji postavit, a poté udělat pravý opak (ve většině případech). Toto mě nechalo s špagetovou bází s až moc elektrickými sloupy, zašněrovanými pásy, a až moc hladových laserových věží. Jako nejdůležitější, dokáže vyrábět 45 vědy za minutu, a využívá zhruba 600 MW, s ani jedním modulem efektivity v dohledu. Testovací špagetová báze, běžící na 45 SPM. Normálně, Factorio běží zhruba na 60 aktualizacích za sekundu (nazíváno UPS), a byl jsem schopen tuto bázi spustit na 70 UPS na mém starším počítači (i7-4770k 3.5GHz CPU, DDR3-1600MHz RAM). Toto znamená, že trvalo pouhých ~14ms, aby se celá báze zaktualizovala, čemuž se říká jeden tik, kde 60 UPS je maximální hodnota, kde pro jeden tik je maximální doba aktualizace 1/60 = ~16.6ms. Toto číslo je také ukázáno pod “show-time-usage” debug výstupem. Zajímavě, toto ukazuje že můj mód (mod-FluidicPower) má nepatrný dopad na hru (~0.05ms). Toto je ale nejspíše možné, protože můj mód sám nedělá mnoho výpočtů, ale přenechává je na hře samotné, která je mnohem optimalizovanější. Hlavní informace o časové době jsou v Fluid Manager a Electric Network. Herní informace z “show-time-usage” a “show-entity-time-usage” u 45 SPM špagetové báze. V výstupu nahoře, hra vám říká, kde je většina času strávena, a ze začátku mě zmátlo, že hra tráví většinu času na Electric Network. Mé očekávání by bylo, že Fluid Manager by bylo nejhorší pro výkon, ale místo toho, Electric Network (~10ms) využívá přes 70% času aktualizace (~13.7ms), a Fluid Manager (~0.03ms) nevypadá, že něco vůbec dělá. Toto nedává žádný smysl, protože jsem čekal počet výpočtů tekutin mnohem vyšší. Podíval jsem se na fóra technického Factoria, kde lidé posouvají hranice Factoria. Zde mi briliantní matematik SteveTrov vysvětlil, proč časové využití hry může být mylné polkud nevíte jak jsou časové výpočty implementovány. Popsal je takto: Jako první, časové využití hry je mylné, protože výpočty tekutiny a elektřiny běží parallelně. Toto je zhruba co se většinou děje: Výpočty elektrické sítě začají a časovač elektrických sítí začne Updaty teploty začnou Několik výpočtů tekutin začne Když časovač elektřiny skončí, čas je zapsán pod aktualizací elektrických sítí. Časovač aktualizací tekutin efektivně začne Až všechny výpočty tekutin přestanou (což se většinou stane před krokem 4), časovač výpočtů tekutin je zastaven Efekt zde je, že časovač aktualizací tekutin je skoro vždy nízký. Firstly, the time usage stats are confusing because the fluid and electric network update are run in parallel threads. This is roughly what happens most of the time: The electric network thread is started and the electric network update timer is started. The heat update thread is stated Multiple fluid update threads are started. When the electric update thread finishes the time used is recorded under electric network update. The fluid update timer is effectively started now. When the fluid threads have all finished (they normally do before step 4) the fluid update timer is stopped. So the effect of this is that the fluid update time is nearly always very low. — SteveTrov Toto esenciálně znamená, že časové využití výpočtů tekutin jsou zapleteny v časových výpočtech elektřiny a tepla. Není možné vypočítat správnou metriku pro to, jaká část trvá déle, bez změny Factoria samotného. Potřebuji najít jiný způsob, kterým zjistím pokud Electric Network doopravdy zabírá více času než Fluid Manager, a o kolik. UPS expert pod jménem flame_Sla poté navrhl, abych si stáhl Very Sleepy Profiler (Velice Ospalý Profilér), abych zjistil detailnější informace o tom, jaké funkce se v C++ kódu Factoria volají nejvíce. Jejich komunita často využívá tento nástroj, aby mohli optimalizovat největší megabáze na světě a nejefektivnější megabáse v rozměru UPS. Výstup tohoto nástroje lze vidět níže, s funkcemi které trvají nejdéle řazenými sestupně. flame_Sla také říkal, abychom se nekoukali na absolutní časy, ale místo toho to použili jako metriku pro největší pachatele snížení rychlosti hry. Výstup Velice Ospalého Profiléru, který běží na mé špagetové bázi s použitím Tekuté Energie. Napravo je množství volání instance vybrané funkce. Toto ukázalo něco, co jsem vůbec nečekal. Systém tekutiny (FluidSystem::update) byl v pouhé top desítce nejhorších funkcí, a elektrická síť pořád využívala více procesujícího času! Nakonec největší problém byla funkce FlowStatistics&lt;ID&lt;...&gt;...&gt;::onFlow, která je nejvíce volána elektrickou sítí. Tyto statistiky toku sbírají potřebná data pro shlédnutí herních grafů, například okno výroby elektřiny. To znamená, že hra nezpomaluje pouze kvůli novým výpočtům tekutin, ale také aby pozbírala informace pro kreslení grafů o nových elektrických sítích! Je velice pravděpodobné, že sbírání statistik Electric Network také může zabírat hodně času s Tekutou Elektřinou. Factorio je designované mít pouze pár elektrických sítí, nebo i pouze jednu. Hra musí sčítat a aktualizovat informace pro každou elektrickou síť kterou máte, což většinou je pouze pár rozdílných dat. Místo toho aby jste měli pouze pár síťí, Tekuté Elektřina je stavěna tak, že každý elektrický sloup má svou elektrickou síť. Factorio poté bude zkoušet sčítat statistiky pro zhruba 3000 elektrických sítí v mé testovací hře! To je minimálně stokrát více sítí, než pro co je Factorio designováno. Toto byla známá limitace pro mnoho módů, ale Tekutá Elektřina toto bere do nových extrémů. Na druhou stranu ale ještě nevíme dopad těchto výpočtů relativně k výpočtům tekutin. Je sběr statistik tak náročný, než samotné výpočty tekutin? flame_Sla řekl, že se mu jednou podařilo změrit časové využití tekutinových výpočtů na celosvětově největší megabázi, a prý že používalo pouhých 0.4ms pro 40KSPM 60UPS megabázi! To znamená, že pouhých 2.5% času na aktualizacích bylo stráveno na výpočtech tekutin! Způsobem, kterým izoloval výpočty tekutin od elektrických sítí kompletně eliminoval elektrické sítě z výpočtů. Tohoto docílil tím, že všechny stroje běžěly na dřevo, což znamenalo, že žádná elektřina nebyla použita a elektrická síť nic nedělala. Z metod jak Tekutá Elektřina funguje, nemohu lehce eliminovat efekt elektrických sítí stejným způsobem bez toho, aniž bych snížil výpočty tekutin, ale jsem schopen to obrátit na druhou stranu! Jsem schopen odstranit všechny komponenty týkající se tekutin, a místo jich použít EEI, které jsou schopny vyrábět nebo používat elektřinu. Toto bude čistě eliminovat všechny komponenty tekutin, bez toho aniž by se snížilo napětí na elektrickou síť, což je docíleno tím, že továrna běží jako normálně. Abychom mohli zapsat správný výsledek, snažil jsem se, aby Factorio běžělo pouze na jednom jádru. Spustil jsem rychlý skript, který změnil skryté komponenty tekutin zpoza elektrichých sloupů pro tento test a výsledky jsou následující:   Začátek Modifikováno Rozdíl Výpočty elektřiny 9.3ms 9.2ms 0.1ms Výpočty tepla 0.03ms 0.03ms 0ms Výpočty tekutin 0.13ms 0.08ms 0.05ms Součet 9.46ms 9.31ms 0.15ms Tabulka ukazující časovací výsledky nemodifikovaných výsledků oproti výsledku, kde všechny komponenty tekutin byly odstraněny Toto ukazuje, že všechny extra výpočty tekutin z módu Tekutá Elektřina trvají zhruba ~0.15ms! Toto číslo nejspíše není přesné, protože je to v rozhledu ruchu pro špagetovou bázi, test není ideální, a měření času v paralelních vláknech není přesné. Dává nám to ale dobrou indikaci, kam většina procesujícího času jde. Toto ukazuje, že elektrická síť má zdaleka největší dopad na výkon, zatímco výpočty tekutin jsou zanedbatelné. Také to dovoluje přemýšlet, co by se stalo, kdyby elektrická síť nemusela bezdůvodně sbírat statistiky - možná by jsme viděli megabáze Tekuté Energie s gigantickými transformátory vedle nukleárních reaktorů a masivních polí solárních panelů. Se vším všudy, Tekutá Elektřina má mnohem lepší výkon, než jsem čekal. Jakékoli viditelná zpomalení jsou nejspíše od mnohých elektrických sítí, které sbírají statistiky, a ne od samotných komponentů tekutin. Nejspíše budete schopni odpálit raketu bez toho, aniž by jste měli UPS pod 60. Také budete asi možni postavit docela větší bázi, pokud budete mít efektivní rozložení (byl jsem schopen dosáhnout 90SPM na 220 UPS!), a mód nebude nutně demolovat vaše UPS, jak Rseding91 řekl. Factorio je naštěstí vysoce optimalizováno, i když neběží, jak bylo myšleno. Toto dokazuje, že Tekutá Elektřina je definitivně hratelná z ohledu výkonu - ale to není jediný aspekt, který se počítá. Měli by jste si zahrát? Osobně si myslím, že Tekutá Elektřina vytváří velmi zábavnou výzvu. Možná to není pro vás, pokud chcete stavět velkou megabázi, ale pokud si chcete záhrát zajímavou, dobrodružnou hru s novými výzvami, myslím si, že tento mód je přesně pro vás. Hodně jsem si užil překonávání překážek, které jsou vytvořeny novým stylem hraní. Například, stroje nejdále od vašich parních strojů se vypnou jako první, což jsou většinou elektrické těžební stroje, které těží uhlí pro vaše elektrické boilery. Nikdy v minulosti jsem si nezahrál takovou unikátní spirálu smrti. Nebo pokud budete bránit vaše zdi s elektrickými věžmi, budete muset zajistit dostatek transformátorů s dostatečným napětím. Moje nejoblíběnější část tohoto módu ale je fakt, že vím, že doopravdová elektřina teče zkrz elektrické vedení. Jste schopni sami vidět vlny nedostatků elektřiny zkrz vaše stroje, když vaše báze konzumuje příliš energie, napřiklad když moc elektrickžch věží páli najednou. Je to podobný pocit, který dostávám, když se podívám na obvod, který jsem nadesignoval, s tím, že vím, že funguje kvůli tekutosti elektronů zkrz měď a silikon. Staví na pocitu, že vidíte komplexní sítě pásů, které spolupracují, aby postavily raketu. Bázi to dává pocit životnosti. Jste vlastně schopni vidět její stabilní tlukot srdce, a je to velmi uspokojující. Přispívání Jako vždy, hledáme lidi, kteří by chtěli přispět do Alt-F4, ať už příspěvem článku, nebo pomáháním s překlady. Pokud máte něco zajímavého na mysli a chtěli by jste se podělit s komunitou upraveným způsobem, toto je místo, kde můžete učinit. Pokud si nejse úplně jisti o tom, rádi vám pomůžeme diskuzí nápadů a strukturací otázek. Pokud se vám to líbí, přidejte se na Discord aby jste začali!">
<meta property="og:description" content="Pro naše 52. vydání, stringweasel se vrácí pro druhou část Experimentu Tekutá Elektřina, ve které ukáže docela překvapující rychlostní dopady jeho výtvoru! Pokud se vám líbíl článek minulý týden, bude se vám líbit i druhá část tento týden. Jak milé překvapení! Experiment Tekuté Elektřiny: Část Druhá stringweasel Co to vlastně je? V článku minulého týdne, mluvil jsem o historii změn módech o změnách v Factorio systému elektřiny a jak fungovaly, poté jsem vysvětlil svůj vlastní mód pod jménem Tekutá Elektřina. Doporučuji, aby jste si přečetli článek minulého týdne, ale v základě, změnil jsem distribuci elektřiny v Factoriu aby byla realističtější tím, že jsem ji simuloval jako tekutinu - s použitím již existujících mechanik tekutiny. Toto znamená, že potřebujete používat transformátory, aby jste snížili redukci napětí přes delší vzdálenosti. Také to ale znamená, že je těžší zásobovat laserové věžě elektřinou aby běžely na 100%, nebo používat továrny s mnoha majáky. &lt;/source&gt; Příklad kousačů, kteří útočí na základnu s “show-fluid-box-info” zapnutým. Zelený pruh ukazuje množství tekutiny a modrý ukazuje rychlost tekutiny. Všimněte si, jak se laserové věžě občas vypínají, Příklad kousačů, kteří útočí na základnu s “show-fluid-box-info” zapnutým. Zelený pruh ukazuje množství tekutiny a modrý ukazuje rychlost tekutiny. Všimněte si, jak se laserové věžě občas vypínají, Typto nové limitace znamenají, že Tekutá Elektřina dosáhla svého cíle vytváření nové, realistické herní mechaniky, která je blíže reálné elektřině. Také to ale s sebou nese horší následky pro rychlost simulace hry s těmi všemy novými kalkulacemi. Nechtěl jsem na modový portál dát mód, který by váš počítač kompletně zastavil, pokud by jste postavili průměrnou továrnu. Proto jsem se rozhodl udělat svůj vlastní výzkum. Mají nové simulace tekutin vůbec znatelný dopad? Je to hratelné? Je důvod, proč Factorio implementuje elektřinu, kterým je. Dovoluje nám stavět absolutně masivní továrny v takových velikostech, že se v nich ztratíte. Přídavek realističtější energie by mohl viditelně snížit výkon hry až tak, že by jste museli stavět mnohem menší továrny, a to nikdo nechce. Otázka tedy zní: Co by byl výkon Factoria, kdyby byla tekutina tekoucí zkrz každý elektrický sloup? Potřeboval jsem mapu na stavbu, a proto jsem se rozhodl postavic novou bázi s Tekutou Elektřinou s pomocí kamaráda JanKrater. Můj cíl pro tuto bázi byl vymyslet nejefektivnější způsob, jak ji postavit, a poté udělat pravý opak (ve většině případech). Toto mě nechalo s špagetovou bází s až moc elektrickými sloupy, zašněrovanými pásy, a až moc hladových laserových věží. Jako nejdůležitější, dokáže vyrábět 45 vědy za minutu, a využívá zhruba 600 MW, s ani jedním modulem efektivity v dohledu. Testovací špagetová báze, běžící na 45 SPM. Normálně, Factorio běží zhruba na 60 aktualizacích za sekundu (nazíváno UPS), a byl jsem schopen tuto bázi spustit na 70 UPS na mém starším počítači (i7-4770k 3.5GHz CPU, DDR3-1600MHz RAM). Toto znamená, že trvalo pouhých ~14ms, aby se celá báze zaktualizovala, čemuž se říká jeden tik, kde 60 UPS je maximální hodnota, kde pro jeden tik je maximální doba aktualizace 1/60 = ~16.6ms. Toto číslo je také ukázáno pod “show-time-usage” debug výstupem. Zajímavě, toto ukazuje že můj mód (mod-FluidicPower) má nepatrný dopad na hru (~0.05ms). Toto je ale nejspíše možné, protože můj mód sám nedělá mnoho výpočtů, ale přenechává je na hře samotné, která je mnohem optimalizovanější. Hlavní informace o časové době jsou v Fluid Manager a Electric Network. Herní informace z “show-time-usage” a “show-entity-time-usage” u 45 SPM špagetové báze. V výstupu nahoře, hra vám říká, kde je většina času strávena, a ze začátku mě zmátlo, že hra tráví většinu času na Electric Network. Mé očekávání by bylo, že Fluid Manager by bylo nejhorší pro výkon, ale místo toho, Electric Network (~10ms) využívá přes 70% času aktualizace (~13.7ms), a Fluid Manager (~0.03ms) nevypadá, že něco vůbec dělá. Toto nedává žádný smysl, protože jsem čekal počet výpočtů tekutin mnohem vyšší. Podíval jsem se na fóra technického Factoria, kde lidé posouvají hranice Factoria. Zde mi briliantní matematik SteveTrov vysvětlil, proč časové využití hry může být mylné polkud nevíte jak jsou časové výpočty implementovány. Popsal je takto: Jako první, časové využití hry je mylné, protože výpočty tekutiny a elektřiny běží parallelně. Toto je zhruba co se většinou děje: Výpočty elektrické sítě začají a časovač elektrických sítí začne Updaty teploty začnou Několik výpočtů tekutin začne Když časovač elektřiny skončí, čas je zapsán pod aktualizací elektrických sítí. Časovač aktualizací tekutin efektivně začne Až všechny výpočty tekutin přestanou (což se většinou stane před krokem 4), časovač výpočtů tekutin je zastaven Efekt zde je, že časovač aktualizací tekutin je skoro vždy nízký. Firstly, the time usage stats are confusing because the fluid and electric network update are run in parallel threads. This is roughly what happens most of the time: The electric network thread is started and the electric network update timer is started. The heat update thread is stated Multiple fluid update threads are started. When the electric update thread finishes the time used is recorded under electric network update. The fluid update timer is effectively started now. When the fluid threads have all finished (they normally do before step 4) the fluid update timer is stopped. So the effect of this is that the fluid update time is nearly always very low. — SteveTrov Toto esenciálně znamená, že časové využití výpočtů tekutin jsou zapleteny v časových výpočtech elektřiny a tepla. Není možné vypočítat správnou metriku pro to, jaká část trvá déle, bez změny Factoria samotného. Potřebuji najít jiný způsob, kterým zjistím pokud Electric Network doopravdy zabírá více času než Fluid Manager, a o kolik. UPS expert pod jménem flame_Sla poté navrhl, abych si stáhl Very Sleepy Profiler (Velice Ospalý Profilér), abych zjistil detailnější informace o tom, jaké funkce se v C++ kódu Factoria volají nejvíce. Jejich komunita často využívá tento nástroj, aby mohli optimalizovat největší megabáze na světě a nejefektivnější megabáse v rozměru UPS. Výstup tohoto nástroje lze vidět níže, s funkcemi které trvají nejdéle řazenými sestupně. flame_Sla také říkal, abychom se nekoukali na absolutní časy, ale místo toho to použili jako metriku pro největší pachatele snížení rychlosti hry. Výstup Velice Ospalého Profiléru, který běží na mé špagetové bázi s použitím Tekuté Energie. Napravo je množství volání instance vybrané funkce. Toto ukázalo něco, co jsem vůbec nečekal. Systém tekutiny (FluidSystem::update) byl v pouhé top desítce nejhorších funkcí, a elektrická síť pořád využívala více procesujícího času! Nakonec největší problém byla funkce FlowStatistics&lt;ID&lt;...&gt;...&gt;::onFlow, která je nejvíce volána elektrickou sítí. Tyto statistiky toku sbírají potřebná data pro shlédnutí herních grafů, například okno výroby elektřiny. To znamená, že hra nezpomaluje pouze kvůli novým výpočtům tekutin, ale také aby pozbírala informace pro kreslení grafů o nových elektrických sítích! Je velice pravděpodobné, že sbírání statistik Electric Network také může zabírat hodně času s Tekutou Elektřinou. Factorio je designované mít pouze pár elektrických sítí, nebo i pouze jednu. Hra musí sčítat a aktualizovat informace pro každou elektrickou síť kterou máte, což většinou je pouze pár rozdílných dat. Místo toho aby jste měli pouze pár síťí, Tekuté Elektřina je stavěna tak, že každý elektrický sloup má svou elektrickou síť. Factorio poté bude zkoušet sčítat statistiky pro zhruba 3000 elektrických sítí v mé testovací hře! To je minimálně stokrát více sítí, než pro co je Factorio designováno. Toto byla známá limitace pro mnoho módů, ale Tekutá Elektřina toto bere do nových extrémů. Na druhou stranu ale ještě nevíme dopad těchto výpočtů relativně k výpočtům tekutin. Je sběr statistik tak náročný, než samotné výpočty tekutin? flame_Sla řekl, že se mu jednou podařilo změrit časové využití tekutinových výpočtů na celosvětově největší megabázi, a prý že používalo pouhých 0.4ms pro 40KSPM 60UPS megabázi! To znamená, že pouhých 2.5% času na aktualizacích bylo stráveno na výpočtech tekutin! Způsobem, kterým izoloval výpočty tekutin od elektrických sítí kompletně eliminoval elektrické sítě z výpočtů. Tohoto docílil tím, že všechny stroje běžěly na dřevo, což znamenalo, že žádná elektřina nebyla použita a elektrická síť nic nedělala. Z metod jak Tekutá Elektřina funguje, nemohu lehce eliminovat efekt elektrických sítí stejným způsobem bez toho, aniž bych snížil výpočty tekutin, ale jsem schopen to obrátit na druhou stranu! Jsem schopen odstranit všechny komponenty týkající se tekutin, a místo jich použít EEI, které jsou schopny vyrábět nebo používat elektřinu. Toto bude čistě eliminovat všechny komponenty tekutin, bez toho aniž by se snížilo napětí na elektrickou síť, což je docíleno tím, že továrna běží jako normálně. Abychom mohli zapsat správný výsledek, snažil jsem se, aby Factorio běžělo pouze na jednom jádru. Spustil jsem rychlý skript, který změnil skryté komponenty tekutin zpoza elektrichých sloupů pro tento test a výsledky jsou následující:   Začátek Modifikováno Rozdíl Výpočty elektřiny 9.3ms 9.2ms 0.1ms Výpočty tepla 0.03ms 0.03ms 0ms Výpočty tekutin 0.13ms 0.08ms 0.05ms Součet 9.46ms 9.31ms 0.15ms Tabulka ukazující časovací výsledky nemodifikovaných výsledků oproti výsledku, kde všechny komponenty tekutin byly odstraněny Toto ukazuje, že všechny extra výpočty tekutin z módu Tekutá Elektřina trvají zhruba ~0.15ms! Toto číslo nejspíše není přesné, protože je to v rozhledu ruchu pro špagetovou bázi, test není ideální, a měření času v paralelních vláknech není přesné. Dává nám to ale dobrou indikaci, kam většina procesujícího času jde. Toto ukazuje, že elektrická síť má zdaleka největší dopad na výkon, zatímco výpočty tekutin jsou zanedbatelné. Také to dovoluje přemýšlet, co by se stalo, kdyby elektrická síť nemusela bezdůvodně sbírat statistiky - možná by jsme viděli megabáze Tekuté Energie s gigantickými transformátory vedle nukleárních reaktorů a masivních polí solárních panelů. Se vším všudy, Tekutá Elektřina má mnohem lepší výkon, než jsem čekal. Jakékoli viditelná zpomalení jsou nejspíše od mnohých elektrických sítí, které sbírají statistiky, a ne od samotných komponentů tekutin. Nejspíše budete schopni odpálit raketu bez toho, aniž by jste měli UPS pod 60. Také budete asi možni postavit docela větší bázi, pokud budete mít efektivní rozložení (byl jsem schopen dosáhnout 90SPM na 220 UPS!), a mód nebude nutně demolovat vaše UPS, jak Rseding91 řekl. Factorio je naštěstí vysoce optimalizováno, i když neběží, jak bylo myšleno. Toto dokazuje, že Tekutá Elektřina je definitivně hratelná z ohledu výkonu - ale to není jediný aspekt, který se počítá. Měli by jste si zahrát? Osobně si myslím, že Tekutá Elektřina vytváří velmi zábavnou výzvu. Možná to není pro vás, pokud chcete stavět velkou megabázi, ale pokud si chcete záhrát zajímavou, dobrodružnou hru s novými výzvami, myslím si, že tento mód je přesně pro vás. Hodně jsem si užil překonávání překážek, které jsou vytvořeny novým stylem hraní. Například, stroje nejdále od vašich parních strojů se vypnou jako první, což jsou většinou elektrické těžební stroje, které těží uhlí pro vaše elektrické boilery. Nikdy v minulosti jsem si nezahrál takovou unikátní spirálu smrti. Nebo pokud budete bránit vaše zdi s elektrickými věžmi, budete muset zajistit dostatek transformátorů s dostatečným napětím. Moje nejoblíběnější část tohoto módu ale je fakt, že vím, že doopravdová elektřina teče zkrz elektrické vedení. Jste schopni sami vidět vlny nedostatků elektřiny zkrz vaše stroje, když vaše báze konzumuje příliš energie, napřiklad když moc elektrickžch věží páli najednou. Je to podobný pocit, který dostávám, když se podívám na obvod, který jsem nadesignoval, s tím, že vím, že funguje kvůli tekutosti elektronů zkrz měď a silikon. Staví na pocitu, že vidíte komplexní sítě pásů, které spolupracují, aby postavily raketu. Bázi to dává pocit životnosti. Jste vlastně schopni vidět její stabilní tlukot srdce, a je to velmi uspokojující. Přispívání Jako vždy, hledáme lidi, kteří by chtěli přispět do Alt-F4, ať už příspěvem článku, nebo pomáháním s překlady. Pokud máte něco zajímavého na mysli a chtěli by jste se podělit s komunitou upraveným způsobem, toto je místo, kde můžete učinit. Pokud si nejse úplně jisti o tom, rádi vám pomůžeme diskuzí nápadů a strukturací otázek. Pokud se vám to líbí, přidejte se na Discord aby jste začali!">
<link rel="canonical" href="https://alt-f4.blog/cs/ALTF4-52/">
<meta property="og:url" content="https://alt-f4.blog/ALTF4-52/">
<meta property="og:site_name" content="Alternative Friday Factorio Fan Facts">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-11-12T00:00:00+00:00">
<script type="application/ld+json">
{"dateModified":"2021-11-12T00:00:00+00:00","datePublished":"2021-11-12T00:00:00+00:00","author":{"@type":"Person","name":"stringweasel"},"description":"Pro naše 52. vydání, stringweasel se vrácí pro druhou část Experimentu Tekutá Elektřina, ve které ukáže docela překvapující rychlostní dopady jeho výtvoru! Pokud se vám líbíl článek minulý týden, bude se vám líbit i druhá část tento týden. Jak milé překvapení! Experiment Tekuté Elektřiny: Část Druhá stringweasel Co to vlastně je? V článku minulého týdne, mluvil jsem o historii změn módech o změnách v Factorio systému elektřiny a jak fungovaly, poté jsem vysvětlil svůj vlastní mód pod jménem Tekutá Elektřina. Doporučuji, aby jste si přečetli článek minulého týdne, ale v základě, změnil jsem distribuci elektřiny v Factoriu aby byla realističtější tím, že jsem ji simuloval jako tekutinu - s použitím již existujících mechanik tekutiny. Toto znamená, že potřebujete používat transformátory, aby jste snížili redukci napětí přes delší vzdálenosti. Také to ale znamená, že je těžší zásobovat laserové věžě elektřinou aby běžely na 100%, nebo používat továrny s mnoha majáky. &lt;/source&gt; Příklad kousačů, kteří útočí na základnu s “show-fluid-box-info” zapnutým. Zelený pruh ukazuje množství tekutiny a modrý ukazuje rychlost tekutiny. Všimněte si, jak se laserové věžě občas vypínají, Příklad kousačů, kteří útočí na základnu s “show-fluid-box-info” zapnutým. Zelený pruh ukazuje množství tekutiny a modrý ukazuje rychlost tekutiny. Všimněte si, jak se laserové věžě občas vypínají, Typto nové limitace znamenají, že Tekutá Elektřina dosáhla svého cíle vytváření nové, realistické herní mechaniky, která je blíže reálné elektřině. Také to ale s sebou nese horší následky pro rychlost simulace hry s těmi všemy novými kalkulacemi. Nechtěl jsem na modový portál dát mód, který by váš počítač kompletně zastavil, pokud by jste postavili průměrnou továrnu. Proto jsem se rozhodl udělat svůj vlastní výzkum. Mají nové simulace tekutin vůbec znatelný dopad? Je to hratelné? Je důvod, proč Factorio implementuje elektřinu, kterým je. Dovoluje nám stavět absolutně masivní továrny v takových velikostech, že se v nich ztratíte. Přídavek realističtější energie by mohl viditelně snížit výkon hry až tak, že by jste museli stavět mnohem menší továrny, a to nikdo nechce. Otázka tedy zní: Co by byl výkon Factoria, kdyby byla tekutina tekoucí zkrz každý elektrický sloup? Potřeboval jsem mapu na stavbu, a proto jsem se rozhodl postavic novou bázi s Tekutou Elektřinou s pomocí kamaráda JanKrater. Můj cíl pro tuto bázi byl vymyslet nejefektivnější způsob, jak ji postavit, a poté udělat pravý opak (ve většině případech). Toto mě nechalo s špagetovou bází s až moc elektrickými sloupy, zašněrovanými pásy, a až moc hladových laserových věží. Jako nejdůležitější, dokáže vyrábět 45 vědy za minutu, a využívá zhruba 600 MW, s ani jedním modulem efektivity v dohledu. Testovací špagetová báze, běžící na 45 SPM. Normálně, Factorio běží zhruba na 60 aktualizacích za sekundu (nazíváno UPS), a byl jsem schopen tuto bázi spustit na 70 UPS na mém starším počítači (i7-4770k 3.5GHz CPU, DDR3-1600MHz RAM). Toto znamená, že trvalo pouhých ~14ms, aby se celá báze zaktualizovala, čemuž se říká jeden tik, kde 60 UPS je maximální hodnota, kde pro jeden tik je maximální doba aktualizace 1/60 = ~16.6ms. Toto číslo je také ukázáno pod “show-time-usage” debug výstupem. Zajímavě, toto ukazuje že můj mód (mod-FluidicPower) má nepatrný dopad na hru (~0.05ms). Toto je ale nejspíše možné, protože můj mód sám nedělá mnoho výpočtů, ale přenechává je na hře samotné, která je mnohem optimalizovanější. Hlavní informace o časové době jsou v Fluid Manager a Electric Network. Herní informace z “show-time-usage” a “show-entity-time-usage” u 45 SPM špagetové báze. V výstupu nahoře, hra vám říká, kde je většina času strávena, a ze začátku mě zmátlo, že hra tráví většinu času na Electric Network. Mé očekávání by bylo, že Fluid Manager by bylo nejhorší pro výkon, ale místo toho, Electric Network (~10ms) využívá přes 70% času aktualizace (~13.7ms), a Fluid Manager (~0.03ms) nevypadá, že něco vůbec dělá. Toto nedává žádný smysl, protože jsem čekal počet výpočtů tekutin mnohem vyšší. Podíval jsem se na fóra technického Factoria, kde lidé posouvají hranice Factoria. Zde mi briliantní matematik SteveTrov vysvětlil, proč časové využití hry může být mylné polkud nevíte jak jsou časové výpočty implementovány. Popsal je takto: Jako první, časové využití hry je mylné, protože výpočty tekutiny a elektřiny běží parallelně. Toto je zhruba co se většinou děje: Výpočty elektrické sítě začají a časovač elektrických sítí začne Updaty teploty začnou Několik výpočtů tekutin začne Když časovač elektřiny skončí, čas je zapsán pod aktualizací elektrických sítí. Časovač aktualizací tekutin efektivně začne Až všechny výpočty tekutin přestanou (což se většinou stane před krokem 4), časovač výpočtů tekutin je zastaven Efekt zde je, že časovač aktualizací tekutin je skoro vždy nízký. Firstly, the time usage stats are confusing because the fluid and electric network update are run in parallel threads. This is roughly what happens most of the time: The electric network thread is started and the electric network update timer is started. The heat update thread is stated Multiple fluid update threads are started. When the electric update thread finishes the time used is recorded under electric network update. The fluid update timer is effectively started now. When the fluid threads have all finished (they normally do before step 4) the fluid update timer is stopped. So the effect of this is that the fluid update time is nearly always very low. — SteveTrov Toto esenciálně znamená, že časové využití výpočtů tekutin jsou zapleteny v časových výpočtech elektřiny a tepla. Není možné vypočítat správnou metriku pro to, jaká část trvá déle, bez změny Factoria samotného. Potřebuji najít jiný způsob, kterým zjistím pokud Electric Network doopravdy zabírá více času než Fluid Manager, a o kolik. UPS expert pod jménem flame_Sla poté navrhl, abych si stáhl Very Sleepy Profiler (Velice Ospalý Profilér), abych zjistil detailnější informace o tom, jaké funkce se v C++ kódu Factoria volají nejvíce. Jejich komunita často využívá tento nástroj, aby mohli optimalizovat největší megabáze na světě a nejefektivnější megabáse v rozměru UPS. Výstup tohoto nástroje lze vidět níže, s funkcemi které trvají nejdéle řazenými sestupně. flame_Sla také říkal, abychom se nekoukali na absolutní časy, ale místo toho to použili jako metriku pro největší pachatele snížení rychlosti hry. Výstup Velice Ospalého Profiléru, který běží na mé špagetové bázi s použitím Tekuté Energie. Napravo je množství volání instance vybrané funkce. Toto ukázalo něco, co jsem vůbec nečekal. Systém tekutiny (FluidSystem::update) byl v pouhé top desítce nejhorších funkcí, a elektrická síť pořád využívala více procesujícího času! Nakonec největší problém byla funkce FlowStatistics&lt;ID&lt;...&gt;...&gt;::onFlow, která je nejvíce volána elektrickou sítí. Tyto statistiky toku sbírají potřebná data pro shlédnutí herních grafů, například okno výroby elektřiny. To znamená, že hra nezpomaluje pouze kvůli novým výpočtům tekutin, ale také aby pozbírala informace pro kreslení grafů o nových elektrických sítích! Je velice pravděpodobné, že sbírání statistik Electric Network také může zabírat hodně času s Tekutou Elektřinou. Factorio je designované mít pouze pár elektrických sítí, nebo i pouze jednu. Hra musí sčítat a aktualizovat informace pro každou elektrickou síť kterou máte, což většinou je pouze pár rozdílných dat. Místo toho aby jste měli pouze pár síťí, Tekuté Elektřina je stavěna tak, že každý elektrický sloup má svou elektrickou síť. Factorio poté bude zkoušet sčítat statistiky pro zhruba 3000 elektrických sítí v mé testovací hře! To je minimálně stokrát více sítí, než pro co je Factorio designováno. Toto byla známá limitace pro mnoho módů, ale Tekutá Elektřina toto bere do nových extrémů. Na druhou stranu ale ještě nevíme dopad těchto výpočtů relativně k výpočtům tekutin. Je sběr statistik tak náročný, než samotné výpočty tekutin? flame_Sla řekl, že se mu jednou podařilo změrit časové využití tekutinových výpočtů na celosvětově největší megabázi, a prý že používalo pouhých 0.4ms pro 40KSPM 60UPS megabázi! To znamená, že pouhých 2.5% času na aktualizacích bylo stráveno na výpočtech tekutin! Způsobem, kterým izoloval výpočty tekutin od elektrických sítí kompletně eliminoval elektrické sítě z výpočtů. Tohoto docílil tím, že všechny stroje běžěly na dřevo, což znamenalo, že žádná elektřina nebyla použita a elektrická síť nic nedělala. Z metod jak Tekutá Elektřina funguje, nemohu lehce eliminovat efekt elektrických sítí stejným způsobem bez toho, aniž bych snížil výpočty tekutin, ale jsem schopen to obrátit na druhou stranu! Jsem schopen odstranit všechny komponenty týkající se tekutin, a místo jich použít EEI, které jsou schopny vyrábět nebo používat elektřinu. Toto bude čistě eliminovat všechny komponenty tekutin, bez toho aniž by se snížilo napětí na elektrickou síť, což je docíleno tím, že továrna běží jako normálně. Abychom mohli zapsat správný výsledek, snažil jsem se, aby Factorio běžělo pouze na jednom jádru. Spustil jsem rychlý skript, který změnil skryté komponenty tekutin zpoza elektrichých sloupů pro tento test a výsledky jsou následující:   Začátek Modifikováno Rozdíl Výpočty elektřiny 9.3ms 9.2ms 0.1ms Výpočty tepla 0.03ms 0.03ms 0ms Výpočty tekutin 0.13ms 0.08ms 0.05ms Součet 9.46ms 9.31ms 0.15ms Tabulka ukazující časovací výsledky nemodifikovaných výsledků oproti výsledku, kde všechny komponenty tekutin byly odstraněny Toto ukazuje, že všechny extra výpočty tekutin z módu Tekutá Elektřina trvají zhruba ~0.15ms! Toto číslo nejspíše není přesné, protože je to v rozhledu ruchu pro špagetovou bázi, test není ideální, a měření času v paralelních vláknech není přesné. Dává nám to ale dobrou indikaci, kam většina procesujícího času jde. Toto ukazuje, že elektrická síť má zdaleka největší dopad na výkon, zatímco výpočty tekutin jsou zanedbatelné. Také to dovoluje přemýšlet, co by se stalo, kdyby elektrická síť nemusela bezdůvodně sbírat statistiky - možná by jsme viděli megabáze Tekuté Energie s gigantickými transformátory vedle nukleárních reaktorů a masivních polí solárních panelů. Se vším všudy, Tekutá Elektřina má mnohem lepší výkon, než jsem čekal. Jakékoli viditelná zpomalení jsou nejspíše od mnohých elektrických sítí, které sbírají statistiky, a ne od samotných komponentů tekutin. Nejspíše budete schopni odpálit raketu bez toho, aniž by jste měli UPS pod 60. Také budete asi možni postavit docela větší bázi, pokud budete mít efektivní rozložení (byl jsem schopen dosáhnout 90SPM na 220 UPS!), a mód nebude nutně demolovat vaše UPS, jak Rseding91 řekl. Factorio je naštěstí vysoce optimalizováno, i když neběží, jak bylo myšleno. Toto dokazuje, že Tekutá Elektřina je definitivně hratelná z ohledu výkonu - ale to není jediný aspekt, který se počítá. Měli by jste si zahrát? Osobně si myslím, že Tekutá Elektřina vytváří velmi zábavnou výzvu. Možná to není pro vás, pokud chcete stavět velkou megabázi, ale pokud si chcete záhrát zajímavou, dobrodružnou hru s novými výzvami, myslím si, že tento mód je přesně pro vás. Hodně jsem si užil překonávání překážek, které jsou vytvořeny novým stylem hraní. Například, stroje nejdále od vašich parních strojů se vypnou jako první, což jsou většinou elektrické těžební stroje, které těží uhlí pro vaše elektrické boilery. Nikdy v minulosti jsem si nezahrál takovou unikátní spirálu smrti. Nebo pokud budete bránit vaše zdi s elektrickými věžmi, budete muset zajistit dostatek transformátorů s dostatečným napětím. Moje nejoblíběnější část tohoto módu ale je fakt, že vím, že doopravdová elektřina teče zkrz elektrické vedení. Jste schopni sami vidět vlny nedostatků elektřiny zkrz vaše stroje, když vaše báze konzumuje příliš energie, napřiklad když moc elektrickžch věží páli najednou. Je to podobný pocit, který dostávám, když se podívám na obvod, který jsem nadesignoval, s tím, že vím, že funguje kvůli tekutosti elektronů zkrz měď a silikon. Staví na pocitu, že vidíte komplexní sítě pásů, které spolupracují, aby postavily raketu. Bázi to dává pocit životnosti. Jste vlastně schopni vidět její stabilní tlukot srdce, a je to velmi uspokojující. Přispívání Jako vždy, hledáme lidi, kteří by chtěli přispět do Alt-F4, ať už příspěvem článku, nebo pomáháním s překlady. Pokud máte něco zajímavého na mysli a chtěli by jste se podělit s komunitou upraveným způsobem, toto je místo, kde můžete učinit. Pokud si nejse úplně jisti o tom, rádi vám pomůžeme diskuzí nápadů a strukturací otázek. Pokud se vám to líbí, přidejte se na Discord aby jste začali!","mainEntityOfPage":{"@type":"WebPage","@id":"https://alt-f4.blog/ALTF4-52/"},"url":"https://alt-f4.blog/ALTF4-52/","@type":"BlogPosting","headline":"Alt-F4 #52 - Rychlost Tekuté Elektřiny","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
	

	
	  <meta property="og:image" content="https://alt-f4.blog/assets/ALTF4/52/thumbnail.jpg">
	  <meta name="twitter:image" content="https://alt-f4.blog/assets/ALTF4/52/thumbnail.jpg">
	

	<!-- CSS & fonts -->
	<link href="/cs/assets/GLOBAL/css/titillium-web.css" rel="stylesheet">
	<link rel="stylesheet" href="/cs/assets/GLOBAL/css/style.css">
	<link rel="stylesheet" href="/cs/assets/GLOBAL/css/spidertron.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.css" rel="stylesheet" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,400italic%7CSignika:700,300,400,600" rel="stylesheet" type="text/css">

	<link href="/cs/assets/GLOBAL/img/favicon.ico" rel="icon" type="image/x-icon">
	<link href="/cs/assets/GLOBAL/img/favicon.ico" rel="shortcut icon" type="image/x-icon">

	<!-- RSS -->
	<link href="/cs/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed">

	<script src="/assets/GLOBAL/js/spidertron.js"></script>
	<script src="/assets/GLOBAL/js/localization.js"></script>
	<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
</head>


  <body>
    <!-- Navigation Bar -->
    <nav id="top" class="top-bar">
	<div class="top-bar-inner flex flex-space-between">
		<div class="sites links flex">
			<a href="/cs/" class="sites-current">
				<div id="navbar-logo" role="img" aria-label="Alt-F4 Logo"></div>
			</a>
			<a href="https://alt-f4.blog/cs/discord" class="">Discord</a>
			<span class="separator">|</span>
			<a href="https://factorio.com/blog" class="">FFF</a>
		</div>
		<div class="sites links flex hide-tag-line">
			<em>Komunitou tvořené pokračování našich milovaných "Factorio Friday Facts"</em>
		</div>
		<div class="dropdown flex-end">
			<a class="button flex flex-space-between" href="#">
				<i class="fas fa-language"></i>
			</a>
			<div class="submenu">
				
				<a class="button lang-button" href="/../ALTF4-52/" onclick="setLanguage('en')">English</a>
				
				<a class="button button-green lang-button" href="/cs/ALTF4-52/" onclick="setLanguage('cs')">Čeština</a>
				
				<a class="button lang-button" href="/de/ALTF4-52/" onclick="setLanguage('de')">Deutsch</a>
				
				<a class="button lang-button" href="/es/ALTF4-52/" onclick="setLanguage('es')">Español</a>
				
				<a class="button lang-button" href="/fr/ALTF4-52/" onclick="setLanguage('fr')">Français</a>
				
				<a class="button lang-button" href="/it/ALTF4-52/" onclick="setLanguage('it')">Italiano</a>
				
				<a class="button lang-button" href="/nl/ALTF4-52/" onclick="setLanguage('nl')">Nederlands</a>
				
				<a class="button lang-button" href="/pt-br/ALTF4-52/" onclick="setLanguage('pt-br')">Português Brasileiro</a>
				
				<a class="button lang-button" href="/ru/ALTF4-52/" onclick="setLanguage('ru')">Русский</a>
				
				<a class="button lang-button" href="/zh/ALTF4-52/" onclick="setLanguage('zh')">中文</a>
				
			</div>
		</div>
	</div>
</nav>


    <!-- Main content -->
    <div class="container">
      <div class="container-inner">
        <div class="small-center"></div>
        <!-- Posts -->
        <article class="panel blog-post">
	
	<h1 class="page-title-headder">Alt-F4 #52 - Rychlost Tekuté Elektřiny  <author>12-11-2021</author>
</h1>
	
	
	<div class="panel-inset mb0">
		
Napsal <em>stringweasel</em>,



upravil <em>Nanogamer7, Conor_, Therenas, Firerazer, MyNameIsTrez</em>,



<br>přeložil <em>oof2win2</em>






	</div>
	
	<div class="panel-inset-lighter mt0">
		<div class="post-header">
  <div class="panel">
    <div class="outer">
      <img class="inner" src="/assets/ALTF4/52/thumbnail.jpg" alt="" style="margin: 1px;">
    </div>
  </div>
  <details class="panel toc">
    <summary>
      <h2>Obsah</h2>
    </summary>
    <div class="panel-inset mb0">
      <ul>
  <li>
<a href="#experiment-tekut%C3%A9-elekt%C5%99iny-%C4%8D%C3%A1st-druh%C3%A1-stringweasel">Experiment Tekuté Elektřiny: Část Druhá <author>stringweasel</author></a>
    <ul>
      <li><a href="#co-to-vlastn%C4%9B-je">Co to vlastně je?</a></li>
      <li><a href="#je-to-hrateln%C3%A9">Je to hratelné?</a></li>
      <li><a href="#m%C4%9Bli-by-jste-si-zahr%C3%A1t">Měli by jste si zahrát?</a></li>
    </ul>
  </li>
  <li><a href="#p%C5%99isp%C3%ADv%C3%A1n%C3%AD">Přispívání</a></li>
</ul>

    </div>
  </details>
</div>




<p>Pro naše 52. vydání, <em>stringweasel</em> se vrácí pro druhou část <a href="https://alt-f4.blog/cs/ALTF4-51/">Experimentu Tekutá Elektřina</a>, ve které ukáže docela překvapující rychlostní dopady jeho výtvoru! Pokud se vám líbíl článek minulý týden, bude se vám líbit i druhá část tento týden. Jak milé překvapení!</p>
      <h2 id="experiment-tekuté-elektřiny-část-druhá-stringweasel">
        
        
            <a href="#experiment-tekut%C3%A9-elekt%C5%99iny-%C4%8D%C3%A1st-druh%C3%A1-stringweasel" class="anchor" style="text-decoration: none;">Experiment </a><a href="https://mods.factorio.com/mod/FluidicPower">Tekuté Elektřiny</a>: Část Druhá <author>stringweasel</author>
          
        
      </h2>
    
      <h3 id="co-to-vlastně-je">
        
        
            <a href="#co-to-vlastn%C4%9B-je" class="anchor" style="text-decoration: none;">Co to vlastně je?</a>
          
        
      </h3>
    

<p>V <a href="https://alt-f4.blog/cs/ALTF4-51/">článku minulého týdne</a>, mluvil jsem o historii změn módech o změnách v Factorio systému elektřiny a jak fungovaly, poté jsem vysvětlil svůj vlastní mód pod jménem Tekutá Elektřina. Doporučuji, aby jste si přečetli článek minulého týdne, ale v základě, změnil jsem distribuci elektřiny v Factoriu aby byla realističtější tím, že jsem ji simuloval jako tekutinu - s použitím již existujících mechanik tekutiny. Toto znamená, že potřebujete používat transformátory, aby jste snížili redukci napětí přes delší vzdálenosti. Také to ale znamená, že je těžší zásobovat laserové věžě elektřinou aby běžely na 100%, nebo používat továrny s mnoha majáky.</p>

<p>
  <figure>
    <video class="media" width="100%" height="100%" style="max-width: ; max-height: " playsinline="" autoplay="" muted="" loop="" controls="">
      <source src="https://media.alt-f4.blog/ALTF4/52/biters-attack.mp4" type="video/mp4"></source>
      &lt;/source&gt;
      <!-- <source src="movie.ogg" type="video/webm"> -->
      <!-- <source src="movie.ogg" type="video/ogg"> -->
      Příklad kousačů, kteří útočí na základnu s “show-fluid-box-info” zapnutým. Zelený pruh ukazuje množství tekutiny a modrý ukazuje rychlost tekutiny. Všimněte si, jak se laserové věžě občas vypínají,
    </video>
    <figcaption>Příklad kousačů, kteří útočí na základnu s “show-fluid-box-info” zapnutým. Zelený pruh ukazuje množství tekutiny a modrý ukazuje rychlost tekutiny. Všimněte si, jak se laserové věžě občas vypínají,</figcaption>
  </figure>
</p>

<p>Typto nové limitace znamenají, že Tekutá Elektřina dosáhla svého cíle vytváření nové, realistické herní mechaniky, která je blíže reálné elektřině. Také to ale s sebou nese horší následky pro rychlost simulace hry s těmi všemy novými kalkulacemi. Nechtěl jsem na modový portál dát mód, který by váš počítač kompletně zastavil, pokud by jste postavili průměrnou továrnu. Proto jsem se rozhodl udělat svůj vlastní výzkum. Mají nové simulace tekutin vůbec znatelný dopad?</p>
      <h3 id="je-to-hratelné">
        
        
            <a href="#je-to-hrateln%C3%A9" class="anchor" style="text-decoration: none;">Je to hratelné?</a>
          
        
      </h3>
    

<p>Je důvod, proč Factorio implementuje elektřinu, kterým je. Dovoluje nám stavět <a href="https://forums.factorio.com/viewtopic.php?f=204&t=60816">absolutně masivní továrny</a> v takových velikostech, že se v nich ztratíte. Přídavek realističtější energie by mohl viditelně snížit výkon hry až tak, že by jste museli stavět mnohem menší továrny, a to nikdo nechce. Otázka tedy zní: Co by byl výkon Factoria, kdyby byla tekutina tekoucí zkrz každý elektrický sloup? Potřeboval jsem mapu na stavbu, a proto jsem se rozhodl postavic novou bázi s Tekutou Elektřinou s pomocí kamaráda JanKrater.</p>

<p>Můj cíl pro tuto bázi byl vymyslet nejefektivnější způsob, jak ji postavit, a poté udělat pravý opak (ve většině případech). Toto mě nechalo s špagetovou bází s až moc elektrickými sloupy, zašněrovanými pásy, a až moc hladových laserových věží. Jako nejdůležitější, dokáže vyrábět 45 vědy za minutu, a využívá zhruba 600 MW, s ani jedním modulem efektivity v dohledu.</p>

<figure>
		<div class="aspect-ratio">
			<iframe src="https://media.alt-f4.blog/ALTF4/52/fluidicpower/index.html?x=-5.2&y=-11.4&z=2" frameborder="0"></iframe>
		</div>
		<figcaption>Testovací špagetová báze, běžící na 45 SPM.</figcaption>
</figure>

<p>Normálně, Factorio běží zhruba na 60 aktualizacích za sekundu (nazíváno UPS), a byl jsem schopen tuto bázi spustit na 70 UPS na mém starším počítači (i7-4770k 3.5GHz CPU, DDR3-1600MHz RAM). Toto znamená, že trvalo pouhých <code class="language-plaintext highlighter-rouge">~14ms</code>, aby se celá báze zaktualizovala, čemuž se říká jeden tik, kde 60 UPS je maximální hodnota, kde pro jeden tik je maximální doba aktualizace <code class="language-plaintext highlighter-rouge">1/60 = ~16.6ms</code>. Toto číslo je také ukázáno pod “show-time-usage” debug výstupem. Zajímavě, toto ukazuje že můj mód (<code class="language-plaintext highlighter-rouge">mod-FluidicPower</code>) má nepatrný dopad na hru (<code class="language-plaintext highlighter-rouge">~0.05ms</code>). Toto je ale nejspíše možné, protože můj mód sám nedělá mnoho výpočtů, ale přenechává je na hře samotné, která je mnohem optimalizovanější. Hlavní informace o časové době jsou v <code class="language-plaintext highlighter-rouge">Fluid Manager</code> a <code class="language-plaintext highlighter-rouge">Electric Network</code>.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/52/show-time-usage.jpg" alt="Herní informace z “show-time-usage” a “show-entity-time-usage” u 45 SPM špagetové báze." style="max-width: ; max-height:  ">
        
        <figcaption>Herní informace z “show-time-usage” a “show-entity-time-usage” u 45 SPM špagetové báze.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>V výstupu nahoře, hra vám říká, kde je většina času strávena, a ze začátku mě zmátlo, že hra tráví většinu času na <code class="language-plaintext highlighter-rouge">Electric Network</code>. Mé očekávání by bylo, že <code class="language-plaintext highlighter-rouge">Fluid Manager</code> by bylo nejhorší pro výkon, ale místo toho, <code class="language-plaintext highlighter-rouge">Electric Network</code> (<code class="language-plaintext highlighter-rouge">~10ms</code>) využívá přes 70% času aktualizace (<code class="language-plaintext highlighter-rouge">~13.7ms</code>), a <code class="language-plaintext highlighter-rouge">Fluid Manager</code> (<code class="language-plaintext highlighter-rouge">~0.03ms</code>) nevypadá, že něco vůbec dělá. Toto nedává žádný smysl, protože jsem čekal počet výpočtů tekutin mnohem vyšší. Podíval jsem se na fóra <a href="https://reddit.com/r/technicalfactorio">technického Factoria</a>, kde lidé posouvají hranice Factoria. Zde mi briliantní matematik SteveTrov vysvětlil, proč časové využití hry může být mylné polkud nevíte jak jsou časové výpočty implementovány. Popsal je takto:</p>

<div class="m0 h100 quote">
  <blockquote cite="">
    <div class="panel-inset-lighter ">
    
      <div class="translation">
        
<p>Jako první, časové využití hry je mylné, protože výpočty tekutiny a elektřiny běží parallelně. Toto je zhruba co se většinou děje:</p>

<ol>
  <li>Výpočty elektrické sítě začají a časovač elektrických sítí začne</li>
  <li>Updaty teploty začnou</li>
  <li>Několik výpočtů tekutin začne</li>
  <li>Když časovač elektřiny skončí, čas je zapsán pod aktualizací elektrických sítí. Časovač aktualizací tekutin efektivně začne</li>
  <li>Až všechny výpočty tekutin přestanou (což se většinou stane před krokem 4), časovač výpočtů tekutin je zastaven</li>
</ol>

<p>Efekt zde je, že časovač aktualizací tekutin je skoro vždy nízký.</p>

      </div>
      <span></span>
    
      <div class="original">
        
<p>Firstly, the time usage stats are confusing because the fluid and electric network update are run in parallel threads. This is roughly what happens most of the time:</p>

<ol>
  <li>The electric network thread is started and the electric network update timer is started.</li>
  <li>The heat update thread is stated</li>
  <li>Multiple fluid update threads are started.</li>
  <li>When the electric update thread finishes the time used is recorded under electric network update. The fluid update timer is effectively started now.</li>
  <li>When the fluid threads have all finished (they normally do before step 4) the fluid update timer is stopped.</li>
</ol>

<p>So the effect of this is that the fluid update time is nearly always very low.</p>

      </div>
    </div>
    <author>
    — <a href="https://discord.com/channels/579345487371567105/579346716243787782/855875612274851881">SteveTrov</a>
    </author>
  </blockquote>
</div>

<p>Toto esenciálně znamená, že časové využití výpočtů tekutin jsou zapleteny v časových výpočtech elektřiny a tepla. <a href="https://discord.com/channels/579345487371567105/579345487837003836/784493971824312340">Není možné</a> vypočítat správnou metriku pro to, jaká část trvá déle, bez změny Factoria samotného. Potřebuji najít jiný způsob, kterým zjistím pokud <code class="language-plaintext highlighter-rouge">Electric Network</code> doopravdy zabírá více času než <code class="language-plaintext highlighter-rouge">Fluid Manager</code>, a o kolik.</p>

<p>UPS expert pod jménem <a href="https://www.reddit.com/r/technicalfactorio/comments/ks2xtk/20k_spm_201000spm_belts_v30/">flame_Sla</a> poté navrhl, abych si stáhl <a href="http://www.codersnotes.com/sleepy/">Very Sleepy Profiler (Velice Ospalý Profilér)</a>, abych zjistil detailnější informace o tom, jaké funkce se v C++ kódu Factoria volají nejvíce. Jejich komunita často využívá tento nástroj, aby mohli optimalizovat největší megabáze na světě a nejefektivnější megabáse v rozměru UPS. Výstup tohoto nástroje lze vidět níže, s funkcemi které trvají nejdéle řazenými sestupně. <em>flame_Sla</em> také říkal, abychom se nekoukali na absolutní časy, ale místo toho to použili jako metriku pro největší pachatele snížení rychlosti hry.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/52/sleepy-cs-output.jpg" alt="Výstup Velice Ospalého Profiléru, který běží na mé špagetové bázi s použitím Tekuté Energie. Napravo je množství volání instance vybrané funkce." style="max-width: ; max-height:  ">
        
        <figcaption>Výstup Velice Ospalého Profiléru, který běží na mé špagetové bázi s použitím Tekuté Energie. Napravo je množství volání instance vybrané funkce.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Toto ukázalo něco, co jsem vůbec nečekal. Systém tekutiny (<code class="language-plaintext highlighter-rouge">FluidSystem::update</code>) byl v pouhé top desítce nejhorších funkcí, a elektrická síť <em>pořád</em> využívala více procesujícího času! Nakonec největší problém byla funkce <code class="language-plaintext highlighter-rouge">FlowStatistics&lt;ID&lt;...&gt;...&gt;::onFlow</code>, která je nejvíce volána elektrickou sítí. Tyto <a href="https://lua-api.factorio.com/latest/LuaFlowStatistics.html">statistiky toku</a> sbírají potřebná data pro shlédnutí herních grafů, například okno výroby elektřiny. To znamená, že hra nezpomaluje pouze kvůli novým výpočtům tekutin, ale také aby pozbírala informace pro kreslení grafů o nových elektrických sítích!</p>

<p>Je velice pravděpodobné, že sbírání statistik <code class="language-plaintext highlighter-rouge">Electric Network</code> také může zabírat hodně času s Tekutou Elektřinou. Factorio je designované mít pouze pár elektrických sítí, nebo i pouze jednu. Hra musí sčítat a aktualizovat informace pro každou elektrickou síť kterou máte, což většinou je pouze pár rozdílných dat. Místo toho aby jste měli pouze pár síťí, Tekuté Elektřina je stavěna tak, že <em>každý</em> elektrický sloup má svou elektrickou síť. Factorio poté bude zkoušet sčítat statistiky pro zhruba 3000 elektrických sítí v mé testovací hře! To je minimálně stokrát více sítí, než pro co je Factorio designováno. Toto byla známá limitace pro mnoho módů, ale Tekutá Elektřina toto bere do nových extrémů. Na druhou stranu ale ještě nevíme dopad těchto výpočtů <em>relativně</em> k výpočtům tekutin. Je sběr statistik tak náročný, než samotné výpočty tekutin?</p>

<p><em>flame_Sla</em> řekl, že se mu jednou podařilo změrit časové využití tekutinových výpočtů na celosvětově největší megabázi, a prý že používalo pouhých <code class="language-plaintext highlighter-rouge">0.4ms</code> pro <a href="https://www.reddit.com/r/factorio/comments/nmxayx/new_ups_record_40k_spm_60_ups_no_mods_details_in/">40KSPM 60UPS megabázi</a>! To znamená, že pouhých 2.5% času na aktualizacích bylo stráveno na výpočtech tekutin! Způsobem, kterým izoloval výpočty tekutin od elektrických sítí kompletně <em>eliminoval</em> elektrické sítě z výpočtů. Tohoto docílil tím, že <a href="https://discord.com/channels/579345487371567105/579346716243787782/825170120162148383">všechny stroje běžěly na dřevo</a>, což znamenalo, že žádná elektřina nebyla použita a elektrická síť nic nedělala. Z metod jak Tekutá Elektřina funguje, nemohu lehce eliminovat efekt elektrických sítí stejným způsobem bez toho, aniž bych snížil výpočty tekutin, ale jsem schopen to obrátit na druhou stranu! Jsem schopen odstranit všechny komponenty týkající se <em>tekutin</em>, a místo jich použít EEI, které jsou schopny vyrábět nebo používat elektřinu. Toto bude čistě eliminovat všechny komponenty tekutin, bez toho aniž by se snížilo napětí na elektrickou síť, což je docíleno tím, že továrna běží jako normálně. Abychom mohli zapsat správný výsledek, snažil jsem se, aby Factorio běžělo <a href="https://www.reddit.com/r/technicalfactorio/comments/mead38/how_to_turn_off_multithreading_to_get_more_useful/">pouze na jednom jádru</a>. Spustil jsem rychlý skript, který změnil skryté komponenty tekutin zpoza elektrichých sloupů pro tento test a výsledky jsou následující:</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>Začátek</th>
      <th>Modifikováno</th>
      <th>Rozdíl</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Výpočty elektřiny</td>
      <td>9.3ms</td>
      <td>9.2ms</td>
      <td>0.1ms</td>
    </tr>
    <tr>
      <td>Výpočty tepla</td>
      <td>0.03ms</td>
      <td>0.03ms</td>
      <td>0ms</td>
    </tr>
    <tr>
      <td>Výpočty tekutin</td>
      <td>0.13ms</td>
      <td>0.08ms</td>
      <td>0.05ms</td>
    </tr>
    <tr>
      <td><strong>Součet</strong></td>
      <td><strong>9.46ms</strong></td>
      <td><strong>9.31ms</strong></td>
      <td><strong>0.15ms</strong></td>
    </tr>
  </tbody>
</table>

<figcaption>Tabulka ukazující časovací výsledky nemodifikovaných výsledků oproti výsledku, kde všechny komponenty tekutin byly odstraněny</figcaption>

<p>Toto ukazuje, že <em>všechny</em> extra výpočty tekutin z módu Tekutá Elektřina trvají zhruba <code class="language-plaintext highlighter-rouge">~0.15ms</code>! Toto číslo nejspíše není přesné, protože je to v rozhledu ruchu pro špagetovou bázi, test není ideální, a měření času v paralelních vláknech není přesné. Dává nám to ale dobrou indikaci, kam většina procesujícího času jde. Toto ukazuje, že elektrická síť má zdaleka největší dopad na výkon, zatímco výpočty tekutin jsou zanedbatelné. Také to dovoluje přemýšlet, co by se stalo, kdyby elektrická síť nemusela bezdůvodně sbírat statistiky - možná by jsme viděli megabáze Tekuté Energie s gigantickými transformátory vedle nukleárních reaktorů a masivních polí solárních panelů.</p>

<p>Se vším všudy, Tekutá Elektřina má mnohem lepší výkon, než jsem čekal. Jakékoli viditelná zpomalení jsou nejspíše od mnohých elektrických sítí, které sbírají statistiky, a ne od samotných komponentů tekutin. Nejspíše budete schopni odpálit raketu bez toho, aniž by jste měli UPS pod 60. Také budete asi možni postavit docela větší bázi, pokud budete mít efektivní rozložení (byl jsem schopen dosáhnout 90SPM na 220 UPS!), a mód nebude nutně <em>demolovat</em> vaše UPS, jak <em>Rseding91</em> řekl. Factorio je naštěstí vysoce optimalizováno, i když neběží, jak bylo myšleno. Toto dokazuje, že Tekutá Elektřina je definitivně hratelná z ohledu výkonu - ale to není jediný aspekt, který se počítá.</p>
      <h3 id="měli-by-jste-si-zahrát">
        
        
            <a href="#m%C4%9Bli-by-jste-si-zahr%C3%A1t" class="anchor" style="text-decoration: none;">Měli by jste si zahrát?</a>
          
        
      </h3>
    

<p>Osobně si myslím, že <a href="https://mods.factorio.com/mod/FluidicPower">Tekutá Elektřina</a> vytváří velmi zábavnou výzvu. Možná to není pro vás, pokud chcete stavět velkou megabázi, ale pokud si chcete záhrát zajímavou, <a href="https://www.reddit.com/r/factorio/comments/qna0s7/comment/hjinkhd/">dobrodružnou hru</a> s novými výzvami, myslím si, že tento mód je přesně pro vás. Hodně jsem si užil překonávání překážek, které jsou vytvořeny novým stylem hraní. Například, stroje nejdále od vašich parních strojů se vypnou jako první, což jsou většinou elektrické těžební stroje, které těží <em>uhlí</em> pro vaše <em>elektrické boilery</em>. Nikdy v minulosti jsem si nezahrál takovou unikátní spirálu smrti. Nebo pokud budete bránit vaše zdi s elektrickými věžmi, budete muset zajistit dostatek transformátorů s dostatečným napětím.</p>

<p>Moje nejoblíběnější část tohoto módu ale je fakt, že vím, že doopravdová elektřina teče zkrz elektrické vedení. Jste schopni sami vidět vlny nedostatků elektřiny zkrz vaše stroje, když vaše báze konzumuje příliš energie, napřiklad když moc elektrickžch věží páli najednou. Je to podobný pocit, který dostávám, když se podívám na obvod, který jsem nadesignoval, s tím, že vím, že funguje kvůli tekutosti elektronů zkrz měď a silikon. Staví na pocitu, že vidíte komplexní sítě pásů, které spolupracují, aby postavily raketu. Bázi to dává pocit životnosti. Jste vlastně schopni vidět její stabilní tlukot srdce, a je to velmi uspokojující.</p>
      <h2 id="přispívání">
        
        
            <a href="#p%C5%99isp%C3%ADv%C3%A1n%C3%AD" class="anchor" style="text-decoration: none;">Přispívání</a>
          
        
      </h2>
    

<p>Jako vždy, hledáme lidi, kteří by chtěli přispět do Alt-F4, ať už příspěvem článku, nebo pomáháním s překlady. Pokud máte něco zajímavého na mysli a chtěli by jste se podělit s komunitou upraveným způsobem, toto je místo, kde můžete učinit. Pokud si nejse úplně jisti o tom, rádi vám pomůžeme diskuzí nápadů a strukturací otázek. Pokud se vám to líbí, přidejte se na <a href="https://alt-f4.blog/cs/discord">Discord</a> aby jste začali!</p>





<script>
  (() => {
    if (window.innerWidth >= 720) {
      document.getElementsByClassName('toc')[0].setAttribute('open', '')
    }
  })()

  var slideIndex = 1;
  showSlides(slideIndex);

  function plusSlides(n) {
    showSlides(slideIndex += n);
  }

  function currentSlide(n) {
    showSlides(slideIndex = n);
  }

  function showSlides(n) {
    var i;
    var slides = document.getElementsByClassName("galleryItem");
    var dots = document.getElementsByClassName("galleryPreview");
    var captionText = document.getElementById("caption");
    if (n > slides.length) { slideIndex = 1 }
    if (n < 1) { slideIndex = slides.length }
    for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
    }
    for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex - 1].style.display = "block";
    dots[slideIndex - 1].className += " active";
    captionText.innerHTML = dots[slideIndex - 1].alt;
  }
</script>

		
<div class="flex flex-column flex-items-center mt8">
  
  <a class="button-green-right m4" style="width: 16em;" href="https://forums.factorio.com/viewtopic.php?f=5&t=100594">
    Diskutujte na Factorio fórech
  </a>
  
  
  <a class="button-green-right m4" style="width: 16em;" href="https://www.reddit.com/r/factorio/comments/qsaza3/altf4_52_fluidic_power_benchmarking/">
    Diskutujte na Redditu
  </a>
  
  
  <a class="button-green-right m4" style="width: 16em;" href="https://alt-f4.blog/cs/discord">
    Diskutujte na Discordu
  </a>
  
</div>


	</div>
	<div class="panel-inset mb0 p4 flex">
		<div>
		<!-- Previous Button -->
		
		<a href="/cs/ALTF4-51/" class="button square-sm"><i class="fas fa-angle-double-left"></i></a>
		
		<a class="button square-sm" href="/cs/">
			<i class="fas fa-home"></i>
		</a>

		<!-- Next Button -->
		
		<a href="/cs/ALTF4-53/" class="button square-sm">
			<i class="fas fa-angle-double-right"></i>
		</a>
		
		</div>
	</div>
</article>

      </div>
    </div>


    <!-- Footer -->
    <footer class="footer">
  <div class="footer-inner panel">

    <div class="footer-links panel-inset slots p1 mt0 mb0">
      <a href="/cs/about" class="slot" title="About">
        <div class="slot-button">
          <i class="fas fa-info"></i>
        </div>
      </a>
      <a href="https://github.com/AlternativeFFFF/Alt-F4" class="slot" title="Github">
        <div class="slot-button">
          <i class="fab fa-github"></i>
        </div>
      </a>
      <a href="https://alt-f4.blog/cs/discord" class="slot" title="Discord">
        <div class="slot-button">
          <i class="fab fa-discord"></i>
        </div>
      </a>
      <a href="/cs/atom.xml" type="application/atom+xml" rel="alternate" class="slot" title="ATOM Feed">
        <div class="slot-button">
          <i class="fas fa-rss"></i>
        </div>
      </a>
      <a href="https://www.freelists.org/list/alt-f4" class="slot" title="Email Newsletter">
        <div class="slot-button">
          <i class="fas fa-envelope"></i>
        </div>
      </a>

      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
    </div>
    <div class="footer-rocket panel-inset m0">
      <div class="spidertron-center">
        <div id="spidertron" class="spidertron-home" data-spidertron-scale="0.6" data-spidertron-speed="400"></div>
      </div>
      <div class="shadow-overlay"></div>
      <div class="shadow-overlay-bottom"></div>
    </div>
    <div class="footer-copyright panel-inset m0">
      Tato webová stránka je čistě projektem fanoušků, není nijak přímo spojena s Wube Software
    </div>
  </div>
</footer>

  </body>

</html>
