<!DOCTYPE html>
<html lang="cs" class="cs">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Alt-F4 #33 - Vanilla: Protřepat, nemíchat</title>
	<!-- Meta -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v4.1.1">
<meta property="og:title" content="Alt-F4 #33 - Vanilla: Protřepat, nemíchat">
<meta name="author" content="Villfuk02, redlabel">
<meta property="og:locale" content="cs">
<meta name="description" content="V tomto skvělém #33. vydáním Alt-F4, Villfuk02 oznámí jejich nedávný módový výtvor: Znáhodňovač Receptů! Řekne o všech designových problémech, které musely být překročeny, aby mód byl opravdu dobrý. poté redlabel nám řekne o nejnovějším COMFY eventu, který bude nejspíše trochu vybuchující. Vanilla: Protřepat, nemíchat Villfuk02 Vill’s Recipe Randomizer (Villův Znáhodňovač Receptů) děla to, co by jste si z názvu mysleli - znáhodní recepty. Na první pohled, toto může znít jako stupidní, ale je to velmi lehký nápad. Pokud se ale budete snažit, aby to bylo méně stupidní, bude se to docela rychle komplikovat. Příklad továrny, která vyrábí vědecké balíčky produktivity z kapslí s rozptylovacími roboty, vypínačů a paliva pro plamenomet Jak to začalo Poprvé jsem na tomto projektu začal pracovat v září 2020. V té době jsem se pouze snažil vytvořit mód, který je obojí lehký a unikátní. Poté, co jsem narazil do několika problémů, věděl jsem moc dobře, že tento mód si nikdo nezahraje, vzdal jsem se a nikdy jsem už neprogramoval. Po dvou dalších selhaných pokusech jsem se vrátil zpět k Factoriu, tentokrát ale jako hráč. Hrál jsem vanillu, potom Industrial Revolution 2 (Industriální Revoluce 2), poté jsem zkusil Space Exploration (Průzkum vesmíru). Miloval jsem módy, které změnily celou hru, protože mi to dovolilo naučit se nové recepty, objevit nové layouty továren a řešit nové logistické problémy. Ale většina těchto módů jsou velmi těžké a jsem rychle znuzen. To jsem si uvědomil, že znáhodňovač receptů má doopravdy účel: Je to jako nekonečné množství módů s velkými změnami, zatímco vanilla pořád existuje! Největší bonus pro mě byl, že jsem nemusel vytvářet žádné nové přístroje nebo grafiky, protože je to pouze měnění číslic a písmen. Ne tak lehké jak to vypadá Tento mód by mohl lehce vzít každý recept a přidat mu náhodné itemy jako ingredience. Toto by bylo docela k ničemu, protože například, červené vědecké balíčky by mohly potřebovat nukleární palivo jako ingredienci, ale vy ho nebudete mít. Tak jsem módu řekl, aby šel zkrz strom technologií a pro každý recept který je odemčen, použít pouze itemy, které mohou být vzány předtím, jako potenciální ingredience. Ovšem existují výjmky v některých módech, kde můžete odemknout recept, dříve než ho jste schopni vyrobit, takže musím být více opatrný. Nejspíše by se vám nechtělo vyrábět podzemní pás z parních strojů a laboratoří. To by bylo moc drahé. Potřeboval jsem způsob, jak udělat recepty více balancovanějšími. Proto jsem se rozhodl implementovat algoritmus, který vyhodnotí počet surových materiálů na každý item. Můžeme lehce zpočítat, že jeden obvod stojí 1 železné rudy a 1.5 měděné rudy. 1.5 měděné rudy plus 1 železné rudy vytvoří jeden elektronický obvod Řekněmě, že elektronický obvod tedy má hodnotu 2.5. Znáhodňovač tedy ví, že může použít jeden pás (hodnota 1.5) a jednu měděnou rudu (1) jako nový recept na elektronické obvody. Je trochu variace v finálním výsledku. Přicá to trochu náhody, ale jako nejdůležitější, je mnohem lehčí najít validní kombinaci, což zrychluje proces znáhodnění. V tomto bodě, zveřejnil jsem mód a z zpětné vazby a trochu testování, bylo zřejmé, že existovalo mnoho bugů (ovšem) a dva “velké” problémy. Slovo velké je v uvozovkách, protože mód byl mnohem hratelnější, než by jste očekávali od znáhodňovače. Chtěl jsem aby si to hráči ale užili, ne jenom prožili Prvních pár problémů Prvním problémem bylo dřevo. Defaultní nastavení se ujistily, že dřevo nebylo znáhodněno, ale jak si můžete myslet, mnoho receptů používalo dřevěné elecktrické sloupy jako ingredienci! Jako si můžete myslet, oprava měla být byla docela lehká a nudná. Přidal jsem parametr pro nenáhodné suroviny, jako dřevo, a každý item, který potřebuje materiál s tímto parametrem ho dostane. Druhý problém byl, i když suroviny potřebovaly správné množství surovin, byly často moc komplexní a neférové. Mód nepočítal s množstvím montážních kroků nebo časem montáže. Skvělým příkladem by byly červené vědecké balíčky. Je velmi levný, protože má pouze hodnotu 3, ale trvá 5 sekund na výrobu. Byl použit v několika receptech, jako základní komponent, podobně k železným kolečkům. Dlouhá doba výroby znamenala, že budete potřebovat několik montoven na výrobu červených vědeckých balíčků pro něco lehkého jako podzemní pásy. Další problematický příklad je něco tak lehkého jako železná kolečka může potřebovat několik kroků, jako výroba z kamenných cihel, které jsou vyrobeny z železných tyčí, které by mohly být vyrobeny z trubek atd. Proto jsem nechal mód vypočítat druhou hodnotu, pojmenovanou náročnost, pro každý item. Komplexita vezme v potaz počet kroků na výrobu, počet ingrediencí (a výstupů) a také dobu výroby. Balancování surovin Vypadalo to, jako že bych měl perfektní znáhodňovač, ale ovšem, objevilo se několik problémů (a bugů). Často se stalo, že většina receptů používala primárně jednu surovinu (často železo nebo kámen), což bylo trochu nudné, protože jste museli objevovat hodně místa aby jste našli velká množství té rudy. Také, často nebyla nutná ropa k odpálení rakety. Pro daný recept, všechny validní itemy měly stejnou pravděpodobnost, aby se vybraly, takže všechny itemy z ropy měly nižší šanci na výběr, protože jich bylo tak málo. Zkoušel jsem pár strategií, aby algoritmus vybíral lepší recepty ale nic nefungovalo. Mohl jsem mu jednoduše říct, aby používal více plastu nebo tuhého paliva atd., ale co kdyby jste chtěli hrát s módy a bylo ještě více itemů na prioritizaci? Chtěl jsem univerzální řešení. Již jsem znal jeden způsob, jak by to mohlo fungovat, ale bál jsem se ho implementovat, protože by se všechno stalo mnohem více komplikovanějším. Toto znamená více pvývoje, víc bugů a potenciálně mnohem delší doby načítání. Potom co jsem zkusil mnohem lehčí cestu jak dosáhnout podobných výsledků, rozhodl jsem se jít s tímto komplikovaným řešením. Hlavní nápad byl použít počet surovin radši než totální hodnotu. Toto znamená, že mód se může ujistit, aby každý recept měl správné množství surovin, což bude znamenat, že všechny suroviny budou použity. Podobně k totální hodnotě, množství surovin pro každý recept může být jiné, nebo mohou být kompletně náhodné podle nastavení módu. Docela lehké, co? No, teď místo dělání matematiky s pouze jedním číslem, musím jich použít několik a logika je mnohem komplikovanější. Naštěstí, s nějjakými optimalizacemi a hodně testování, mód funguje správně a je pořád docela rychlý. A to je celá historie Vill’s Recipe Randomizer (Villův Znáhodňovač Receptů)! Musíme jít hlouběji Nemluvil jsem ale o pár VELKÝCH problémech (všimněte si velkých písmen a žádných apostrof), které tam byly od začátku. Jedna z nich je receptová smyčka. Algoritmus se mohl zaseknout, když se snažil vyhodnotit hodnotu receptu, nebo ji mohl vyhodnotit špatně. Smyčky, které byly obsaženy v jednom receptu byly docela lehké na řešení. Pro vyhodnocení receptu, algoritmus odebral itemy které se objevily na obou stranách, protože jejich hodnoty jsou neznámé, což nechalo, aby recept byl připraven pro znáhodnění. V vanille, toto je aplikováno na Kovarexův obohacující proces a zkapalňování uhlí: 40 U-235 a 2 U-238 mohou být odebrány z Kovarexu a 25 těžkého oleje může být odstraňeno z zkapalňování uhlí. Smyčky s více recepty jsou ale trochu problematičtější. Nejsou žádné smyčky v vanille s více než jedním receptem (mimo barellování, což stejně není automaticky znáhodněno), takže je docela lehké je přehlédnout, ale v módech, jsou všude! Znáhodňovač může také vytvořit smyčku v některých kondicích. Abychom si tento problém ukázali, budeme potřebovat příklad. Vezmeme si syntetické safíry v Industrial Revolution 2 (Industriální Revoluce 2). Budete potřebovat čistý nikl, siliku a safírový prášek aby jste vytvořili safír, ale safírový prášek je vytvořen z drcení safírů, což vytváří smyčku: Způsob, jak jsem tento problém vyřešil je, když je smyčka detekována, je roztřihnuta v jednom bodě a recepty jsou poté sloučeny do jednoho. Nový recept je poté použit do výpočtů místo toho v smyčce. Zde, dva recepty jsou sloučeny tím, že tři safírové prášky jsou odebrány v prostředku, tak můžeme odebrat dva safíry, které jsou obojí jako ingredience a jako výsledek: Skončíme s receptem na safíry bez problematických detailů! Co se ale stane, když jsou větvené smyčky v smyčkách? Toto není založeno na žádných konkrétních receptech, ale jsem si jist, že něco takto komplikovaného jako tento diagram existuje v nějakém módu Pouze řekněme, že věci se stanou smyčkujícími. Myslím si, že jsem to trochu vyřešil v módu, ale nepůjdu zde do detailů, toto není kurz grafové teorie, a také si nejsem jist, jestli řešení funguje spolehlivě. Můj nepřítel A teď, čas na největší problém ze všech: recepty s několika výstupy. Podívejme se na pokročilé zpracování ropy jako příklad. Defaultně, ropa má hodnotu 0.4 (budeme na chvíli ignorovat vodu). To znamená, že recept má hodnotu 40. Tak víme, že 25 těžkého oleje + 45 lehkého oleje + 55 petroleje musí mít součet hodnoty 40, ale kolik \ té hodnoty je v každém produktu? Je mnoho způsobů, jak tento problém vyřešit, a řešení tohoto mi zabralo nejvíce času a mnoho bolestí hlavy. Podívejme se na nejčastěji používané možnosti. Nejlehčí: Pouze nechte, aby každý z výsledků měl rovnou část totální hodnoty. Toto je nejrozumnější řešení, ale rozbije se, pokud přidáte odpadové produkty. Například, Kovarexův obohacující proces vyrobí 41 U-235 a 2 U-238, algoritmus by si myslel, že obojí má stejnou hodnotu, ale vy nejspíše víte, že U-235 je mnohem cennější. Takže tento přístup není moc použitelný. “Nejlepší”: Pouze nechte, aby každý díl měl plnou hodnotu, ale zapište si vedlejší výrobky, které potom můžete odečíst. Například, těžký olej má lehký olej a petroleum jako vedlejší výrobky v pokročilém zpracování ropy. To znamená, že lubrikant je také má jako vedlejší produkty, protože je to vyrobeno pouze z těžkého oleje. Kdybychom chtěli vyrobit expresní rozdělovač, potřebovali bychom, mimo jiné, lubrikant a pokročilé obvody. Pokročilé obvody potřebují petroleum, ale my máme nějaké jako vedlejší produkt lubrikantu, tak to můžeme odečíst. Jediný vedlejší produkt, který zbývá je lehký olej. Co s tím budeme dělat? Ovšem ho můžeme krakovat, abychom měli ještě více petrolea. Ale to vyžaduje vodu. Je levnější použít více vody, nebo více petrolea? No, zpočítejme obě dvě možnosti kdyby něco. Jak si můžete všimnout, tento přístup je šíleně komplikovaný. Existuje mnoho hranných případů a otázky, na které jsou potřeba odpovědi. Jako co dělat s extra vedlejšími produkty, když jiné recepty je nepotřebují? Zkusil jsem implemenetovat verzi tohoto přístupu a musím říct, byl jsem docela úspěšný. Ztrávil jsem na tom pouze 100 hodin a musel jsem opravit asi milión bugů. A co byl výsledek? No, řešení pořád není perfektní, ale přichází to hodně blízko. Také jsem vůbec nevěděl, co můj kód dělá. Vše se rozbilo, když jsem něco zkusil změnit. A jako nejdůležitější, tento mód se načítal 10 sekund až 10 minut. Protože jsem chtěl, aby mód byl s nejvíce ostatními módy kompatibilní (a fungování s vanilla Factoriem by také bylo docela fajn), rozhodl jsem se, že toto není směr, kterým jít. Nakonec, po hodně přemýšlení, dostal jsem se k algoritmu, který používám teď. Je to vlastně kompromis mezi dvoumi přístupy, které jsem popsal výše. Funguje docela dobře a je docela lehký. Není to ale dost lehké, abych to vysvětlit, protože bych musel vysvětlit mnohé další věci v mém vyhodnocujícím algoritmu. Nevyhodnocuje všechny multi-výstupové recepty nejlépe ve všech případech, ale také se to nerozbíjí v krajových případech (doufám). Konečné poznámky Toto uzavírá náš náhled do vnitřního fungování Receptového Znáhodňovače. Pokud máte nějaké otázky nebo nápady, můžete mi napsat na mém Discord serveru. Také bych rád poděkoval všem, kteří se do něj připojili a postovali bugy, nápady, testovali věci nebo mě jinak podporovali při vývoji. Mód by se nedostal takto daleko bez vaší pomoci! COMFY Minesweeper! redlabel Abychom oslavili novou mapu legendárního tvůrce map mewmew a třpytící se nový Ryzen 9 5950X od Gerkize, COMFY Factorio organizuje speciální event 1. května v 17:00 UTC. Všichni a jejich rodiny jsou pozváni, žádná nutnost odpovědět. Pokud někoho zajímá o čem Minesweeper je, no, je to nová mapa, kde expanze se stává tím, že řešíte minesweeper problém (problém minového pole). Aby jste odstranili minu, pec se na ní musí položit. Když pec položíte na čisté místo, spustí se exploze. Když šlápnete na minu, stejný výsledek. Chyby vás budou stát, protože vypustí kousače a nukleární exploze. Hráči také mohou vydělat (nebo ztratit) body, záležící na tom, jak dobří jsou, a mohou se poté porovnat k ostatním hráčům zkrz tabulky skór, která má přehled důležitých internetových bodů. COMFY je jedna z primárních Factorio multiplayer skupin a pár z našich výtvorů jsou Mountain Fortress (Pevnost v Hoře), Biter Battles (Bitvy s kousači), Chronotrain (Chronovlak) a Cave Miner (Horník Jeskyně). A brzo, velmi brzo to bude obsahovat mapy o pirátech a plachtící lodě! Zůsteňte naladěni pro to. Můžete se připojit do COMFY komunity s více než 3500 uživateli na našem Discordu. Odpočet skončil Přispívání Jako vždy, hledáme lidi, kteří chtějí přispívat k Alt-F4, buď to je přidáváním zajímavěho článku nebo překladem. Pokud máte něco zajímavého na mysli co by jste chtěli sdílet s komunitou v hezkém způsobu, toto je ideální místo kde o tom diskutovat. Pokud si nejste moc jisti o tom, rádi pomůžeme s diskuzí nápadů o obsahu a strukturování otázek. Pokud to zní jako něco zajímavého, připojte se na Discordu aby jste začali!">
<meta property="og:description" content="V tomto skvělém #33. vydáním Alt-F4, Villfuk02 oznámí jejich nedávný módový výtvor: Znáhodňovač Receptů! Řekne o všech designových problémech, které musely být překročeny, aby mód byl opravdu dobrý. poté redlabel nám řekne o nejnovějším COMFY eventu, který bude nejspíše trochu vybuchující. Vanilla: Protřepat, nemíchat Villfuk02 Vill’s Recipe Randomizer (Villův Znáhodňovač Receptů) děla to, co by jste si z názvu mysleli - znáhodní recepty. Na první pohled, toto může znít jako stupidní, ale je to velmi lehký nápad. Pokud se ale budete snažit, aby to bylo méně stupidní, bude se to docela rychle komplikovat. Příklad továrny, která vyrábí vědecké balíčky produktivity z kapslí s rozptylovacími roboty, vypínačů a paliva pro plamenomet Jak to začalo Poprvé jsem na tomto projektu začal pracovat v září 2020. V té době jsem se pouze snažil vytvořit mód, který je obojí lehký a unikátní. Poté, co jsem narazil do několika problémů, věděl jsem moc dobře, že tento mód si nikdo nezahraje, vzdal jsem se a nikdy jsem už neprogramoval. Po dvou dalších selhaných pokusech jsem se vrátil zpět k Factoriu, tentokrát ale jako hráč. Hrál jsem vanillu, potom Industrial Revolution 2 (Industriální Revoluce 2), poté jsem zkusil Space Exploration (Průzkum vesmíru). Miloval jsem módy, které změnily celou hru, protože mi to dovolilo naučit se nové recepty, objevit nové layouty továren a řešit nové logistické problémy. Ale většina těchto módů jsou velmi těžké a jsem rychle znuzen. To jsem si uvědomil, že znáhodňovač receptů má doopravdy účel: Je to jako nekonečné množství módů s velkými změnami, zatímco vanilla pořád existuje! Největší bonus pro mě byl, že jsem nemusel vytvářet žádné nové přístroje nebo grafiky, protože je to pouze měnění číslic a písmen. Ne tak lehké jak to vypadá Tento mód by mohl lehce vzít každý recept a přidat mu náhodné itemy jako ingredience. Toto by bylo docela k ničemu, protože například, červené vědecké balíčky by mohly potřebovat nukleární palivo jako ingredienci, ale vy ho nebudete mít. Tak jsem módu řekl, aby šel zkrz strom technologií a pro každý recept který je odemčen, použít pouze itemy, které mohou být vzány předtím, jako potenciální ingredience. Ovšem existují výjmky v některých módech, kde můžete odemknout recept, dříve než ho jste schopni vyrobit, takže musím být více opatrný. Nejspíše by se vám nechtělo vyrábět podzemní pás z parních strojů a laboratoří. To by bylo moc drahé. Potřeboval jsem způsob, jak udělat recepty více balancovanějšími. Proto jsem se rozhodl implementovat algoritmus, který vyhodnotí počet surových materiálů na každý item. Můžeme lehce zpočítat, že jeden obvod stojí 1 železné rudy a 1.5 měděné rudy. 1.5 měděné rudy plus 1 železné rudy vytvoří jeden elektronický obvod Řekněmě, že elektronický obvod tedy má hodnotu 2.5. Znáhodňovač tedy ví, že může použít jeden pás (hodnota 1.5) a jednu měděnou rudu (1) jako nový recept na elektronické obvody. Je trochu variace v finálním výsledku. Přicá to trochu náhody, ale jako nejdůležitější, je mnohem lehčí najít validní kombinaci, což zrychluje proces znáhodnění. V tomto bodě, zveřejnil jsem mód a z zpětné vazby a trochu testování, bylo zřejmé, že existovalo mnoho bugů (ovšem) a dva “velké” problémy. Slovo velké je v uvozovkách, protože mód byl mnohem hratelnější, než by jste očekávali od znáhodňovače. Chtěl jsem aby si to hráči ale užili, ne jenom prožili Prvních pár problémů Prvním problémem bylo dřevo. Defaultní nastavení se ujistily, že dřevo nebylo znáhodněno, ale jak si můžete myslet, mnoho receptů používalo dřevěné elecktrické sloupy jako ingredienci! Jako si můžete myslet, oprava měla být byla docela lehká a nudná. Přidal jsem parametr pro nenáhodné suroviny, jako dřevo, a každý item, který potřebuje materiál s tímto parametrem ho dostane. Druhý problém byl, i když suroviny potřebovaly správné množství surovin, byly často moc komplexní a neférové. Mód nepočítal s množstvím montážních kroků nebo časem montáže. Skvělým příkladem by byly červené vědecké balíčky. Je velmi levný, protože má pouze hodnotu 3, ale trvá 5 sekund na výrobu. Byl použit v několika receptech, jako základní komponent, podobně k železným kolečkům. Dlouhá doba výroby znamenala, že budete potřebovat několik montoven na výrobu červených vědeckých balíčků pro něco lehkého jako podzemní pásy. Další problematický příklad je něco tak lehkého jako železná kolečka může potřebovat několik kroků, jako výroba z kamenných cihel, které jsou vyrobeny z železných tyčí, které by mohly být vyrobeny z trubek atd. Proto jsem nechal mód vypočítat druhou hodnotu, pojmenovanou náročnost, pro každý item. Komplexita vezme v potaz počet kroků na výrobu, počet ingrediencí (a výstupů) a také dobu výroby. Balancování surovin Vypadalo to, jako že bych měl perfektní znáhodňovač, ale ovšem, objevilo se několik problémů (a bugů). Často se stalo, že většina receptů používala primárně jednu surovinu (často železo nebo kámen), což bylo trochu nudné, protože jste museli objevovat hodně místa aby jste našli velká množství té rudy. Také, často nebyla nutná ropa k odpálení rakety. Pro daný recept, všechny validní itemy měly stejnou pravděpodobnost, aby se vybraly, takže všechny itemy z ropy měly nižší šanci na výběr, protože jich bylo tak málo. Zkoušel jsem pár strategií, aby algoritmus vybíral lepší recepty ale nic nefungovalo. Mohl jsem mu jednoduše říct, aby používal více plastu nebo tuhého paliva atd., ale co kdyby jste chtěli hrát s módy a bylo ještě více itemů na prioritizaci? Chtěl jsem univerzální řešení. Již jsem znal jeden způsob, jak by to mohlo fungovat, ale bál jsem se ho implementovat, protože by se všechno stalo mnohem více komplikovanějším. Toto znamená více pvývoje, víc bugů a potenciálně mnohem delší doby načítání. Potom co jsem zkusil mnohem lehčí cestu jak dosáhnout podobných výsledků, rozhodl jsem se jít s tímto komplikovaným řešením. Hlavní nápad byl použít počet surovin radši než totální hodnotu. Toto znamená, že mód se může ujistit, aby každý recept měl správné množství surovin, což bude znamenat, že všechny suroviny budou použity. Podobně k totální hodnotě, množství surovin pro každý recept může být jiné, nebo mohou být kompletně náhodné podle nastavení módu. Docela lehké, co? No, teď místo dělání matematiky s pouze jedním číslem, musím jich použít několik a logika je mnohem komplikovanější. Naštěstí, s nějjakými optimalizacemi a hodně testování, mód funguje správně a je pořád docela rychlý. A to je celá historie Vill’s Recipe Randomizer (Villův Znáhodňovač Receptů)! Musíme jít hlouběji Nemluvil jsem ale o pár VELKÝCH problémech (všimněte si velkých písmen a žádných apostrof), které tam byly od začátku. Jedna z nich je receptová smyčka. Algoritmus se mohl zaseknout, když se snažil vyhodnotit hodnotu receptu, nebo ji mohl vyhodnotit špatně. Smyčky, které byly obsaženy v jednom receptu byly docela lehké na řešení. Pro vyhodnocení receptu, algoritmus odebral itemy které se objevily na obou stranách, protože jejich hodnoty jsou neznámé, což nechalo, aby recept byl připraven pro znáhodnění. V vanille, toto je aplikováno na Kovarexův obohacující proces a zkapalňování uhlí: 40 U-235 a 2 U-238 mohou být odebrány z Kovarexu a 25 těžkého oleje může být odstraňeno z zkapalňování uhlí. Smyčky s více recepty jsou ale trochu problematičtější. Nejsou žádné smyčky v vanille s více než jedním receptem (mimo barellování, což stejně není automaticky znáhodněno), takže je docela lehké je přehlédnout, ale v módech, jsou všude! Znáhodňovač může také vytvořit smyčku v některých kondicích. Abychom si tento problém ukázali, budeme potřebovat příklad. Vezmeme si syntetické safíry v Industrial Revolution 2 (Industriální Revoluce 2). Budete potřebovat čistý nikl, siliku a safírový prášek aby jste vytvořili safír, ale safírový prášek je vytvořen z drcení safírů, což vytváří smyčku: Způsob, jak jsem tento problém vyřešil je, když je smyčka detekována, je roztřihnuta v jednom bodě a recepty jsou poté sloučeny do jednoho. Nový recept je poté použit do výpočtů místo toho v smyčce. Zde, dva recepty jsou sloučeny tím, že tři safírové prášky jsou odebrány v prostředku, tak můžeme odebrat dva safíry, které jsou obojí jako ingredience a jako výsledek: Skončíme s receptem na safíry bez problematických detailů! Co se ale stane, když jsou větvené smyčky v smyčkách? Toto není založeno na žádných konkrétních receptech, ale jsem si jist, že něco takto komplikovaného jako tento diagram existuje v nějakém módu Pouze řekněme, že věci se stanou smyčkujícími. Myslím si, že jsem to trochu vyřešil v módu, ale nepůjdu zde do detailů, toto není kurz grafové teorie, a také si nejsem jist, jestli řešení funguje spolehlivě. Můj nepřítel A teď, čas na největší problém ze všech: recepty s několika výstupy. Podívejme se na pokročilé zpracování ropy jako příklad. Defaultně, ropa má hodnotu 0.4 (budeme na chvíli ignorovat vodu). To znamená, že recept má hodnotu 40. Tak víme, že 25 těžkého oleje + 45 lehkého oleje + 55 petroleje musí mít součet hodnoty 40, ale kolik \ té hodnoty je v každém produktu? Je mnoho způsobů, jak tento problém vyřešit, a řešení tohoto mi zabralo nejvíce času a mnoho bolestí hlavy. Podívejme se na nejčastěji používané možnosti. Nejlehčí: Pouze nechte, aby každý z výsledků měl rovnou část totální hodnoty. Toto je nejrozumnější řešení, ale rozbije se, pokud přidáte odpadové produkty. Například, Kovarexův obohacující proces vyrobí 41 U-235 a 2 U-238, algoritmus by si myslel, že obojí má stejnou hodnotu, ale vy nejspíše víte, že U-235 je mnohem cennější. Takže tento přístup není moc použitelný. “Nejlepší”: Pouze nechte, aby každý díl měl plnou hodnotu, ale zapište si vedlejší výrobky, které potom můžete odečíst. Například, těžký olej má lehký olej a petroleum jako vedlejší výrobky v pokročilém zpracování ropy. To znamená, že lubrikant je také má jako vedlejší produkty, protože je to vyrobeno pouze z těžkého oleje. Kdybychom chtěli vyrobit expresní rozdělovač, potřebovali bychom, mimo jiné, lubrikant a pokročilé obvody. Pokročilé obvody potřebují petroleum, ale my máme nějaké jako vedlejší produkt lubrikantu, tak to můžeme odečíst. Jediný vedlejší produkt, který zbývá je lehký olej. Co s tím budeme dělat? Ovšem ho můžeme krakovat, abychom měli ještě více petrolea. Ale to vyžaduje vodu. Je levnější použít více vody, nebo více petrolea? No, zpočítejme obě dvě možnosti kdyby něco. Jak si můžete všimnout, tento přístup je šíleně komplikovaný. Existuje mnoho hranných případů a otázky, na které jsou potřeba odpovědi. Jako co dělat s extra vedlejšími produkty, když jiné recepty je nepotřebují? Zkusil jsem implemenetovat verzi tohoto přístupu a musím říct, byl jsem docela úspěšný. Ztrávil jsem na tom pouze 100 hodin a musel jsem opravit asi milión bugů. A co byl výsledek? No, řešení pořád není perfektní, ale přichází to hodně blízko. Také jsem vůbec nevěděl, co můj kód dělá. Vše se rozbilo, když jsem něco zkusil změnit. A jako nejdůležitější, tento mód se načítal 10 sekund až 10 minut. Protože jsem chtěl, aby mód byl s nejvíce ostatními módy kompatibilní (a fungování s vanilla Factoriem by také bylo docela fajn), rozhodl jsem se, že toto není směr, kterým jít. Nakonec, po hodně přemýšlení, dostal jsem se k algoritmu, který používám teď. Je to vlastně kompromis mezi dvoumi přístupy, které jsem popsal výše. Funguje docela dobře a je docela lehký. Není to ale dost lehké, abych to vysvětlit, protože bych musel vysvětlit mnohé další věci v mém vyhodnocujícím algoritmu. Nevyhodnocuje všechny multi-výstupové recepty nejlépe ve všech případech, ale také se to nerozbíjí v krajových případech (doufám). Konečné poznámky Toto uzavírá náš náhled do vnitřního fungování Receptového Znáhodňovače. Pokud máte nějaké otázky nebo nápady, můžete mi napsat na mém Discord serveru. Také bych rád poděkoval všem, kteří se do něj připojili a postovali bugy, nápady, testovali věci nebo mě jinak podporovali při vývoji. Mód by se nedostal takto daleko bez vaší pomoci! COMFY Minesweeper! redlabel Abychom oslavili novou mapu legendárního tvůrce map mewmew a třpytící se nový Ryzen 9 5950X od Gerkize, COMFY Factorio organizuje speciální event 1. května v 17:00 UTC. Všichni a jejich rodiny jsou pozváni, žádná nutnost odpovědět. Pokud někoho zajímá o čem Minesweeper je, no, je to nová mapa, kde expanze se stává tím, že řešíte minesweeper problém (problém minového pole). Aby jste odstranili minu, pec se na ní musí položit. Když pec položíte na čisté místo, spustí se exploze. Když šlápnete na minu, stejný výsledek. Chyby vás budou stát, protože vypustí kousače a nukleární exploze. Hráči také mohou vydělat (nebo ztratit) body, záležící na tom, jak dobří jsou, a mohou se poté porovnat k ostatním hráčům zkrz tabulky skór, která má přehled důležitých internetových bodů. COMFY je jedna z primárních Factorio multiplayer skupin a pár z našich výtvorů jsou Mountain Fortress (Pevnost v Hoře), Biter Battles (Bitvy s kousači), Chronotrain (Chronovlak) a Cave Miner (Horník Jeskyně). A brzo, velmi brzo to bude obsahovat mapy o pirátech a plachtící lodě! Zůsteňte naladěni pro to. Můžete se připojit do COMFY komunity s více než 3500 uživateli na našem Discordu. Odpočet skončil Přispívání Jako vždy, hledáme lidi, kteří chtějí přispívat k Alt-F4, buď to je přidáváním zajímavěho článku nebo překladem. Pokud máte něco zajímavého na mysli co by jste chtěli sdílet s komunitou v hezkém způsobu, toto je ideální místo kde o tom diskutovat. Pokud si nejste moc jisti o tom, rádi pomůžeme s diskuzí nápadů o obsahu a strukturování otázek. Pokud to zní jako něco zajímavého, připojte se na Discordu aby jste začali!">
<link rel="canonical" href="https://alt-f4.blog/cs/ALTF4-33/">
<meta property="og:url" content="https://alt-f4.blog/ALTF4-33/">
<meta property="og:site_name" content="Alternative Friday Factorio Fan Facts">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-04-30T00:00:00+00:00">
<script type="application/ld+json">
{"dateModified":"2021-04-30T00:00:00+00:00","datePublished":"2021-04-30T00:00:00+00:00","author":{"@type":"Person","name":"Villfuk02, redlabel"},"description":"V tomto skvělém #33. vydáním Alt-F4, Villfuk02 oznámí jejich nedávný módový výtvor: Znáhodňovač Receptů! Řekne o všech designových problémech, které musely být překročeny, aby mód byl opravdu dobrý. poté redlabel nám řekne o nejnovějším COMFY eventu, který bude nejspíše trochu vybuchující. Vanilla: Protřepat, nemíchat Villfuk02 Vill’s Recipe Randomizer (Villův Znáhodňovač Receptů) děla to, co by jste si z názvu mysleli - znáhodní recepty. Na první pohled, toto může znít jako stupidní, ale je to velmi lehký nápad. Pokud se ale budete snažit, aby to bylo méně stupidní, bude se to docela rychle komplikovat. Příklad továrny, která vyrábí vědecké balíčky produktivity z kapslí s rozptylovacími roboty, vypínačů a paliva pro plamenomet Jak to začalo Poprvé jsem na tomto projektu začal pracovat v září 2020. V té době jsem se pouze snažil vytvořit mód, který je obojí lehký a unikátní. Poté, co jsem narazil do několika problémů, věděl jsem moc dobře, že tento mód si nikdo nezahraje, vzdal jsem se a nikdy jsem už neprogramoval. Po dvou dalších selhaných pokusech jsem se vrátil zpět k Factoriu, tentokrát ale jako hráč. Hrál jsem vanillu, potom Industrial Revolution 2 (Industriální Revoluce 2), poté jsem zkusil Space Exploration (Průzkum vesmíru). Miloval jsem módy, které změnily celou hru, protože mi to dovolilo naučit se nové recepty, objevit nové layouty továren a řešit nové logistické problémy. Ale většina těchto módů jsou velmi těžké a jsem rychle znuzen. To jsem si uvědomil, že znáhodňovač receptů má doopravdy účel: Je to jako nekonečné množství módů s velkými změnami, zatímco vanilla pořád existuje! Největší bonus pro mě byl, že jsem nemusel vytvářet žádné nové přístroje nebo grafiky, protože je to pouze měnění číslic a písmen. Ne tak lehké jak to vypadá Tento mód by mohl lehce vzít každý recept a přidat mu náhodné itemy jako ingredience. Toto by bylo docela k ničemu, protože například, červené vědecké balíčky by mohly potřebovat nukleární palivo jako ingredienci, ale vy ho nebudete mít. Tak jsem módu řekl, aby šel zkrz strom technologií a pro každý recept který je odemčen, použít pouze itemy, které mohou být vzány předtím, jako potenciální ingredience. Ovšem existují výjmky v některých módech, kde můžete odemknout recept, dříve než ho jste schopni vyrobit, takže musím být více opatrný. Nejspíše by se vám nechtělo vyrábět podzemní pás z parních strojů a laboratoří. To by bylo moc drahé. Potřeboval jsem způsob, jak udělat recepty více balancovanějšími. Proto jsem se rozhodl implementovat algoritmus, který vyhodnotí počet surových materiálů na každý item. Můžeme lehce zpočítat, že jeden obvod stojí 1 železné rudy a 1.5 měděné rudy. 1.5 měděné rudy plus 1 železné rudy vytvoří jeden elektronický obvod Řekněmě, že elektronický obvod tedy má hodnotu 2.5. Znáhodňovač tedy ví, že může použít jeden pás (hodnota 1.5) a jednu měděnou rudu (1) jako nový recept na elektronické obvody. Je trochu variace v finálním výsledku. Přicá to trochu náhody, ale jako nejdůležitější, je mnohem lehčí najít validní kombinaci, což zrychluje proces znáhodnění. V tomto bodě, zveřejnil jsem mód a z zpětné vazby a trochu testování, bylo zřejmé, že existovalo mnoho bugů (ovšem) a dva “velké” problémy. Slovo velké je v uvozovkách, protože mód byl mnohem hratelnější, než by jste očekávali od znáhodňovače. Chtěl jsem aby si to hráči ale užili, ne jenom prožili Prvních pár problémů Prvním problémem bylo dřevo. Defaultní nastavení se ujistily, že dřevo nebylo znáhodněno, ale jak si můžete myslet, mnoho receptů používalo dřevěné elecktrické sloupy jako ingredienci! Jako si můžete myslet, oprava měla být byla docela lehká a nudná. Přidal jsem parametr pro nenáhodné suroviny, jako dřevo, a každý item, který potřebuje materiál s tímto parametrem ho dostane. Druhý problém byl, i když suroviny potřebovaly správné množství surovin, byly často moc komplexní a neférové. Mód nepočítal s množstvím montážních kroků nebo časem montáže. Skvělým příkladem by byly červené vědecké balíčky. Je velmi levný, protože má pouze hodnotu 3, ale trvá 5 sekund na výrobu. Byl použit v několika receptech, jako základní komponent, podobně k železným kolečkům. Dlouhá doba výroby znamenala, že budete potřebovat několik montoven na výrobu červených vědeckých balíčků pro něco lehkého jako podzemní pásy. Další problematický příklad je něco tak lehkého jako železná kolečka může potřebovat několik kroků, jako výroba z kamenných cihel, které jsou vyrobeny z železných tyčí, které by mohly být vyrobeny z trubek atd. Proto jsem nechal mód vypočítat druhou hodnotu, pojmenovanou náročnost, pro každý item. Komplexita vezme v potaz počet kroků na výrobu, počet ingrediencí (a výstupů) a také dobu výroby. Balancování surovin Vypadalo to, jako že bych měl perfektní znáhodňovač, ale ovšem, objevilo se několik problémů (a bugů). Často se stalo, že většina receptů používala primárně jednu surovinu (často železo nebo kámen), což bylo trochu nudné, protože jste museli objevovat hodně místa aby jste našli velká množství té rudy. Také, často nebyla nutná ropa k odpálení rakety. Pro daný recept, všechny validní itemy měly stejnou pravděpodobnost, aby se vybraly, takže všechny itemy z ropy měly nižší šanci na výběr, protože jich bylo tak málo. Zkoušel jsem pár strategií, aby algoritmus vybíral lepší recepty ale nic nefungovalo. Mohl jsem mu jednoduše říct, aby používal více plastu nebo tuhého paliva atd., ale co kdyby jste chtěli hrát s módy a bylo ještě více itemů na prioritizaci? Chtěl jsem univerzální řešení. Již jsem znal jeden způsob, jak by to mohlo fungovat, ale bál jsem se ho implementovat, protože by se všechno stalo mnohem více komplikovanějším. Toto znamená více pvývoje, víc bugů a potenciálně mnohem delší doby načítání. Potom co jsem zkusil mnohem lehčí cestu jak dosáhnout podobných výsledků, rozhodl jsem se jít s tímto komplikovaným řešením. Hlavní nápad byl použít počet surovin radši než totální hodnotu. Toto znamená, že mód se může ujistit, aby každý recept měl správné množství surovin, což bude znamenat, že všechny suroviny budou použity. Podobně k totální hodnotě, množství surovin pro každý recept může být jiné, nebo mohou být kompletně náhodné podle nastavení módu. Docela lehké, co? No, teď místo dělání matematiky s pouze jedním číslem, musím jich použít několik a logika je mnohem komplikovanější. Naštěstí, s nějjakými optimalizacemi a hodně testování, mód funguje správně a je pořád docela rychlý. A to je celá historie Vill’s Recipe Randomizer (Villův Znáhodňovač Receptů)! Musíme jít hlouběji Nemluvil jsem ale o pár VELKÝCH problémech (všimněte si velkých písmen a žádných apostrof), které tam byly od začátku. Jedna z nich je receptová smyčka. Algoritmus se mohl zaseknout, když se snažil vyhodnotit hodnotu receptu, nebo ji mohl vyhodnotit špatně. Smyčky, které byly obsaženy v jednom receptu byly docela lehké na řešení. Pro vyhodnocení receptu, algoritmus odebral itemy které se objevily na obou stranách, protože jejich hodnoty jsou neznámé, což nechalo, aby recept byl připraven pro znáhodnění. V vanille, toto je aplikováno na Kovarexův obohacující proces a zkapalňování uhlí: 40 U-235 a 2 U-238 mohou být odebrány z Kovarexu a 25 těžkého oleje může být odstraňeno z zkapalňování uhlí. Smyčky s více recepty jsou ale trochu problematičtější. Nejsou žádné smyčky v vanille s více než jedním receptem (mimo barellování, což stejně není automaticky znáhodněno), takže je docela lehké je přehlédnout, ale v módech, jsou všude! Znáhodňovač může také vytvořit smyčku v některých kondicích. Abychom si tento problém ukázali, budeme potřebovat příklad. Vezmeme si syntetické safíry v Industrial Revolution 2 (Industriální Revoluce 2). Budete potřebovat čistý nikl, siliku a safírový prášek aby jste vytvořili safír, ale safírový prášek je vytvořen z drcení safírů, což vytváří smyčku: Způsob, jak jsem tento problém vyřešil je, když je smyčka detekována, je roztřihnuta v jednom bodě a recepty jsou poté sloučeny do jednoho. Nový recept je poté použit do výpočtů místo toho v smyčce. Zde, dva recepty jsou sloučeny tím, že tři safírové prášky jsou odebrány v prostředku, tak můžeme odebrat dva safíry, které jsou obojí jako ingredience a jako výsledek: Skončíme s receptem na safíry bez problematických detailů! Co se ale stane, když jsou větvené smyčky v smyčkách? Toto není založeno na žádných konkrétních receptech, ale jsem si jist, že něco takto komplikovaného jako tento diagram existuje v nějakém módu Pouze řekněme, že věci se stanou smyčkujícími. Myslím si, že jsem to trochu vyřešil v módu, ale nepůjdu zde do detailů, toto není kurz grafové teorie, a také si nejsem jist, jestli řešení funguje spolehlivě. Můj nepřítel A teď, čas na největší problém ze všech: recepty s několika výstupy. Podívejme se na pokročilé zpracování ropy jako příklad. Defaultně, ropa má hodnotu 0.4 (budeme na chvíli ignorovat vodu). To znamená, že recept má hodnotu 40. Tak víme, že 25 těžkého oleje + 45 lehkého oleje + 55 petroleje musí mít součet hodnoty 40, ale kolik \\ té hodnoty je v každém produktu? Je mnoho způsobů, jak tento problém vyřešit, a řešení tohoto mi zabralo nejvíce času a mnoho bolestí hlavy. Podívejme se na nejčastěji používané možnosti. Nejlehčí: Pouze nechte, aby každý z výsledků měl rovnou část totální hodnoty. Toto je nejrozumnější řešení, ale rozbije se, pokud přidáte odpadové produkty. Například, Kovarexův obohacující proces vyrobí 41 U-235 a 2 U-238, algoritmus by si myslel, že obojí má stejnou hodnotu, ale vy nejspíše víte, že U-235 je mnohem cennější. Takže tento přístup není moc použitelný. “Nejlepší”: Pouze nechte, aby každý díl měl plnou hodnotu, ale zapište si vedlejší výrobky, které potom můžete odečíst. Například, těžký olej má lehký olej a petroleum jako vedlejší výrobky v pokročilém zpracování ropy. To znamená, že lubrikant je také má jako vedlejší produkty, protože je to vyrobeno pouze z těžkého oleje. Kdybychom chtěli vyrobit expresní rozdělovač, potřebovali bychom, mimo jiné, lubrikant a pokročilé obvody. Pokročilé obvody potřebují petroleum, ale my máme nějaké jako vedlejší produkt lubrikantu, tak to můžeme odečíst. Jediný vedlejší produkt, který zbývá je lehký olej. Co s tím budeme dělat? Ovšem ho můžeme krakovat, abychom měli ještě více petrolea. Ale to vyžaduje vodu. Je levnější použít více vody, nebo více petrolea? No, zpočítejme obě dvě možnosti kdyby něco. Jak si můžete všimnout, tento přístup je šíleně komplikovaný. Existuje mnoho hranných případů a otázky, na které jsou potřeba odpovědi. Jako co dělat s extra vedlejšími produkty, když jiné recepty je nepotřebují? Zkusil jsem implemenetovat verzi tohoto přístupu a musím říct, byl jsem docela úspěšný. Ztrávil jsem na tom pouze 100 hodin a musel jsem opravit asi milión bugů. A co byl výsledek? No, řešení pořád není perfektní, ale přichází to hodně blízko. Také jsem vůbec nevěděl, co můj kód dělá. Vše se rozbilo, když jsem něco zkusil změnit. A jako nejdůležitější, tento mód se načítal 10 sekund až 10 minut. Protože jsem chtěl, aby mód byl s nejvíce ostatními módy kompatibilní (a fungování s vanilla Factoriem by také bylo docela fajn), rozhodl jsem se, že toto není směr, kterým jít. Nakonec, po hodně přemýšlení, dostal jsem se k algoritmu, který používám teď. Je to vlastně kompromis mezi dvoumi přístupy, které jsem popsal výše. Funguje docela dobře a je docela lehký. Není to ale dost lehké, abych to vysvětlit, protože bych musel vysvětlit mnohé další věci v mém vyhodnocujícím algoritmu. Nevyhodnocuje všechny multi-výstupové recepty nejlépe ve všech případech, ale také se to nerozbíjí v krajových případech (doufám). Konečné poznámky Toto uzavírá náš náhled do vnitřního fungování Receptového Znáhodňovače. Pokud máte nějaké otázky nebo nápady, můžete mi napsat na mém Discord serveru. Také bych rád poděkoval všem, kteří se do něj připojili a postovali bugy, nápady, testovali věci nebo mě jinak podporovali při vývoji. Mód by se nedostal takto daleko bez vaší pomoci! COMFY Minesweeper! redlabel Abychom oslavili novou mapu legendárního tvůrce map mewmew a třpytící se nový Ryzen 9 5950X od Gerkize, COMFY Factorio organizuje speciální event 1. května v 17:00 UTC. Všichni a jejich rodiny jsou pozváni, žádná nutnost odpovědět. Pokud někoho zajímá o čem Minesweeper je, no, je to nová mapa, kde expanze se stává tím, že řešíte minesweeper problém (problém minového pole). Aby jste odstranili minu, pec se na ní musí položit. Když pec položíte na čisté místo, spustí se exploze. Když šlápnete na minu, stejný výsledek. Chyby vás budou stát, protože vypustí kousače a nukleární exploze. Hráči také mohou vydělat (nebo ztratit) body, záležící na tom, jak dobří jsou, a mohou se poté porovnat k ostatním hráčům zkrz tabulky skór, která má přehled důležitých internetových bodů. COMFY je jedna z primárních Factorio multiplayer skupin a pár z našich výtvorů jsou Mountain Fortress (Pevnost v Hoře), Biter Battles (Bitvy s kousači), Chronotrain (Chronovlak) a Cave Miner (Horník Jeskyně). A brzo, velmi brzo to bude obsahovat mapy o pirátech a plachtící lodě! Zůsteňte naladěni pro to. Můžete se připojit do COMFY komunity s více než 3500 uživateli na našem Discordu. Odpočet skončil Přispívání Jako vždy, hledáme lidi, kteří chtějí přispívat k Alt-F4, buď to je přidáváním zajímavěho článku nebo překladem. Pokud máte něco zajímavého na mysli co by jste chtěli sdílet s komunitou v hezkém způsobu, toto je ideální místo kde o tom diskutovat. Pokud si nejste moc jisti o tom, rádi pomůžeme s diskuzí nápadů o obsahu a strukturování otázek. Pokud to zní jako něco zajímavého, připojte se na Discordu aby jste začali!","mainEntityOfPage":{"@type":"WebPage","@id":"https://alt-f4.blog/ALTF4-33/"},"url":"https://alt-f4.blog/ALTF4-33/","@type":"BlogPosting","headline":"Alt-F4 #33 - Vanilla: Protřepat, nemíchat","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
	

	
	  <meta property="og:image" content="https://alt-f4.blog/assets/ALTF4/33/thumbnail.jpg">
	  <meta name="twitter:image" content="https://alt-f4.blog/assets/ALTF4/33/thumbnail.jpg">
	

	<!-- CSS & fonts -->
	<link href="/cs/assets/GLOBAL/css/titillium-web.css" rel="stylesheet">
	<link rel="stylesheet" href="/cs/assets/GLOBAL/css/style.css">
	<link rel="stylesheet" href="/cs/assets/GLOBAL/css/spidertron.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.css" rel="stylesheet" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,400italic%7CSignika:700,300,400,600" rel="stylesheet" type="text/css">

	<link href="/cs/assets/GLOBAL/img/favicon.ico" rel="icon" type="image/x-icon">
	<link href="/cs/assets/GLOBAL/img/favicon.ico" rel="shortcut icon" type="image/x-icon">

	<!-- RSS -->
	<link href="/cs/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed">

	<script src="/assets/GLOBAL/js/spidertron.js"></script>
	<script src="/assets/GLOBAL/js/localization.js"></script>
	<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
</head>


  <body>
    <!-- Navigation Bar -->
    <nav id="top" class="top-bar">
	<div class="top-bar-inner flex flex-space-between">
		<div class="sites links flex">
			<a href="/cs/" class="sites-current">
				<div id="navbar-logo" role="img" aria-label="Alt-F4 Logo"></div>
			</a>
			<a href="https://alt-f4.blog/cs/discord" class="">Discord</a>
			<span class="separator">|</span>
			<a href="https://factorio.com/blog" class="">FFF</a>
		</div>
		<div class="sites links flex hide-tag-line">
			<em>Komunitou tvořené pokračování našich milovaných "Factorio Friday Facts"</em>
		</div>
		<div class="dropdown flex-end">
			<a class="button flex flex-space-between" href="#">
				<i class="fas fa-language"></i>
			</a>
			<div class="submenu">
				
				<a class="button lang-button" href="/../ALTF4-33/" onclick="setLanguage('en')">English</a>
				
				<a class="button button-green lang-button" href="/cs/ALTF4-33/" onclick="setLanguage('cs')">Čeština</a>
				
				<a class="button lang-button" href="/de/ALTF4-33/" onclick="setLanguage('de')">Deutsch</a>
				
				<a class="button lang-button" href="/es/ALTF4-33/" onclick="setLanguage('es')">Español</a>
				
				<a class="button lang-button" href="/fr/ALTF4-33/" onclick="setLanguage('fr')">Français</a>
				
				<a class="button lang-button" href="/it/ALTF4-33/" onclick="setLanguage('it')">Italiano</a>
				
				<a class="button lang-button" href="/nl/ALTF4-33/" onclick="setLanguage('nl')">Nederlands</a>
				
				<a class="button lang-button" href="/pt-br/ALTF4-33/" onclick="setLanguage('pt-br')">Português Brasileiro</a>
				
				<a class="button lang-button" href="/ru/ALTF4-33/" onclick="setLanguage('ru')">Русский</a>
				
				<a class="button lang-button" href="/zh/ALTF4-33/" onclick="setLanguage('zh')">中文</a>
				
			</div>
		</div>
	</div>
</nav>


    <!-- Main content -->
    <div class="container">
      <div class="container-inner">
        <div class="small-center"></div>
        <!-- Posts -->
        <article class="panel blog-post">
	
	<h1 class="page-title-headder">Alt-F4 #33 - Vanilla: Protřepat, nemíchat  <author>30-04-2021</author>
</h1>
	
	
	<div class="panel-inset mb0">
		
Napsal <em>Villfuk02, redlabel</em>,



upravil <em>stringweasel, Nanogamer7, Conor_, Therenas, Firerazer</em>,



<br>přeložil <em>oof2win2</em>






	</div>
	
	<div class="panel-inset-lighter mt0">
		<div class="post-header">
  <div class="panel">
    <div class="outer">
      <img class="inner" src="/assets/ALTF4/33/thumbnail.jpg" alt="" style="margin: 1px;">
    </div>
  </div>
  <details class="panel toc">
    <summary>
      <h2>Obsah</h2>
    </summary>
    <div class="panel-inset mb0">
      <ul>
  <li>
<a href="#vanilla-prot%C5%99epat-nem%C3%ADchat-villfuk02">Vanilla: Protřepat, nemíchat <author>Villfuk02</author></a>
    <ul>
      <li><a href="#jak-to-za%C4%8Dalo">Jak to začalo</a></li>
      <li><a href="#ne-tak-lehk%C3%A9-jak-to-vypad%C3%A1">Ne tak lehké jak to vypadá</a></li>
      <li><a href="#prvn%C3%ADch-p%C3%A1r-probl%C3%A9m%C5%AF">Prvních pár problémů</a></li>
      <li><a href="#balancov%C3%A1n%C3%AD-surovin">Balancování surovin</a></li>
      <li><a href="#mus%C3%ADme-j%C3%ADt-hloub%C4%9Bji">Musíme jít hlouběji</a></li>
      <li><a href="#m%C5%AFj-nep%C5%99%C3%ADtel">Můj nepřítel</a></li>
      <li><a href="#kone%C4%8Dn%C3%A9-pozn%C3%A1mky">Konečné poznámky</a></li>
    </ul>
  </li>
  <li><a href="#comfy-minesweeper-redlabel">COMFY Minesweeper! <author>redlabel</author></a></li>
  <li><a href="#p%C5%99isp%C3%ADv%C3%A1n%C3%AD">Přispívání</a></li>
</ul>

    </div>
  </details>
</div>




<p>V tomto skvělém #33. vydáním Alt-F4, <em>Villfuk02</em> oznámí jejich nedávný módový výtvor: Znáhodňovač Receptů! Řekne o všech designových problémech, které musely být překročeny, aby mód byl opravdu dobrý. poté <em>redlabel</em> nám řekne o nejnovějším COMFY eventu, který bude nejspíše trochu <em>vybuchující</em>.</p>
      <h2 id="vanilla-protřepat-nemíchat-villfuk02">
        
        
            <a href="#vanilla-prot%C5%99epat-nem%C3%ADchat-villfuk02" class="anchor" style="text-decoration: none;">Vanilla: Protřepat, nemíchat <author>Villfuk02</author></a>
          
        
      </h2>
    

<p><a href="https://mods.factorio.com/mod/ZRecipeRandomizer"><em>Vill’s Recipe Randomizer</em> (Villův Znáhodňovač Receptů)</a> děla to, co by jste si z názvu mysleli - znáhodní recepty. Na první pohled, toto může znít jako stupidní, ale je to velmi lehký nápad. Pokud se ale budete snažit, aby to bylo méně stupidní, bude se to docela rychle komplikovat.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/33/spaghetti-sample.jpg" alt="Vzorek špaget zdarma" style="max-width: ; max-height:  ">
        
        <figcaption>Příklad továrny, která vyrábí vědecké balíčky produktivity z kapslí s rozptylovacími roboty, vypínačů a paliva pro plamenomet</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>
      <h3 id="jak-to-začalo">
        
        
            <a href="#jak-to-za%C4%8Dalo" class="anchor" style="text-decoration: none;">Jak to začalo</a>
          
        
      </h3>
    

<p>Poprvé jsem na tomto projektu začal pracovat v září 2020. V té době jsem se pouze snažil vytvořit mód, který je obojí lehký a unikátní. Poté, co jsem narazil do několika problémů, věděl jsem moc dobře, že tento mód si nikdo nezahraje, vzdal jsem se <del>a nikdy jsem už neprogramoval</del>.</p>

<p>Po dvou dalších selhaných pokusech jsem se vrátil zpět k Factoriu, tentokrát ale jako hráč. Hrál jsem vanillu, potom Industrial Revolution 2 (Industriální Revoluce 2), poté jsem zkusil Space Exploration (Průzkum vesmíru). Miloval jsem módy, které změnily celou hru, protože mi to dovolilo naučit se nové recepty, objevit nové layouty továren a řešit nové logistické problémy. Ale většina těchto módů jsou velmi těžké a jsem rychle znuzen. To jsem si uvědomil, že znáhodňovač receptů má doopravdy účel: Je to jako nekonečné množství módů s velkými změnami, zatímco vanilla pořád existuje! Největší bonus pro mě byl, že jsem nemusel vytvářet žádné nové přístroje nebo grafiky, protože je to pouze měnění číslic a písmen.</p>
      <h3 id="ne-tak-lehké-jak-to-vypadá">
        
        
            <a href="#ne-tak-lehk%C3%A9-jak-to-vypad%C3%A1" class="anchor" style="text-decoration: none;">Ne tak lehké jak to vypadá</a>
          
        
      </h3>
    

<p>Tento mód by mohl lehce vzít každý recept a přidat mu náhodné itemy jako ingredience. Toto by bylo docela k ničemu, protože například, červené vědecké balíčky by mohly potřebovat nukleární palivo jako ingredienci, ale vy ho nebudete mít. Tak jsem módu řekl, aby šel zkrz strom technologií a pro každý recept který je odemčen, použít pouze itemy, které mohou být vzány předtím, jako potenciální ingredience. Ovšem existují výjmky v některých módech, kde můžete odemknout recept, dříve než ho jste schopni vyrobit, takže musím být více opatrný.</p>

<p>Nejspíše by se vám nechtělo vyrábět podzemní pás z parních strojů a laboratoří. To by bylo moc drahé. Potřeboval jsem způsob, jak udělat recepty více balancovanějšími. Proto jsem se rozhodl implementovat algoritmus, který vyhodnotí počet surových materiálů na každý item. Můžeme lehce zpočítat, že jeden obvod stojí 1 železné rudy a 1.5 měděné rudy.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/33/electronic-circuit.jpg" alt="Jak je to vyrobeno: Elektronický obvod" style="max-width: ; max-height:  ">
        
        <figcaption>1.5 měděné rudy plus 1 železné rudy vytvoří jeden elektronický obvod</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Řekněmě, že elektronický obvod tedy má hodnotu 2.5. Znáhodňovač tedy ví, že může použít jeden pás (hodnota 1.5) a jednu měděnou rudu (1) jako nový recept na elektronické obvody. Je trochu variace v finálním výsledku. Přicá to trochu náhody, ale jako nejdůležitější, je mnohem lehčí najít validní kombinaci, což zrychluje proces znáhodnění.</p>

<p>V tomto bodě, zveřejnil jsem mód a z zpětné vazby a trochu testování, bylo zřejmé, že existovalo mnoho bugů (ovšem) a dva “velké” problémy. Slovo <em>velké</em> je v uvozovkách, protože mód byl mnohem hratelnější, než by jste očekávali od znáhodňovače. Chtěl jsem aby si to hráči ale užili, ne jenom prožili</p>
      <h3 id="prvních-pár-problémů">
        
        
            <a href="#prvn%C3%ADch-p%C3%A1r-probl%C3%A9m%C5%AF" class="anchor" style="text-decoration: none;">Prvních pár problémů</a>
          
        
      </h3>
    

<p>Prvním problémem bylo dřevo. Defaultní nastavení se ujistily, že dřevo nebylo znáhodněno, ale jak si můžete myslet, mnoho receptů používalo dřevěné elecktrické sloupy jako ingredienci! Jako si můžete myslet, oprava <del>měla být</del> byla docela lehká a nudná. Přidal jsem parametr pro nenáhodné suroviny, jako dřevo, a každý item, který potřebuje materiál s tímto parametrem ho dostane.</p>

<p>Druhý problém byl, i když suroviny potřebovaly správné množství surovin, byly často moc komplexní a neférové. Mód nepočítal s množstvím montážních kroků nebo časem montáže. Skvělým příkladem by byly červené vědecké balíčky. Je velmi levný, protože má pouze hodnotu 3, ale trvá 5 sekund na výrobu. Byl použit v několika receptech, jako základní komponent, podobně k železným kolečkům. Dlouhá doba výroby znamenala, že budete potřebovat několik montoven na výrobu červených vědeckých balíčků pro něco lehkého jako podzemní pásy. Další problematický příklad je něco tak lehkého jako železná kolečka může potřebovat několik kroků, jako výroba z kamenných cihel, které jsou vyrobeny z železných tyčí, které by mohly být vyrobeny z trubek atd. Proto jsem nechal mód vypočítat druhou hodnotu, pojmenovanou náročnost, pro každý item. Komplexita vezme v potaz počet kroků na výrobu, počet ingrediencí (a výstupů) a také dobu výroby.</p>
      <h3 id="balancování-surovin">
        
        
            <a href="#balancov%C3%A1n%C3%AD-surovin" class="anchor" style="text-decoration: none;">Balancování surovin</a>
          
        
      </h3>
    

<p>Vypadalo to, jako že bych měl perfektní znáhodňovač, ale ovšem, objevilo se několik problémů (a bugů). Často se stalo, že většina receptů používala primárně jednu surovinu (často železo nebo kámen), což bylo trochu nudné, protože jste museli objevovat hodně místa aby jste našli velká množství té rudy. Také, často nebyla nutná ropa k odpálení rakety. Pro daný recept, všechny validní itemy měly stejnou pravděpodobnost, aby se vybraly, takže všechny itemy z ropy měly nižší šanci na výběr, protože jich bylo tak málo. Zkoušel jsem pár strategií, aby algoritmus vybíral lepší recepty ale nic nefungovalo. Mohl jsem mu jednoduše říct, aby používal více plastu nebo tuhého paliva atd., ale co kdyby jste chtěli hrát s módy a bylo ještě více itemů na prioritizaci? Chtěl jsem univerzální řešení.</p>

<p>Již jsem znal jeden způsob, jak by to mohlo fungovat, ale bál jsem se ho implementovat, protože by se všechno stalo mnohem více komplikovanějším. Toto znamená více pvývoje, víc bugů a potenciálně mnohem delší doby načítání. Potom co jsem zkusil mnohem lehčí cestu jak dosáhnout podobných výsledků, rozhodl jsem se jít s tímto komplikovaným řešením.</p>

<p>Hlavní nápad byl použít počet surovin radši než totální hodnotu. Toto znamená, že mód se může ujistit, aby každý recept měl správné množství surovin, což bude znamenat, že všechny suroviny budou použity. Podobně k totální hodnotě, množství surovin pro každý recept může být jiné, nebo mohou být kompletně náhodné podle nastavení módu. Docela lehké, co? No, teď místo dělání matematiky s pouze jedním číslem, musím jich použít několik a logika je mnohem komplikovanější. Naštěstí, s nějjakými optimalizacemi a hodně testování, mód funguje správně a je pořád docela rychlý.</p>

<p>A to je celá historie <em>Vill’s Recipe Randomizer (Villův Znáhodňovač Receptů)</em>!</p>
      <h3 id="musíme-jít-hlouběji">
        
        
            <a href="#mus%C3%ADme-j%C3%ADt-hloub%C4%9Bji" class="anchor" style="text-decoration: none;">Musíme jít hlouběji</a>
          
        
      </h3>
    

<p>Nemluvil jsem ale o pár VELKÝCH problémech (všimněte si velkých písmen a žádných apostrof), které tam byly od začátku. Jedna z nich je receptová smyčka. Algoritmus se mohl zaseknout, když se snažil vyhodnotit hodnotu receptu, nebo ji mohl vyhodnotit špatně. Smyčky, které byly obsaženy v jednom receptu byly docela lehké na řešení. Pro vyhodnocení receptu, algoritmus odebral itemy které se objevily na obou stranách, protože jejich hodnoty jsou neznámé, což nechalo, aby recept byl připraven pro znáhodnění. V vanille, toto je aplikováno na Kovarexův obohacující proces a zkapalňování uhlí:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/33/kovarex-and-liquefaction.jpg" alt="Ukliď to!" style="max-width: ; max-height:  ">
        
        <figcaption>40 U-235 a 2 U-238 mohou být odebrány z Kovarexu a 25 těžkého oleje může být odstraňeno z zkapalňování uhlí.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Smyčky s více recepty jsou ale trochu problematičtější. Nejsou žádné smyčky v vanille s více než jedním receptem (mimo barellování, což stejně není automaticky znáhodněno), takže je docela lehké je přehlédnout, ale v módech, jsou všude! Znáhodňovač může také vytvořit smyčku v některých kondicích. Abychom si tento problém ukázali, budeme potřebovat příklad. Vezmeme si syntetické safíry v Industrial Revolution 2 (Industriální Revoluce 2). Budete potřebovat čistý nikl, siliku a safírový prášek aby jste vytvořili safír, ale safírový prášek je vytvořen z drcení safírů, což vytváří smyčku:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/33/sapphire-loop.jpg" alt="Safírová smyčka" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Způsob, jak jsem tento problém vyřešil je, když je smyčka detekována, je roztřihnuta v jednom bodě a recepty jsou poté sloučeny do jednoho. Nový recept je poté použit do výpočtů místo toho v smyčce. Zde, dva recepty jsou sloučeny tím, že tři safírové prášky jsou odebrány v prostředku, tak můžeme odebrat dva safíry, které jsou obojí jako ingredience a jako výsledek:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/33/sapphire-unlooped.jpg" alt="Safír odsmyčkován" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Skončíme s receptem na safíry bez problematických detailů! Co se ale stane, když jsou větvené smyčky v smyčkách?</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/33/loopy.jpg" alt="Smyčkový diagram" style="max-width: ; max-height:  ">
        
        <figcaption>Toto není založeno na žádných konkrétních receptech, ale jsem si jist, že něco takto komplikovaného jako tento diagram existuje v nějakém módu</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Pouze řekněme, že věci se stanou <em>smyčkujícími</em>. Myslím si, že jsem to trochu vyřešil v módu, ale nepůjdu zde do detailů, toto není kurz grafové teorie, a také si nejsem jist, jestli řešení funguje spolehlivě.</p>
      <h3 id="můj-nepřítel">
        
        
            <a href="#m%C5%AFj-nep%C5%99%C3%ADtel" class="anchor" style="text-decoration: none;">Můj nepřítel</a>
          
        
      </h3>
    

<p>A teď, čas na největší problém ze všech: recepty s několika výstupy. Podívejme se na pokročilé zpracování ropy jako příklad.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/33/advanced-oil-processing.jpg" alt="Pokročilé zpracování ropy" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Defaultně, ropa má hodnotu 0.4 (budeme na chvíli ignorovat vodu). To znamená, že recept má hodnotu 40. Tak víme, že 25 těžkého oleje + 45 lehkého oleje + 55 petroleje musí mít součet hodnoty 40, ale kolik \ té hodnoty je v každém produktu? Je mnoho způsobů, jak tento problém vyřešit, a řešení tohoto mi zabralo nejvíce času a mnoho bolestí hlavy. Podívejme se na nejčastěji používané možnosti.</p>

<p>Nejlehčí: Pouze nechte, aby každý z výsledků měl rovnou část totální hodnoty. Toto je nejrozumnější řešení, ale rozbije se, pokud přidáte odpadové produkty. Například, Kovarexův obohacující proces vyrobí 41 U-235 a 2 U-238, algoritmus by si myslel, že obojí má stejnou hodnotu, ale vy nejspíše víte, že U-235 je mnohem cennější. Takže tento přístup není moc použitelný.</p>

<p>“Nejlepší”: Pouze nechte, aby každý díl měl plnou hodnotu, ale zapište si vedlejší výrobky, které potom můžete odečíst. Například, těžký olej má lehký olej a petroleum jako vedlejší výrobky v pokročilém zpracování ropy. To znamená, že lubrikant je také má jako vedlejší produkty, protože je to vyrobeno pouze z těžkého oleje. Kdybychom chtěli vyrobit expresní rozdělovač, potřebovali bychom, mimo jiné, lubrikant a pokročilé obvody. Pokročilé obvody potřebují petroleum, ale my máme nějaké jako vedlejší produkt lubrikantu, tak to můžeme odečíst. Jediný vedlejší produkt, který zbývá je lehký olej. Co s tím budeme dělat? Ovšem ho můžeme krakovat, abychom měli ještě více petrolea. Ale to vyžaduje vodu. Je levnější použít více vody, nebo více petrolea? No, zpočítejme obě dvě možnosti kdyby něco.</p>

<p>Jak si můžete všimnout, tento přístup je šíleně komplikovaný. Existuje mnoho hranných případů a otázky, na které jsou potřeba odpovědi. Jako co dělat s extra vedlejšími produkty, když jiné recepty je nepotřebují? Zkusil jsem implemenetovat verzi tohoto přístupu a musím říct, byl jsem docela úspěšný. Ztrávil jsem na tom pouze 100 hodin a musel jsem opravit asi milión bugů. A co byl výsledek? No, řešení pořád není perfektní, ale přichází to hodně blízko. Také jsem vůbec nevěděl, co můj kód dělá. Vše se rozbilo, když jsem něco zkusil změnit. A jako nejdůležitější, tento mód se načítal 10 sekund až 10 minut. Protože jsem chtěl, aby mód byl s nejvíce ostatními módy kompatibilní (a fungování s vanilla Factoriem by také bylo docela fajn), rozhodl jsem se, že toto není směr, kterým jít.</p>

<p>Nakonec, po hodně přemýšlení, dostal jsem se k algoritmu, který používám teď. Je to vlastně kompromis mezi dvoumi přístupy, které jsem popsal výše. Funguje docela dobře a je docela lehký. Není to ale dost lehké, abych to vysvětlit, protože bych musel vysvětlit mnohé další věci v mém vyhodnocujícím algoritmu. Nevyhodnocuje všechny multi-výstupové recepty nejlépe ve všech případech, ale také se to nerozbíjí v krajových případech (doufám).</p>
      <h3 id="konečné-poznámky">
        
        
            <a href="#kone%C4%8Dn%C3%A9-pozn%C3%A1mky" class="anchor" style="text-decoration: none;">Konečné poznámky</a>
          
        
      </h3>
    

<p>Toto uzavírá náš náhled do vnitřního fungování <em>Receptového Znáhodňovače</em>. Pokud máte nějaké otázky nebo nápady, můžete mi napsat na <a href="https://discord.gg/jn4nRrrB6d">mém Discord serveru</a>. Také bych rád poděkoval všem, kteří se do něj připojili a postovali bugy, nápady, testovali věci nebo mě jinak podporovali při vývoji. Mód by se nedostal takto daleko bez vaší pomoci!</p>
      <h2 id="comfy-minesweeper-redlabel">
        
        
            <a href="#comfy-minesweeper-redlabel" class="anchor" style="text-decoration: none;">COMFY Minesweeper! <author>redlabel</author></a>
          
        
      </h2>
    

<p>Abychom oslavili novou mapu legendárního tvůrce map <a href="https://github.com/M3wM3w">mewmew</a> a třpytící se nový Ryzen 9 5950X od <a href="https://github.com/Gerkiz">Gerkize</a>, <a href="https://getcomfy.eu/">COMFY</a> Factorio organizuje speciální event 1. května v 17:00 UTC. Všichni a jejich rodiny jsou pozváni, žádná nutnost odpovědět.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/33/comfyimage.jpg" alt="Minesweeper v Factoriu" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Pokud někoho zajímá o čem Minesweeper je, no, je to nová mapa, kde expanze se stává tím, že řešíte <em>minesweeper</em> problém (problém minového pole). Aby jste odstranili minu, pec se na ní musí položit. Když pec položíte na čisté místo, spustí se exploze. Když šlápnete na minu, stejný výsledek. Chyby vás budou stát, protože vypustí kousače a nukleární exploze. Hráči také mohou vydělat <em>(nebo ztratit)</em> body, záležící na tom, jak dobří jsou, a mohou se poté porovnat k ostatním hráčům zkrz tabulky skór, která má přehled důležitých internetových bodů.</p>

<p>COMFY je jedna z primárních Factorio multiplayer skupin a pár z našich <a href="https://github.com/M3wM3w/ComfyFactorio">výtvorů</a> jsou Mountain Fortress (Pevnost v Hoře), Biter Battles (Bitvy s kousači), Chronotrain (Chronovlak) a Cave Miner (Horník Jeskyně). A brzo, velmi brzo to bude obsahovat mapy o pirátech a plachtící lodě! Zůsteňte naladěni pro to.</p>

<p>Můžete se připojit do COMFY komunity s více než 3500 uživateli na našem <a href="https://getcomfy.eu/discord">Discordu</a>.</p>

<p></p>
<!-- Use include.data in the ID as it makes it unique -->
<p class="center">
  <span class="countdown" id="countdown-2021-5-1-17-00-00">
    <span id="past-text">Odpočet skončil</span>

    <span id="days"></span>
    <span id="hours"></span>
    <span id="minutes"></span>
    <span id="seconds"></span>
  </span>

  <script>
    const second = 1000
    const minute = second * 60
    const hour = minute * 60
    const day = hour * 24

    const countdownEl = document.getElementById('countdown-2021-5-1-17-00-00');

    const daysEl = document.querySelector('#countdown-2021-5-1-17-00-00 #days');
    const hoursEl = document.querySelector('#countdown-2021-5-1-17-00-00 #hours');
    const minutesEl = document.querySelector('#countdown-2021-5-1-17-00-00 #minutes');
    const secondsEl = document.querySelector('#countdown-2021-5-1-17-00-00 #seconds');

    const countdownDate = new Date(Date.UTC(...('2021:5:1:17:00:00'.split(':').map((x, i) => parseInt(x) + (i === 1 ? -1 : 0)))));

    const interval = setInterval(updateCountdown, second);

    function updateCountdown() {
      const distance = countdownDate - Date.now();

      if (distance < 0) {
        countdownEl.classList.add('past');

        clearInterval(interval);

        return;
      }

      daysEl.textContent = Math.floor(distance / day).toString().padStart(2, '0');
      hoursEl.textContent = Math.floor((distance % day) / hour).toString().padStart(2, '0');
      minutesEl.textContent = Math.floor((distance % hour) / minute).toString().padStart(2, '0');
      secondsEl.textContent = Math.floor((distance % minute) / second).toString().padStart(2, '0');
    }

    updateCountdown();
  </script>
</p>
      <h2 id="přispívání">
        
        
            <a href="#p%C5%99isp%C3%ADv%C3%A1n%C3%AD" class="anchor" style="text-decoration: none;">Přispívání</a>
          
        
      </h2>
    

<p>Jako vždy, hledáme lidi, kteří chtějí přispívat k Alt-F4, buď to je přidáváním zajímavěho článku nebo překladem. Pokud máte něco zajímavého na mysli co by jste chtěli sdílet s komunitou v hezkém způsobu, toto je ideální místo kde o tom diskutovat. Pokud si nejste moc jisti o tom, rádi pomůžeme s diskuzí nápadů o obsahu a strukturování otázek. Pokud to zní jako něco zajímavého, připojte se na <a href="https://alt-f4.blog/cs/discord">Discordu</a> aby jste začali!</p>





<script>
  (() => {
    if (window.innerWidth >= 720) {
      document.getElementsByClassName('toc')[0].setAttribute('open', '')
    }
  })()
</script>

		
<div class="flex flex-column flex-items-center mt8">
  
  <a class="button-green-right m4" style="width: 16em;" href="https://forums.factorio.com/viewtopic.php?f=5&t=98132">
    Diskutujte na Factorio fórech
  </a>
  
  
  <a class="button-green-right m4" style="width: 16em;" href="https://www.reddit.com/r/factorio/comments/n1ssvv/altf4_33_vanilla_shaken_not_stirred/">
    Diskutujte na Redditu
  </a>
  
  
  <a class="button-green-right m4" style="width: 16em;" href="https://alt-f4.blog/cs/discord">
    Diskutujte na Discordu
  </a>
  
</div>


	</div>
	<div class="panel-inset mb0 p4 flex">
		<div>
		<!-- Previous Button -->
		
		<a href="/cs/ALTF4-32/" class="button square-sm"><i class="fas fa-angle-double-left"></i></a>
		
		<a class="button square-sm" href="/cs/">
			<i class="fas fa-home"></i>
		</a>

		<!-- Next Button -->
		
		<a href="/cs/ALTF4-34/" class="button square-sm">
			<i class="fas fa-angle-double-right"></i>
		</a>
		
		</div>
	</div>
</article>

      </div>
    </div>


    <!-- Footer -->
    <footer class="footer">
  <div class="footer-inner panel">

    <div class="footer-links panel-inset slots p1 mt0 mb0">
      <a href="/cs/about" class="slot" title="About">
        <div class="slot-button">
          <i class="fas fa-info"></i>
        </div>
      </a>
      <a href="https://github.com/AlternativeFFFF/Alt-F4" class="slot" title="Github">
        <div class="slot-button">
          <i class="fab fa-github"></i>
        </div>
      </a>
      <a href="https://alt-f4.blog/cs/discord" class="slot" title="Discord">
        <div class="slot-button">
          <i class="fab fa-discord"></i>
        </div>
      </a>
      <a href="/cs/atom.xml" type="application/atom+xml" rel="alternate" class="slot" title="ATOM Feed">
        <div class="slot-button">
          <i class="fas fa-rss"></i>
        </div>
      </a>
      <a href="https://www.freelists.org/list/alt-f4" class="slot" title="Email Newsletter">
        <div class="slot-button">
          <i class="fas fa-envelope"></i>
        </div>
      </a>

      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
    </div>
    <div class="footer-rocket panel-inset m0">
      <div class="spidertron-center">
        <div id="spidertron" class="spidertron-home" data-spidertron-scale="0.6" data-spidertron-speed="400"></div>
      </div>
      <div class="shadow-overlay"></div>
      <div class="shadow-overlay-bottom"></div>
    </div>
    <div class="footer-copyright panel-inset m0">
      Tato webová stránka je čistě projektem fanoušků, není nijak přímo spojena s Wube Software
    </div>
  </div>
</footer>

  </body>

</html>
