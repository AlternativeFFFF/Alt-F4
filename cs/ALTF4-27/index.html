<!DOCTYPE html>
<html lang="cs" class="cs">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Alt-F4 #27 - Designování Zbytečného</title>
	<!-- Meta -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v4.1.1">
<meta property="og:title" content="Alt-F4 #27 - Designování Zbytečného">
<meta name="author" content="pocarski">
<meta property="og:locale" content="cs">
<meta name="description" content="Tento týden, pocarski pokračuje s jeho sestupem do pásově-orientovaného šílenství tím, že se podívá na univerzální balancéry. Výsledek je jak šílený jako je zbytečný, takvíte, že tu máte pochoutku! Univerzální 8-8: Perfectly Balanced, as All Things Should Be pocarski Nedávno, vyrobil jsem několik počítačových částí s pásy a rozdělovači. Tento týden, budu pokračovat v mé nezdravé posedlosti s posuvem itemů vyráběním něčeho, což je po pravdě i trochu praktické: balancér. Tak, proč bych ale psal celý článek o designování balancéru? No, to je proto, že ten který vyrobíme tento týden není váš průměrný balancér! Tento článek nepůjde moc hluboko do principů designování balancéru, protože budeme používat předem vyrobené a známé plány většinou. Ale, ne všechny balancéry jsou vytvořeny rovně, takže budete muset znát trochu terminologie: Vstupově balancovaný: Bere z všech vstupů rovnoměrně. Zvláště důležitý, když rozdělujete hodně vstupů do pár výstupů Výstupově balancovaný: Dává všem výstupům rovnoměrně. Zvláště důležitý, pokud rozdělujete pár vstupů do několika výstupů Propustností limitovaný: Má interní limitace. Příklad propustností limitovaného by bylo spojování dvou pásů do jednoho, a poté rozdělování toho jednoho v dva. Takový systém má maximální propustnost jednoho pásu, i kdyby dva pásy byly k dispozici u vstupu a i u výstupu. Propustností nelimitovaný: Opak propustností limitovaného, nemá žádné interní limitace. Pokud X pásů je schopno projít zkrz, projdou zkrs. Všechny plány z tohoto článku (a pár dalších) jsou dostupné zde. Propozice Zobrazte si následující: Jste nový hráč, a právě jste slyšeli o věci nazývané “balancéry” a o tom, jak užitečné jsou. Chcete balancovat jeden pás na tři. Měli by jste použít 1-3 balancér pro toto, ale o tom ještě nevíte, takže zkusíte použít 4-4 balancér s pouze jedním vstupem a třiemy výstupy zapojeny. Místo očekávaného 1:1:1 výstupového poměru, setkáte se s 1:1:2 poměrem a hodně zklamání. S tímto článkem, dal jsem si cíl vytvořit balancér, pro který by tato intuice fungovala; v jiných slovech, nezáleží na konfiguraci vstupů/výstupů, věechny výstupy jsou si rovny, a z všech vstupů je bráno rovnoměrně. Tento druh balancéru je známý jako “univerzální balancér”, koncept poprvé prozkoumán v tomto postu Redditovým uživatelem u/tzwaan, který je jedním z moderátorů Factorio subredditu. Univerzální balancéry jsou schopny dělat, to co by žádný jiný balancér nebyl schopný dělat: nezáleží na konfiguraci, jsou vstupově balancovány, výstupově balancovány a propustností nelimitovány v stejný čas! Toto je sada vlastností předtím myšleno, že bylo vlastněno pouze 2-2 balancérem, což je jeden rozdělovač. Nevýhoda je, že se stávají velkými. Principy Designu Podívejme se na konvertování 4-4 balancéru na 3-3 balancéru. Toto je děláno tím, že extra výstup dáte do smyčky zpět do prvního rozdělovače. Tento nápad budeme používat jako základní princip: Chceme následující chování: Když se výstup bude přeplňovat, chceme, aby přebytek itemů cestoval zpět do vstupů balancéru na udržování plnou propustnost na všech výstupech. Jak bychom toto ale udělali? Je to lehké, využijeme prioritní rozdělovače. Pokud uděláme jejich neprioritní výstup dát itemy zpět do smyčky, garantujeme, že přebytek, a pouze přebytek, tam půjde. Také potřebujeme sloučit itemy v smyčce s vstupy, ale tentokrát s vstupovou prioritou. Nastavíme to tak, že itemy v smyčce jsou neprioritní vstup, aby se to nemotalo s vstupem žádným způsobem: Po trošce testování, zjistíme, že toto má základní vadu. Pokud se smyčkující itemy zkusí napojit na pás, který je plný, zaplní se až na bod rozpojení a zablokují přeplnění, což nás dá zpět na základní čáru. Abychom toto opravili, musíme se ujistit, že každý item v smyčce je schopen se dostat do jednoho výstupu smyčky. Toto se může dělat hned několika způsoby, ale pro naše využití, díváme se na nejmenší číslo rozdělovačů. Je náhodou, že nejvíce ekonomickou cestou, jak toto udělat, je další balancér. Přidejme ho do smyčky: Teď máme plně funkční univerzální 4-4 balancér. Toto ale může být vylepšeno. Díky některým mechanikám balancérů, nepotřebujeme plné čtyři pásy na smyčku zpět. Obecně, potřebujeme o tři pásy méně, než pro kolik je náš balancér vyroben. Toto znamená, že jsme schopni optimalizovat náš balancér kompresováním smyčkujících pásů na dva, a potém rozdělování: Jsme také schopni toto přesunout do podoby, která zabírá mnohem méně místa, jako toto: Tento balancér, který je docela dlouhý, jepouze šest široký, což znamená, že jste schopni ho dát na standardní čtyřpásový bus, a mít dostatek místa, aby jste jich dali několik vedle sebe. Je důležité poznamenat, že toto není můj design, ale je založen na jednom z mých designů. Ztratil jsem ale jméno designéra, takže mu nejsem schopen dát správnou zásluhu. Pokročilý design Tak, zkusme se podívat na něco většího: univerzální 8-8. Začneme tím, že uděláme stejné kroky jako náš 4-4, ale místo toho použijeme 8-8 balancér. Toto je náš výsledek: Bohužel, univerzální 8-8 balancér, který tímto způsobem získáme není perfektní. Narozdíl od standardního 4-4, standardní 8-8 je propustně limitován, což nechá celý univerzální 8-8 balancér propustností limitovaným. Zde je podmínka, která ho nechá zaplnit: Jak jste schopni si všimnout, šest pásů vstupu a výstupu je dostupných, ale méně než šest prochází. Naštěstí, toto může být rychle opraveno s výmenou jádrového balancéru na nelimitovaný propustností: Všimněte si, jak sekundární balancér může zůstat vstupově nelimitovaný, protože jeho jediná práce je povolit, aby itemy šly zpět na pásy. Teď, mohli bychom zkusit použít kompresující trik loopbacku, ale museli bychom kompresovat osm pásů na pět a pak z pěti na osm. To konzumuje mnohem více rozdělovačů, než pokud bychom přeskočili konverzi a balancovali osm pásů rovnou. Protože používáme modré pásy, jsme schopni využít tkaní pásů a zmáčknout osm pásů loopbacku na dvě kostky široké cesty na každé straně: Celá věc je k nepoznání, a to je protože sekundární balancér je teď v řadě s hlavním, což znamená, že se musíme vypořádat s dvanácti pásy danými do prostoru osmi kostek, což nás nutí, aby druhý balancér byl roztáhlý. Pokud snížíme úroveň pásů na červené, jsme schopni odebrat tkaní pásů celkově, a místo toho jsme schopni využít pár modrých podzemních pásů abychom dostali osm červených pásů do prostoru čtyř. Toto nám dovolí lehce snížit úroveň i na žluté pásy, ale potřebujeme pořád využít pár červených a modrých podzemních pásů: Je definitivně možné, abychom použili žlutý design pásů bez použití modrých podzemních pásů, ale to by způsobilo, že by celý design byl mnohem delší. Je také možné, abychom nevyužívaly podzemní pásy vyšších úrovní u červených a žlutých pásů, ale to by způsobilo to, že by celý balancér byl o 33% širší a kdo ví o co delší. Konečné Vysvětlení Záměrně jsem nechal pár záhad v tomto článku, protože některé byly moc nepřijemné na vysvě, tlování v procesu, a některé sám dost nechápu. Toto je část, kde se je snažím vysvětlit, tak varování, že trochu technické věci budou následovat. Jak víte, že balancér je nejefektivnější způsob distribuce itemů přes pásy? Dokažme toto indukcí. Jako první, představte si že máme nejefektivnější distrubutor přes 2N-1 pásů, můžeme to nazývat “malým distributorem”. Teď, přidejme řadu rozdělovačů, aby rozdělily každý vstup na 2. Teď máme 2N-1-2N distributor. Abychom měli správné číslo vstupů, klonujme smalý distributor a vraťme jeho výstupy do zbytku vstupů v přidaném rádku rozdělovačů. Teď máme 2N-2N distributor s nejmenším možným počtem rozdělovačů možným. Řekněmě, že 2-2 distributor je jeden rozdělovač, což je očividně nejvíce efektivní. Efektivní generující algoritmus redistributorů je identický nejlehčímu generovacímu algoritmu balancérů, a to si můžete vyskoušet sami. Jak jste schopni garantovat balancování vstupu? Pro jakýkoli N-N balancér, pokud žádný výstup není přetížen, všechny mají stejnou propustnost nehledě na vstupy. Podobně, pokud žádné vstupy nejsou prázdné, každý z nich má stejnou propustnost nehledě na výstupy. Takže když smyčka má dostatečnou kapacitu na plnění chybějících vstupů, bude existovat balancování vstupu. Proč je méně pásů v smyčce? Abych byl upřímný, sám toto plně nechápu. Je to experimentálně získaný výsledek, a má to něco s dočiněním že tři je nejmenší číslo, které nedělí 2N, což nechá tři otevřené výstupy nejhorším případem, s kterým si musí smyčka poradit. Nejsem schopen ale vysv ětlit, proč jeden a dva nepotřebují plné smyčky. Pokud by si někdo chtěl poradit a pomoc mi s matematikou zde, byl bych více než rád. Závěr Toto byl víceméně povrchový vzhled na svět univerzálních balancérů. Mohli jsme se podívat hlouběji, třeba zkoumání N-3 teorému, ale nemyslím si, že univerzální balancéry jsou dostatečně užitečné na to. Jsou více hračkou a hezkou zvědavostí než něco použitelného v reálných situacích. Jsem schopen vymyslet pouze pár situací, kde by byly užitečné, a to je vykládání vlaků s variabilní délkou a druhá je že nechcete projíždět skrz plánové knížky balancérů. Univerzální balancéry (a po pravdě, všechny balancéry) jsou moc velké s moc malým benefitem, a stejně by jste měli používat prioritní rozdělovače. Univerzální 8-8 balancér je pouhým experimentem toho, co může být děláno s pásy (je to skoro jako kdyby to bylo duchovním nástupcem pásového sčítače a paměti) a není záměrem, aby se používal v užitečném způsobu. Pokud jste schopni najít scenário pro užitek, prosím napište mi, jsem sám docela zvědavý, pro jaké účely tato monstrosita může být využívána. Jste také vítáni zkusit vyrobit presentované designy menší pokud jste absolutní maniak a máte až moc volného času. Přispívání Jako vždy, hledáme lidi, kteří chtějí přispívat k Alt-F4, buď to je přidáváním zajímavěho článku nebo překladem. Pokud máte něco zajímavého na mysli co by jste chtěli sdílet s komunitou v hezkém způsobu, toto je ideální místo kde o tom diskutovat. Pokud si nejste moc jisti o tom, rádi pomůžeme s diskuzí nápadů o obsahu a strukturování otázek. Pokud to zní jako něco zajímavého, připojte se na Discord aby jste začali!">
<meta property="og:description" content="Tento týden, pocarski pokračuje s jeho sestupem do pásově-orientovaného šílenství tím, že se podívá na univerzální balancéry. Výsledek je jak šílený jako je zbytečný, takvíte, že tu máte pochoutku! Univerzální 8-8: Perfectly Balanced, as All Things Should Be pocarski Nedávno, vyrobil jsem několik počítačových částí s pásy a rozdělovači. Tento týden, budu pokračovat v mé nezdravé posedlosti s posuvem itemů vyráběním něčeho, což je po pravdě i trochu praktické: balancér. Tak, proč bych ale psal celý článek o designování balancéru? No, to je proto, že ten který vyrobíme tento týden není váš průměrný balancér! Tento článek nepůjde moc hluboko do principů designování balancéru, protože budeme používat předem vyrobené a známé plány většinou. Ale, ne všechny balancéry jsou vytvořeny rovně, takže budete muset znát trochu terminologie: Vstupově balancovaný: Bere z všech vstupů rovnoměrně. Zvláště důležitý, když rozdělujete hodně vstupů do pár výstupů Výstupově balancovaný: Dává všem výstupům rovnoměrně. Zvláště důležitý, pokud rozdělujete pár vstupů do několika výstupů Propustností limitovaný: Má interní limitace. Příklad propustností limitovaného by bylo spojování dvou pásů do jednoho, a poté rozdělování toho jednoho v dva. Takový systém má maximální propustnost jednoho pásu, i kdyby dva pásy byly k dispozici u vstupu a i u výstupu. Propustností nelimitovaný: Opak propustností limitovaného, nemá žádné interní limitace. Pokud X pásů je schopno projít zkrz, projdou zkrs. Všechny plány z tohoto článku (a pár dalších) jsou dostupné zde. Propozice Zobrazte si následující: Jste nový hráč, a právě jste slyšeli o věci nazývané “balancéry” a o tom, jak užitečné jsou. Chcete balancovat jeden pás na tři. Měli by jste použít 1-3 balancér pro toto, ale o tom ještě nevíte, takže zkusíte použít 4-4 balancér s pouze jedním vstupem a třiemy výstupy zapojeny. Místo očekávaného 1:1:1 výstupového poměru, setkáte se s 1:1:2 poměrem a hodně zklamání. S tímto článkem, dal jsem si cíl vytvořit balancér, pro který by tato intuice fungovala; v jiných slovech, nezáleží na konfiguraci vstupů/výstupů, věechny výstupy jsou si rovny, a z všech vstupů je bráno rovnoměrně. Tento druh balancéru je známý jako “univerzální balancér”, koncept poprvé prozkoumán v tomto postu Redditovým uživatelem u/tzwaan, který je jedním z moderátorů Factorio subredditu. Univerzální balancéry jsou schopny dělat, to co by žádný jiný balancér nebyl schopný dělat: nezáleží na konfiguraci, jsou vstupově balancovány, výstupově balancovány a propustností nelimitovány v stejný čas! Toto je sada vlastností předtím myšleno, že bylo vlastněno pouze 2-2 balancérem, což je jeden rozdělovač. Nevýhoda je, že se stávají velkými. Principy Designu Podívejme se na konvertování 4-4 balancéru na 3-3 balancéru. Toto je děláno tím, že extra výstup dáte do smyčky zpět do prvního rozdělovače. Tento nápad budeme používat jako základní princip: Chceme následující chování: Když se výstup bude přeplňovat, chceme, aby přebytek itemů cestoval zpět do vstupů balancéru na udržování plnou propustnost na všech výstupech. Jak bychom toto ale udělali? Je to lehké, využijeme prioritní rozdělovače. Pokud uděláme jejich neprioritní výstup dát itemy zpět do smyčky, garantujeme, že přebytek, a pouze přebytek, tam půjde. Také potřebujeme sloučit itemy v smyčce s vstupy, ale tentokrát s vstupovou prioritou. Nastavíme to tak, že itemy v smyčce jsou neprioritní vstup, aby se to nemotalo s vstupem žádným způsobem: Po trošce testování, zjistíme, že toto má základní vadu. Pokud se smyčkující itemy zkusí napojit na pás, který je plný, zaplní se až na bod rozpojení a zablokují přeplnění, což nás dá zpět na základní čáru. Abychom toto opravili, musíme se ujistit, že každý item v smyčce je schopen se dostat do jednoho výstupu smyčky. Toto se může dělat hned několika způsoby, ale pro naše využití, díváme se na nejmenší číslo rozdělovačů. Je náhodou, že nejvíce ekonomickou cestou, jak toto udělat, je další balancér. Přidejme ho do smyčky: Teď máme plně funkční univerzální 4-4 balancér. Toto ale může být vylepšeno. Díky některým mechanikám balancérů, nepotřebujeme plné čtyři pásy na smyčku zpět. Obecně, potřebujeme o tři pásy méně, než pro kolik je náš balancér vyroben. Toto znamená, že jsme schopni optimalizovat náš balancér kompresováním smyčkujících pásů na dva, a potém rozdělování: Jsme také schopni toto přesunout do podoby, která zabírá mnohem méně místa, jako toto: Tento balancér, který je docela dlouhý, jepouze šest široký, což znamená, že jste schopni ho dát na standardní čtyřpásový bus, a mít dostatek místa, aby jste jich dali několik vedle sebe. Je důležité poznamenat, že toto není můj design, ale je založen na jednom z mých designů. Ztratil jsem ale jméno designéra, takže mu nejsem schopen dát správnou zásluhu. Pokročilý design Tak, zkusme se podívat na něco většího: univerzální 8-8. Začneme tím, že uděláme stejné kroky jako náš 4-4, ale místo toho použijeme 8-8 balancér. Toto je náš výsledek: Bohužel, univerzální 8-8 balancér, který tímto způsobem získáme není perfektní. Narozdíl od standardního 4-4, standardní 8-8 je propustně limitován, což nechá celý univerzální 8-8 balancér propustností limitovaným. Zde je podmínka, která ho nechá zaplnit: Jak jste schopni si všimnout, šest pásů vstupu a výstupu je dostupných, ale méně než šest prochází. Naštěstí, toto může být rychle opraveno s výmenou jádrového balancéru na nelimitovaný propustností: Všimněte si, jak sekundární balancér může zůstat vstupově nelimitovaný, protože jeho jediná práce je povolit, aby itemy šly zpět na pásy. Teď, mohli bychom zkusit použít kompresující trik loopbacku, ale museli bychom kompresovat osm pásů na pět a pak z pěti na osm. To konzumuje mnohem více rozdělovačů, než pokud bychom přeskočili konverzi a balancovali osm pásů rovnou. Protože používáme modré pásy, jsme schopni využít tkaní pásů a zmáčknout osm pásů loopbacku na dvě kostky široké cesty na každé straně: Celá věc je k nepoznání, a to je protože sekundární balancér je teď v řadě s hlavním, což znamená, že se musíme vypořádat s dvanácti pásy danými do prostoru osmi kostek, což nás nutí, aby druhý balancér byl roztáhlý. Pokud snížíme úroveň pásů na červené, jsme schopni odebrat tkaní pásů celkově, a místo toho jsme schopni využít pár modrých podzemních pásů abychom dostali osm červených pásů do prostoru čtyř. Toto nám dovolí lehce snížit úroveň i na žluté pásy, ale potřebujeme pořád využít pár červených a modrých podzemních pásů: Je definitivně možné, abychom použili žlutý design pásů bez použití modrých podzemních pásů, ale to by způsobilo, že by celý design byl mnohem delší. Je také možné, abychom nevyužívaly podzemní pásy vyšších úrovní u červených a žlutých pásů, ale to by způsobilo to, že by celý balancér byl o 33% širší a kdo ví o co delší. Konečné Vysvětlení Záměrně jsem nechal pár záhad v tomto článku, protože některé byly moc nepřijemné na vysvě, tlování v procesu, a některé sám dost nechápu. Toto je část, kde se je snažím vysvětlit, tak varování, že trochu technické věci budou následovat. Jak víte, že balancér je nejefektivnější způsob distribuce itemů přes pásy? Dokažme toto indukcí. Jako první, představte si že máme nejefektivnější distrubutor přes 2N-1 pásů, můžeme to nazývat “malým distributorem”. Teď, přidejme řadu rozdělovačů, aby rozdělily každý vstup na 2. Teď máme 2N-1-2N distributor. Abychom měli správné číslo vstupů, klonujme smalý distributor a vraťme jeho výstupy do zbytku vstupů v přidaném rádku rozdělovačů. Teď máme 2N-2N distributor s nejmenším možným počtem rozdělovačů možným. Řekněmě, že 2-2 distributor je jeden rozdělovač, což je očividně nejvíce efektivní. Efektivní generující algoritmus redistributorů je identický nejlehčímu generovacímu algoritmu balancérů, a to si můžete vyskoušet sami. Jak jste schopni garantovat balancování vstupu? Pro jakýkoli N-N balancér, pokud žádný výstup není přetížen, všechny mají stejnou propustnost nehledě na vstupy. Podobně, pokud žádné vstupy nejsou prázdné, každý z nich má stejnou propustnost nehledě na výstupy. Takže když smyčka má dostatečnou kapacitu na plnění chybějících vstupů, bude existovat balancování vstupu. Proč je méně pásů v smyčce? Abych byl upřímný, sám toto plně nechápu. Je to experimentálně získaný výsledek, a má to něco s dočiněním že tři je nejmenší číslo, které nedělí 2N, což nechá tři otevřené výstupy nejhorším případem, s kterým si musí smyčka poradit. Nejsem schopen ale vysv ětlit, proč jeden a dva nepotřebují plné smyčky. Pokud by si někdo chtěl poradit a pomoc mi s matematikou zde, byl bych více než rád. Závěr Toto byl víceméně povrchový vzhled na svět univerzálních balancérů. Mohli jsme se podívat hlouběji, třeba zkoumání N-3 teorému, ale nemyslím si, že univerzální balancéry jsou dostatečně užitečné na to. Jsou více hračkou a hezkou zvědavostí než něco použitelného v reálných situacích. Jsem schopen vymyslet pouze pár situací, kde by byly užitečné, a to je vykládání vlaků s variabilní délkou a druhá je že nechcete projíždět skrz plánové knížky balancérů. Univerzální balancéry (a po pravdě, všechny balancéry) jsou moc velké s moc malým benefitem, a stejně by jste měli používat prioritní rozdělovače. Univerzální 8-8 balancér je pouhým experimentem toho, co může být děláno s pásy (je to skoro jako kdyby to bylo duchovním nástupcem pásového sčítače a paměti) a není záměrem, aby se používal v užitečném způsobu. Pokud jste schopni najít scenário pro užitek, prosím napište mi, jsem sám docela zvědavý, pro jaké účely tato monstrosita může být využívána. Jste také vítáni zkusit vyrobit presentované designy menší pokud jste absolutní maniak a máte až moc volného času. Přispívání Jako vždy, hledáme lidi, kteří chtějí přispívat k Alt-F4, buď to je přidáváním zajímavěho článku nebo překladem. Pokud máte něco zajímavého na mysli co by jste chtěli sdílet s komunitou v hezkém způsobu, toto je ideální místo kde o tom diskutovat. Pokud si nejste moc jisti o tom, rádi pomůžeme s diskuzí nápadů o obsahu a strukturování otázek. Pokud to zní jako něco zajímavého, připojte se na Discord aby jste začali!">
<link rel="canonical" href="https://alt-f4.blog/cs/ALTF4-27/">
<meta property="og:url" content="https://alt-f4.blog/ALTF4-27/">
<meta property="og:site_name" content="Alternative Friday Factorio Fan Facts">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-03-12T00:00:00+00:00">
<script type="application/ld+json">
{"dateModified":"2021-03-12T00:00:00+00:00","datePublished":"2021-03-12T00:00:00+00:00","author":{"@type":"Person","name":"pocarski"},"description":"Tento týden, pocarski pokračuje s jeho sestupem do pásově-orientovaného šílenství tím, že se podívá na univerzální balancéry. Výsledek je jak šílený jako je zbytečný, takvíte, že tu máte pochoutku! Univerzální 8-8: Perfectly Balanced, as All Things Should Be pocarski Nedávno, vyrobil jsem několik počítačových částí s pásy a rozdělovači. Tento týden, budu pokračovat v mé nezdravé posedlosti s posuvem itemů vyráběním něčeho, což je po pravdě i trochu praktické: balancér. Tak, proč bych ale psal celý článek o designování balancéru? No, to je proto, že ten který vyrobíme tento týden není váš průměrný balancér! Tento článek nepůjde moc hluboko do principů designování balancéru, protože budeme používat předem vyrobené a známé plány většinou. Ale, ne všechny balancéry jsou vytvořeny rovně, takže budete muset znát trochu terminologie: Vstupově balancovaný: Bere z všech vstupů rovnoměrně. Zvláště důležitý, když rozdělujete hodně vstupů do pár výstupů Výstupově balancovaný: Dává všem výstupům rovnoměrně. Zvláště důležitý, pokud rozdělujete pár vstupů do několika výstupů Propustností limitovaný: Má interní limitace. Příklad propustností limitovaného by bylo spojování dvou pásů do jednoho, a poté rozdělování toho jednoho v dva. Takový systém má maximální propustnost jednoho pásu, i kdyby dva pásy byly k dispozici u vstupu a i u výstupu. Propustností nelimitovaný: Opak propustností limitovaného, nemá žádné interní limitace. Pokud X pásů je schopno projít zkrz, projdou zkrs. Všechny plány z tohoto článku (a pár dalších) jsou dostupné zde. Propozice Zobrazte si následující: Jste nový hráč, a právě jste slyšeli o věci nazývané “balancéry” a o tom, jak užitečné jsou. Chcete balancovat jeden pás na tři. Měli by jste použít 1-3 balancér pro toto, ale o tom ještě nevíte, takže zkusíte použít 4-4 balancér s pouze jedním vstupem a třiemy výstupy zapojeny. Místo očekávaného 1:1:1 výstupového poměru, setkáte se s 1:1:2 poměrem a hodně zklamání. S tímto článkem, dal jsem si cíl vytvořit balancér, pro který by tato intuice fungovala; v jiných slovech, nezáleží na konfiguraci vstupů/výstupů, věechny výstupy jsou si rovny, a z všech vstupů je bráno rovnoměrně. Tento druh balancéru je známý jako “univerzální balancér”, koncept poprvé prozkoumán v tomto postu Redditovým uživatelem u/tzwaan, který je jedním z moderátorů Factorio subredditu. Univerzální balancéry jsou schopny dělat, to co by žádný jiný balancér nebyl schopný dělat: nezáleží na konfiguraci, jsou vstupově balancovány, výstupově balancovány a propustností nelimitovány v stejný čas! Toto je sada vlastností předtím myšleno, že bylo vlastněno pouze 2-2 balancérem, což je jeden rozdělovač. Nevýhoda je, že se stávají velkými. Principy Designu Podívejme se na konvertování 4-4 balancéru na 3-3 balancéru. Toto je děláno tím, že extra výstup dáte do smyčky zpět do prvního rozdělovače. Tento nápad budeme používat jako základní princip: Chceme následující chování: Když se výstup bude přeplňovat, chceme, aby přebytek itemů cestoval zpět do vstupů balancéru na udržování plnou propustnost na všech výstupech. Jak bychom toto ale udělali? Je to lehké, využijeme prioritní rozdělovače. Pokud uděláme jejich neprioritní výstup dát itemy zpět do smyčky, garantujeme, že přebytek, a pouze přebytek, tam půjde. Také potřebujeme sloučit itemy v smyčce s vstupy, ale tentokrát s vstupovou prioritou. Nastavíme to tak, že itemy v smyčce jsou neprioritní vstup, aby se to nemotalo s vstupem žádným způsobem: Po trošce testování, zjistíme, že toto má základní vadu. Pokud se smyčkující itemy zkusí napojit na pás, který je plný, zaplní se až na bod rozpojení a zablokují přeplnění, což nás dá zpět na základní čáru. Abychom toto opravili, musíme se ujistit, že každý item v smyčce je schopen se dostat do jednoho výstupu smyčky. Toto se může dělat hned několika způsoby, ale pro naše využití, díváme se na nejmenší číslo rozdělovačů. Je náhodou, že nejvíce ekonomickou cestou, jak toto udělat, je další balancér. Přidejme ho do smyčky: Teď máme plně funkční univerzální 4-4 balancér. Toto ale může být vylepšeno. Díky některým mechanikám balancérů, nepotřebujeme plné čtyři pásy na smyčku zpět. Obecně, potřebujeme o tři pásy méně, než pro kolik je náš balancér vyroben. Toto znamená, že jsme schopni optimalizovat náš balancér kompresováním smyčkujících pásů na dva, a potém rozdělování: Jsme také schopni toto přesunout do podoby, která zabírá mnohem méně místa, jako toto: Tento balancér, který je docela dlouhý, jepouze šest široký, což znamená, že jste schopni ho dát na standardní čtyřpásový bus, a mít dostatek místa, aby jste jich dali několik vedle sebe. Je důležité poznamenat, že toto není můj design, ale je založen na jednom z mých designů. Ztratil jsem ale jméno designéra, takže mu nejsem schopen dát správnou zásluhu. Pokročilý design Tak, zkusme se podívat na něco většího: univerzální 8-8. Začneme tím, že uděláme stejné kroky jako náš 4-4, ale místo toho použijeme 8-8 balancér. Toto je náš výsledek: Bohužel, univerzální 8-8 balancér, který tímto způsobem získáme není perfektní. Narozdíl od standardního 4-4, standardní 8-8 je propustně limitován, což nechá celý univerzální 8-8 balancér propustností limitovaným. Zde je podmínka, která ho nechá zaplnit: Jak jste schopni si všimnout, šest pásů vstupu a výstupu je dostupných, ale méně než šest prochází. Naštěstí, toto může být rychle opraveno s výmenou jádrového balancéru na nelimitovaný propustností: Všimněte si, jak sekundární balancér může zůstat vstupově nelimitovaný, protože jeho jediná práce je povolit, aby itemy šly zpět na pásy. Teď, mohli bychom zkusit použít kompresující trik loopbacku, ale museli bychom kompresovat osm pásů na pět a pak z pěti na osm. To konzumuje mnohem více rozdělovačů, než pokud bychom přeskočili konverzi a balancovali osm pásů rovnou. Protože používáme modré pásy, jsme schopni využít tkaní pásů a zmáčknout osm pásů loopbacku na dvě kostky široké cesty na každé straně: Celá věc je k nepoznání, a to je protože sekundární balancér je teď v řadě s hlavním, což znamená, že se musíme vypořádat s dvanácti pásy danými do prostoru osmi kostek, což nás nutí, aby druhý balancér byl roztáhlý. Pokud snížíme úroveň pásů na červené, jsme schopni odebrat tkaní pásů celkově, a místo toho jsme schopni využít pár modrých podzemních pásů abychom dostali osm červených pásů do prostoru čtyř. Toto nám dovolí lehce snížit úroveň i na žluté pásy, ale potřebujeme pořád využít pár červených a modrých podzemních pásů: Je definitivně možné, abychom použili žlutý design pásů bez použití modrých podzemních pásů, ale to by způsobilo, že by celý design byl mnohem delší. Je také možné, abychom nevyužívaly podzemní pásy vyšších úrovní u červených a žlutých pásů, ale to by způsobilo to, že by celý balancér byl o 33% širší a kdo ví o co delší. Konečné Vysvětlení Záměrně jsem nechal pár záhad v tomto článku, protože některé byly moc nepřijemné na vysvě, tlování v procesu, a některé sám dost nechápu. Toto je část, kde se je snažím vysvětlit, tak varování, že trochu technické věci budou následovat. Jak víte, že balancér je nejefektivnější způsob distribuce itemů přes pásy? Dokažme toto indukcí. Jako první, představte si že máme nejefektivnější distrubutor přes 2N-1 pásů, můžeme to nazývat “malým distributorem”. Teď, přidejme řadu rozdělovačů, aby rozdělily každý vstup na 2. Teď máme 2N-1-2N distributor. Abychom měli správné číslo vstupů, klonujme smalý distributor a vraťme jeho výstupy do zbytku vstupů v přidaném rádku rozdělovačů. Teď máme 2N-2N distributor s nejmenším možným počtem rozdělovačů možným. Řekněmě, že 2-2 distributor je jeden rozdělovač, což je očividně nejvíce efektivní. Efektivní generující algoritmus redistributorů je identický nejlehčímu generovacímu algoritmu balancérů, a to si můžete vyskoušet sami. Jak jste schopni garantovat balancování vstupu? Pro jakýkoli N-N balancér, pokud žádný výstup není přetížen, všechny mají stejnou propustnost nehledě na vstupy. Podobně, pokud žádné vstupy nejsou prázdné, každý z nich má stejnou propustnost nehledě na výstupy. Takže když smyčka má dostatečnou kapacitu na plnění chybějících vstupů, bude existovat balancování vstupu. Proč je méně pásů v smyčce? Abych byl upřímný, sám toto plně nechápu. Je to experimentálně získaný výsledek, a má to něco s dočiněním že tři je nejmenší číslo, které nedělí 2N, což nechá tři otevřené výstupy nejhorším případem, s kterým si musí smyčka poradit. Nejsem schopen ale vysv ětlit, proč jeden a dva nepotřebují plné smyčky. Pokud by si někdo chtěl poradit a pomoc mi s matematikou zde, byl bych více než rád. Závěr Toto byl víceméně povrchový vzhled na svět univerzálních balancérů. Mohli jsme se podívat hlouběji, třeba zkoumání N-3 teorému, ale nemyslím si, že univerzální balancéry jsou dostatečně užitečné na to. Jsou více hračkou a hezkou zvědavostí než něco použitelného v reálných situacích. Jsem schopen vymyslet pouze pár situací, kde by byly užitečné, a to je vykládání vlaků s variabilní délkou a druhá je že nechcete projíždět skrz plánové knížky balancérů. Univerzální balancéry (a po pravdě, všechny balancéry) jsou moc velké s moc malým benefitem, a stejně by jste měli používat prioritní rozdělovače. Univerzální 8-8 balancér je pouhým experimentem toho, co může být děláno s pásy (je to skoro jako kdyby to bylo duchovním nástupcem pásového sčítače a paměti) a není záměrem, aby se používal v užitečném způsobu. Pokud jste schopni najít scenário pro užitek, prosím napište mi, jsem sám docela zvědavý, pro jaké účely tato monstrosita může být využívána. Jste také vítáni zkusit vyrobit presentované designy menší pokud jste absolutní maniak a máte až moc volného času. Přispívání Jako vždy, hledáme lidi, kteří chtějí přispívat k Alt-F4, buď to je přidáváním zajímavěho článku nebo překladem. Pokud máte něco zajímavého na mysli co by jste chtěli sdílet s komunitou v hezkém způsobu, toto je ideální místo kde o tom diskutovat. Pokud si nejste moc jisti o tom, rádi pomůžeme s diskuzí nápadů o obsahu a strukturování otázek. Pokud to zní jako něco zajímavého, připojte se na Discord aby jste začali!","mainEntityOfPage":{"@type":"WebPage","@id":"https://alt-f4.blog/ALTF4-27/"},"url":"https://alt-f4.blog/ALTF4-27/","@type":"BlogPosting","headline":"Alt-F4 #27 - Designování Zbytečného","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
	

	
	  <meta property="og:image" content="https://alt-f4.blog/assets/ALTF4/27/thumbnail.jpg">
	  <meta name="twitter:image" content="https://alt-f4.blog/assets/ALTF4/27/thumbnail.jpg">
	

	<!-- CSS & fonts -->
	<link href="/cs/assets/GLOBAL/css/titillium-web.css" rel="stylesheet">
	<link rel="stylesheet" href="/cs/assets/GLOBAL/css/style.css">
	<link rel="stylesheet" href="/cs/assets/GLOBAL/css/spidertron.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.css" rel="stylesheet" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,400italic%7CSignika:700,300,400,600" rel="stylesheet" type="text/css">

	<link href="/cs/assets/GLOBAL/img/favicon.ico" rel="icon" type="image/x-icon">
	<link href="/cs/assets/GLOBAL/img/favicon.ico" rel="shortcut icon" type="image/x-icon">

	<!-- RSS -->
	<link href="/cs/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed">

	<script src="/assets/GLOBAL/js/spidertron.js"></script>
	<script src="/assets/GLOBAL/js/localization.js"></script>
	<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
</head>


  <body>
    <!-- Navigation Bar -->
    <nav id="top" class="top-bar">
	<div class="top-bar-inner flex flex-space-between">
		<div class="sites links flex">
			<a href="/cs/" class="sites-current">
				<div id="navbar-logo" role="img" aria-label="Alt-F4 Logo"></div>
			</a>
			<a href="https://alt-f4.blog/cs/discord" class="">Discord</a>
			<span class="separator">|</span>
			<a href="https://factorio.com/blog" class="">FFF</a>
		</div>
		<div class="sites links flex hide-tag-line">
			<em>Komunitou tvořené pokračování našich milovaných "Factorio Friday Facts"</em>
		</div>
		<div class="dropdown flex-end">
			<a class="button flex flex-space-between" href="#">
				<i class="fas fa-language"></i>
			</a>
			<div class="submenu">
				
				<a class="button lang-button" href="/../ALTF4-27/" onclick="setLanguage('en')">English</a>
				
				<a class="button button-green lang-button" href="/cs/ALTF4-27/" onclick="setLanguage('cs')">Čeština</a>
				
				<a class="button lang-button" href="/de/ALTF4-27/" onclick="setLanguage('de')">Deutsch</a>
				
				<a class="button lang-button" href="/es/ALTF4-27/" onclick="setLanguage('es')">Español</a>
				
				<a class="button lang-button" href="/fr/ALTF4-27/" onclick="setLanguage('fr')">Français</a>
				
				<a class="button lang-button" href="/it/ALTF4-27/" onclick="setLanguage('it')">Italiano</a>
				
				<a class="button lang-button" href="/nl/ALTF4-27/" onclick="setLanguage('nl')">Nederlands</a>
				
				<a class="button lang-button" href="/pt-br/ALTF4-27/" onclick="setLanguage('pt-br')">Português Brasileiro</a>
				
				<a class="button lang-button" href="/ru/ALTF4-27/" onclick="setLanguage('ru')">Русский</a>
				
				<a class="button lang-button" href="/zh/ALTF4-27/" onclick="setLanguage('zh')">中文</a>
				
			</div>
		</div>
	</div>
</nav>


    <!-- Main content -->
    <div class="container">
      <div class="container-inner">
        <div class="small-center"></div>
        <!-- Posts -->
        <article class="panel blog-post">
	
	<h1 class="page-title-headder">Alt-F4 #27 - Designování Zbytečného  <author>12-03-2021</author>
</h1>
	
	
	<div class="panel-inset mb0">
		
Napsal <em>pocarski</em>,



upravil <em>stringweasel, Nanogamer7, Conor_, Therenas, Firerazer</em>,



<br>přeložil <em>oof2win2</em>






	</div>
	
	<div class="panel-inset-lighter mt0">
		<div class="post-header">
  <div class="panel">
    <div class="outer">
      <img class="inner" src="/assets/ALTF4/27/thumbnail.jpg" alt="" style="margin: 1px;">
    </div>
  </div>
  <details class="panel toc">
    <summary>
      <h2>Obsah</h2>
    </summary>
    <div class="panel-inset mb0">
      <ul>
  <li>
<a href="#univerz%C3%A1ln%C3%AD-8-8-perfectly-balanced-as-all-things-should-be-pocarski">Univerzální 8-8: Perfectly Balanced, as All Things Should Be <author>pocarski</author></a>
    <ul>
      <li><a href="#propozice">Propozice</a></li>
      <li><a href="#principy-designu">Principy Designu</a></li>
      <li><a href="#pokro%C4%8Dil%C3%BD-design">Pokročilý design</a></li>
      <li><a href="#kone%C4%8Dn%C3%A9-vysv%C4%9Btlen%C3%AD">Konečné Vysvětlení</a></li>
      <li><a href="#z%C3%A1v%C4%9Br">Závěr</a></li>
    </ul>
  </li>
  <li><a href="#p%C5%99isp%C3%ADv%C3%A1n%C3%AD">Přispívání</a></li>
</ul>

    </div>
  </details>
</div>




<p>Tento týden, pocarski pokračuje s jeho sestupem do pásově-orientovaného šílenství tím, že se podívá na univerzální balancéry. Výsledek je jak šílený jako je zbytečný, takvíte, že tu máte pochoutku!</p>
      <h2 id="univerzální-8-8-perfectly-balanced-as-all-things-should-be-pocarski">
        
        
            <a href="#univerz%C3%A1ln%C3%AD-8-8-perfectly-balanced-as-all-things-should-be-pocarski" class="anchor" style="text-decoration: none;">Univerzální 8-8: Perfectly Balanced, as All Things Should Be <author>pocarski</author></a>
          
        
      </h2>
    

<p><a href="https://alt-f4.blog/cs/ALTF4-23/#vypo%C4%8D%C3%ADt%C3%A1n%C3%ADn-pouze-s-p%C3%A1sy-%C4%8D%C3%A1st-prvn%C3%AD-ne-tak-rychl%C3%A1-matematika-pocarski">Nedávno</a>, vyrobil jsem několik počítačových částí s pásy a rozdělovači. Tento týden, budu pokračovat v mé nezdravé posedlosti s posuvem itemů vyráběním něčeho, což je po pravdě i trochu praktické: balancér. Tak, proč bych ale psal celý článek o designování balancéru? No, to je proto, že ten který vyrobíme tento týden není váš průměrný balancér!</p>

<p>Tento článek nepůjde moc hluboko do principů designování balancéru, protože budeme používat předem vyrobené a známé plány většinou. Ale, ne všechny balancéry jsou vytvořeny rovně, takže budete muset znát trochu terminologie:</p>

<ul>
  <li>
<strong>Vstupově balancovaný</strong>: Bere z všech vstupů rovnoměrně. Zvláště důležitý, když rozdělujete hodně vstupů do pár výstupů</li>
  <li>
<strong>Výstupově balancovaný</strong>: Dává všem výstupům rovnoměrně. Zvláště důležitý, pokud rozdělujete pár vstupů do několika výstupů</li>
  <li>
<strong>Propustností limitovaný</strong>: Má interní limitace. Příklad propustností limitovaného by bylo spojování dvou pásů do jednoho, a poté rozdělování toho jednoho v dva. Takový systém má maximální propustnost jednoho pásu, i kdyby dva pásy byly k dispozici u vstupu a i u výstupu.</li>
  <li>
<strong>Propustností nelimitovaný</strong>: Opak propustností limitovaného, nemá žádné interní limitace. Pokud X pásů <em>je schopno</em> projít zkrz, <em>projdou</em> zkrs.</li>
</ul>

<p>Všechny plány z tohoto článku (a pár dalších) jsou dostupné <a href="https://media.alt-f4.blog/ALTF4/27/8to8blueprint.txt">zde</a>.</p>
      <h3 id="propozice">
        
        
            <a href="#propozice" class="anchor" style="text-decoration: none;">Propozice</a>
          
        
      </h3>
    

<p>Zobrazte si následující: Jste nový hráč, a právě jste slyšeli o věci nazývané “balancéry” a o tom, jak užitečné jsou. Chcete balancovat jeden  pás na tři. Měli by jste použít 1-3 balancér pro toto, ale o tom ještě nevíte, takže zkusíte použít 4-4 balancér s pouze jedním vstupem a třiemy výstupy zapojeny. Místo očekávaného 1:1:1 výstupového poměru, setkáte se s 1:1:2 poměrem a hodně zklamání.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/failed_1-3_compressed.jpg" alt="Jak nepoužívat balancér" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>S tímto článkem, dal jsem si cíl vytvořit balancér, pro který by tato intuice fungovala; v jiných slovech, nezáleží na konfiguraci vstupů/výstupů, věechny výstupy jsou si rovny, a z všech vstupů je bráno rovnoměrně. Tento druh balancéru je známý jako “univerzální balancér”, koncept poprvé prozkoumán v <a href="https://www.reddit.com/r/factorio/comments/a5ferf/i_present_to_you_the_44_universal_balancer/">tomto postu</a> Redditovým uživatelem <a href="https://www.reddit.com/user/tzwaan">u/tzwaan</a>, který je jedním z moderátorů <a href="https://www.reddit.com/r/factorio">Factorio subredditu</a>.</p>

<p>Univerzální balancéry jsou schopny dělat, to co by žádný jiný balancér nebyl schopný dělat: nezáleží na konfiguraci, jsou vstupově balancovány, výstupově balancovány <em>a</em> propustností nelimitovány v stejný čas! Toto je sada vlastností předtím myšleno, že bylo vlastněno pouze 2-2 balancérem, což je jeden rozdělovač. Nevýhoda je, že se stávají <em>velkými</em>.</p>
      <h3 id="principy-designu">
        
        
            <a href="#principy-designu" class="anchor" style="text-decoration: none;">Principy Designu</a>
          
        
      </h3>
    

<p>Podívejme se na konvertování 4-4 balancéru na 3-3 balancéru. Toto je děláno tím, že extra výstup dáte do smyčky zpět do prvního rozdělovače. Tento nápad budeme používat jako základní princip:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/loop_example_compressed.jpg" alt="4-4 v smyčce" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Chceme následující chování: Když se výstup bude přeplňovat, chceme, aby přebytek itemů cestoval zpět do vstupů balancéru na udržování plnou propustnost na všech výstupech. Jak bychom toto ale udělali? Je to lehké, využijeme prioritní rozdělovače. Pokud uděláme jejich neprioritní výstup dát itemy zpět do smyčky, garantujeme, že přebytek, a pouze přebytek, tam půjde. Také potřebujeme sloučit itemy v smyčce s vstupy, ale tentokrát s vstupovou prioritou. Nastavíme to tak, že itemy v smyčce jsou neprioritní vstup, aby se to nemotalo s vstupem žádným způsobem:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/autoloops_compressed.jpg" alt="Automaticky smyčkující 4-4" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Po trošce testování, zjistíme, že toto má základní vadu. Pokud se smyčkující itemy zkusí napojit na pás, který je plný, zaplní se až na bod rozpojení a zablokují přeplnění, což nás dá zpět na základní čáru.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/failed_autoloops_compressed.jpg" alt="|ničený automaticky smyčkující 4-4" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Abychom toto opravili, musíme se ujistit, že každý item v smyčce je schopen se dostat do jednoho výstupu smyčky. Toto se může dělat hned několika způsoby, ale pro naše využití, díváme se na nejmenší číslo rozdělovačů. Je náhodou, že nejvíce ekonomickou cestou, jak toto udělat, je další balancér. Přidejme ho do smyčky:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/secondary_balancer_compressed.jpg" alt="Opravený 4-4" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Teď máme plně funkční univerzální 4-4 balancér. Toto ale může být vylepšeno. Díky některým mechanikám balancérů, nepotřebujeme plné čtyři pásy na smyčku zpět. Obecně, potřebujeme o tři pásy méně, než pro kolik je náš balancér vyroben. Toto znamená, že jsme schopni optimalizovat náš balancér kompresováním smyčkujících pásů na dva, a potém rozdělování:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/simplified_balancer_compressed.jpg" alt="Lehký univerzální 4-4" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Jsme také schopni toto přesunout do podoby, která zabírá mnohem méně místa, jako toto:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/small_balancer_compressed.jpg" alt="Small universal 4-4" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Tento balancér, který je docela dlouhý, jepouze šest široký, což znamená, že jste schopni ho dát na standardní čtyřpásový bus, a mít dostatek místa, aby jste jich dali několik vedle sebe. Je důležité poznamenat, že toto není můj design, ale je založen na jednom z mých designů. Ztratil jsem ale jméno designéra, takže mu nejsem schopen dát správnou zásluhu.</p>
      <h3 id="pokročilý-design">
        
        
            <a href="#pokro%C4%8Dil%C3%BD-design" class="anchor" style="text-decoration: none;">Pokročilý design</a>
          
        
      </h3>
    

<p>Tak, zkusme se podívat na něco většího: univerzální 8-8. Začneme tím, že uděláme stejné kroky jako náš 4-4, ale místo toho použijeme 8-8 balancér. Toto je náš výsledek:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/simple_8-8_compressed.jpg" alt="Základní univerzální 8-8" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Bohužel, univerzální 8-8 balancér, který tímto způsobem získáme není perfektní. Narozdíl od standardního 4-4, standardní 8-8 je propustně limitován, což nechá celý univerzální 8-8 balancér propustností limitovaným. Zde je podmínka, která ho nechá zaplnit:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/failed_8-8_compressed.jpg" alt="Základní zaplňující 8-8" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Jak jste schopni si všimnout, šest pásů vstupu a výstupu je dostupných, ale méně než šest prochází. Naštěstí, toto může být rychle opraveno s výmenou jádrového balancéru na nelimitovaný propustností:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/TU_8-8_compressed.jpg" alt="Správný univerzální 8-8" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Všimněte si, jak sekundární balancér může zůstat vstupově nelimitovaný, protože jeho jediná práce je povolit, aby itemy šly zpět na pásy. Teď, mohli bychom zkusit použít kompresující trik loopbacku, ale museli bychom kompresovat osm pásů na pět a pak z pěti na osm. To konzumuje mnohem více rozdělovačů, než pokud bychom přeskočili konverzi a balancovali osm pásů rovnou. Protože používáme modré pásy, jsme schopni využít tkaní pásů a zmáčknout osm pásů loopbacku na dvě kostky široké cesty na každé straně:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/small_8-8_compressed.jpg" alt="Kompaktovaný univerzální 8-8" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Celá věc je k nepoznání, a to je protože sekundární balancér je teď v řadě s hlavním, což znamená, že se musíme vypořádat s dvanácti pásy danými do prostoru osmi kostek, což nás nutí, aby druhý balancér byl roztáhlý. Pokud snížíme úroveň pásů na červené, jsme schopni odebrat tkaní pásů celkově, a místo toho jsme schopni využít pár modrých podzemních pásů abychom dostali osm červených pásů do prostoru čtyř. Toto nám dovolí lehce snížit úroveň i na žluté pásy, ale potřebujeme pořád využít pár červených a modrých podzemních pásů:</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      
        <img src="https://media.alt-f4.blog/ALTF4/27/red_and_yellow_compressed.jpg" alt="Modrá, červená a žlutá univerzální 8-8čky dohromady" style="max-width: ; max-height:  ">
        
        
      
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Je definitivně možné, abychom použili žlutý design pásů bez použití modrých podzemních pásů, ale to by způsobilo, že by celý design byl mnohem delší. Je také možné, abychom nevyužívaly podzemní pásy vyšších úrovní u červených a žlutých pásů, ale to by způsobilo to, že by celý balancér byl o 33% širší a kdo ví o co delší.</p>
      <h3 id="konečné-vysvětlení">
        
        
            <a href="#kone%C4%8Dn%C3%A9-vysv%C4%9Btlen%C3%AD" class="anchor" style="text-decoration: none;">Konečné Vysvětlení</a>
          
        
      </h3>
    

<p>Záměrně jsem nechal pár záhad v tomto článku, protože některé byly moc nepřijemné na vysvě, tlování v procesu, a některé sám dost nechápu. Toto je část, kde se je snažím vysvětlit, tak varování, že trochu technické věci budou následovat.</p>

<ul>
  <li>Jak víte, že balancér je nejefektivnější způsob distribuce itemů přes pásy?</li>
</ul>

<p>Dokažme toto indukcí. Jako první, představte si že máme nejefektivnější distrubutor přes 2<sup>N-1</sup> pásů, můžeme to nazývat “malým distributorem”. Teď, přidejme řadu rozdělovačů, aby rozdělily každý vstup na 2. Teď máme 2<sup>N-1</sup>-2<sup>N</sup> distributor. Abychom měli správné číslo vstupů, klonujme smalý distributor a vraťme jeho výstupy do zbytku vstupů v přidaném rádku rozdělovačů. Teď máme 2<sup>N</sup>-2<sup>N</sup> distributor s nejmenším možným počtem rozdělovačů možným. Řekněmě, že 2-2 distributor je jeden rozdělovač, což je očividně nejvíce efektivní. Efektivní generující algoritmus redistributorů je identický nejlehčímu generovacímu algoritmu balancérů, a to si můžete vyskoušet sami.</p>

<ul>
  <li>Jak jste schopni garantovat balancování vstupu?</li>
</ul>

<p>Pro jakýkoli N-N balancér, pokud žádný výstup není přetížen, všechny mají stejnou propustnost nehledě na vstupy. Podobně, pokud žádné vstupy nejsou prázdné, každý z nich má stejnou propustnost nehledě na výstupy. Takže když smyčka má dostatečnou kapacitu na plnění chybějících vstupů, bude existovat balancování vstupu.</p>

<ul>
  <li>Proč je méně pásů v smyčce?</li>
</ul>

<p>Abych byl upřímný, sám toto plně nechápu. Je to experimentálně získaný výsledek, a má to něco s dočiněním že tři je nejmenší číslo, které nedělí 2<sup>N</sup>, což nechá tři otevřené výstupy nejhorším případem, s kterým si musí smyčka poradit. Nejsem schopen ale vysv ětlit, proč jeden a dva nepotřebují plné smyčky. Pokud by si někdo chtěl poradit a pomoc mi s matematikou zde, byl bych více než rád.</p>
      <h3 id="závěr">
        
        
            <a href="#z%C3%A1v%C4%9Br" class="anchor" style="text-decoration: none;">Závěr</a>
          
        
      </h3>
    

<p>Toto byl víceméně povrchový vzhled na svět univerzálních balancérů. Mohli jsme se podívat hlouběji, třeba zkoumání N-3 teorému, ale nemyslím si, že univerzální balancéry jsou dostatečně užitečné na to. Jsou více hračkou a hezkou zvědavostí než něco použitelného v reálných situacích. Jsem schopen vymyslet pouze pár situací, kde by byly užitečné, a to je vykládání vlaků s variabilní délkou a druhá je že nechcete projíždět skrz plánové knížky balancérů. Univerzální balancéry (a po pravdě, všechny balancéry) jsou moc velké s moc malým benefitem, a stejně by jste měli používat prioritní rozdělovače. Univerzální 8-8 balancér je pouhým experimentem toho, co může být děláno s pásy (je to skoro jako kdyby to bylo duchovním nástupcem pásového sčítače a paměti) a není záměrem, aby se používal v užitečném způsobu. Pokud jste schopni najít scenário pro užitek, prosím napište mi, jsem sám docela zvědavý, pro jaké účely tato monstrosita může být využívána. Jste také vítáni zkusit vyrobit presentované designy menší pokud jste absolutní maniak a máte až moc volného času.</p>
      <h2 id="přispívání">
        
        
            <a href="#p%C5%99isp%C3%ADv%C3%A1n%C3%AD" class="anchor" style="text-decoration: none;">Přispívání</a>
          
        
      </h2>
    

<p>Jako vždy, hledáme lidi, kteří chtějí přispívat k Alt-F4, buď to je přidáváním zajímavěho článku nebo překladem. Pokud máte něco zajímavého na mysli co by jste chtěli sdílet s komunitou v hezkém způsobu, toto je ideální místo kde o tom diskutovat. Pokud si nejste moc jisti o tom, rádi pomůžeme s diskuzí nápadů o obsahu a strukturování otázek. Pokud to zní jako něco zajímavého, připojte se na <a href="https://alt-f4.blog/cs/discord">Discord</a> aby jste začali!</p>





<script>
  (() => {
    if (window.innerWidth >= 720) {
      document.getElementsByClassName('toc')[0].setAttribute('open', '')
    }
  })()
</script>

		
<div class="flex flex-column flex-items-center mt8">
  
  <a class="button-green-right m4" style="width: 16em;" href="https://forums.factorio.com/viewtopic.php?f=5&t=96853">
    Diskutujte na Factorio fórech
  </a>
  
  
  <a class="button-green-right m4" style="width: 16em;" href="https://www.reddit.com/r/factorio/comments/m3i5fr/altf4_27_designing_the_unnecessary/">
    Diskutujte na Redditu
  </a>
  
  
  <a class="button-green-right m4" style="width: 16em;" href="https://alt-f4.blog/cs/discord">
    Diskutujte na Discordu
  </a>
  
</div>


	</div>
	<div class="panel-inset mb0 p4 flex">
		<div>
		<!-- Previous Button -->
		
		<a href="/cs/ALTF4-26/" class="button square-sm"><i class="fas fa-angle-double-left"></i></a>
		
		<a class="button square-sm" href="/cs/">
			<i class="fas fa-home"></i>
		</a>

		<!-- Next Button -->
		
		<a href="/cs/ALTF4-28/" class="button square-sm">
			<i class="fas fa-angle-double-right"></i>
		</a>
		
		</div>
	</div>
</article>

      </div>
    </div>


    <!-- Footer -->
    <footer class="footer">
  <div class="footer-inner panel">

    <div class="footer-links panel-inset slots p1 mt0 mb0">
      <a href="/cs/about" class="slot" title="About">
        <div class="slot-button">
          <i class="fas fa-info"></i>
        </div>
      </a>
      <a href="https://github.com/AlternativeFFFF/Alt-F4" class="slot" title="Github">
        <div class="slot-button">
          <i class="fab fa-github"></i>
        </div>
      </a>
      <a href="https://alt-f4.blog/cs/discord" class="slot" title="Discord">
        <div class="slot-button">
          <i class="fab fa-discord"></i>
        </div>
      </a>
      <a href="/cs/atom.xml" type="application/atom+xml" rel="alternate" class="slot" title="ATOM Feed">
        <div class="slot-button">
          <i class="fas fa-rss"></i>
        </div>
      </a>
      <a href="https://www.freelists.org/list/alt-f4" class="slot" title="Email Newsletter">
        <div class="slot-button">
          <i class="fas fa-envelope"></i>
        </div>
      </a>

      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
    </div>
    <div class="footer-rocket panel-inset m0">
      <div class="spidertron-center">
        <div id="spidertron" class="spidertron-home" data-spidertron-scale="0.6" data-spidertron-speed="400"></div>
      </div>
      <div class="shadow-overlay"></div>
      <div class="shadow-overlay-bottom"></div>
    </div>
    <div class="footer-copyright panel-inset m0">
      Tato webová stránka je čistě projektem fanoušků, není nijak přímo spojena s Wube Software
    </div>
  </div>
</footer>

  </body>

</html>
