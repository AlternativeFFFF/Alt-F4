## Modding Hacks <author>stringweasel</author>

### IR2 <author>stringweasel</author>
https://forums.factorio.com/viewtopic.php?p=554389#p554389

The problem to solve was that players (and their attached character) can be teleported between surfaces, and vehicles can be teleported between surfaces, but characters without an attached player cannot be teleported between surfaces, and during a cutscene the player isn't attached to a character. The sequence I wanted needed the character to be invisible some but not all of the time, and the least troublesome way of achieving it turned out to be making an invisible non-colliding car and putting them inside it and then teleporting that to a "limbo" surface temporarily while the cutscene POV is moving from site to site. There are various other hacky options that don't involve a custom spriteless vehicle but some of them had very nasty side effects (e.g. temporarily teleporting the character to a very distant location on the same surface can play absolute OS-killing havoc with the biter pathfinder if the teleported character happens to be under attack) and it also had to be robust against people disconnecting during the sequence in multiplayer which made destructive cloning too much of a puzzle (you can't teleport a disconnected character to another surface but you can clone the character on another surface and then destroy the original, which is [philosophically interesting](https://en.wikipedia.org/wiki/Teletransportation_paradox) but turned out to be very annoying to "clean up" if the cutscene sequence was interrupted by a disconnection or interference from some other mod). There are probably better ways of tackling it but like a lot of Factorio modding it's a case of fumbling in the dark until you find something that works.

![](media/deadlock-ir2-transmat.mp4)