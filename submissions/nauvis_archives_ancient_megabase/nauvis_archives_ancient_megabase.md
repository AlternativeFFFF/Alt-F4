## Nauvis Archives: Ancient Megabase <author>stringweasel</author>

Since the beginning players have been pushing the limits of Factorio. Seeing how absolutely massive they can build their factories before the game starts grind to a halt and succumb to a slow UPS death. And over the years these limits has been broken time and time again, each time reaching a new record. Currently the record seems to be [u/swolar](https://www.reddit.com/user/swolar/)'s [60UPS 20kspm base](https://www.reddit.com/r/technicalfactorio/comments/gels6c/20k_spm_hybrid_megabase/). Three years ago the largest base was roughly half of swolar's size, which was likely [u/AccidentalChef](https://www.reddit.com/user/AccidentalChef/)'s which ran at [10 rpm](https://www.reddit.com/r/factorio/comments/5osdaa/my_first_gigafactory_10_rockets_per_minute/?utm_source=share&utm_medium=web2x&context=3). And a *month* before that the record was likely AccidentalChef's [3rpm base](https://www.reddit.com/r/factorio/comments/5jntq4/train_based_3_rocket_per_minute_factory/), where he even predicted a 10rpm base would [not be playable](https://www.reddit.com/r/factorio/comments/5jntq4/train_based_3_rocket_per_minute_factory/dbihbkr?utm_source=share&utm_medium=web2x&context=3). (You will notice the metric being `rpm`, or `rocket-per-minute`, since it was before the [Research Revolution](https://www.factorio.com/blog/post/fff-159)™). But how did the biggest megabase look **5 years ago** - before we had rocket launches? How does it compare to modern megabases? And what did it take to build such monstrosities?

### The 1 Rocket Defence Per Minute Factory

Back pre-0.12, in 2015, bases was not measured in `science-per-minute`, or even `rocket-per-minute`. Rather, it was measured in `rocket-defense-per-hour`. At the time [rocket defense](https://wiki.factorio.com/Rocket_defense) was the final end-game item for which the idea was to `"protect the landing of the rescue fleet"` - even though there was no rescueing fleet. But, [bases](https://forums.factorio.com/viewtopic.php?t=7140) rarely even reached `1 rocket-defence-per-hour`, not to mention `per minute`! It simply wasn’t easy building a base at such a scale at the time, the reasons of which I will discuss soon, and it was debated if the game could even handle such large factories. But on the day of 29 June 2015 the legendary [DaveMcW](https://www.reddit.com/user/DaveMcW/) showed the world that it is indeed possible with this [enormous 6km-by-6km base](https://www.reddit.com/r/factorio/comments/3biwcf/one_minute_rocket_defense/).

![](media/base_entire_map.jpg "1 Rocket Defense Per Minute by DaveMcW")
*1 Rocket Defense Per Minute Base by DaveMcW*

This base shook the community, as clearly expressed by the top [comment](https://www.reddit.com/r/factorio/comments/3biwcf/one_minute_rocket_defense/csmijcz?utm_source=share&utm_medium=web2x&context=3) by u/TheWrongCat. It suprised some of Factorio's biggest builders, including [u/Zistau](https://www.reddit.com/r/factorio/comments/3biwcf/one_minute_rocket_defense/csmk0he?utm_source=share&utm_medium=web2x&context=3), [u/rootnegative](https://www.reddit.com/r/factorio/comments/3biwcf/one_minute_rocket_defense/csmw6iv?utm_source=share&utm_medium=web2x&context=3) and [u/Xterminator5](https://www.reddit.com/r/factorio/comments/3biwcf/one_minute_rocket_defense/csn0pk8?utm_source=share&utm_medium=web2x&context=3). Even Wube's lead developer, [u/kovarex](https://www.reddit.com/user/kovarex/), [commented](https://www.reddit.com/r/factorio/comments/3biwcf/one_minute_rocket_defense/csnfvg8?utm_source=share&utm_medium=web2x&context=3) on how hard it would be to optimise Factorio run this base at 60 FPS/UPS (spoiler: *it does now!*). DaveMcW truly shattered the limits of what was thought possible in Factorio.

To a few it came as no suprise that DaveMcW designed this record breaking base, since he has always been on the cutting edge of Factorio. He was the original creator of the [Blueprint String](https://forums.factorio.com/viewtopic.php?f=190&t=6742) which was later added into vanilla. He built the first [large scale colour display](https://www.reddit.com/r/factorio/comments/5dxi3a/factorio_sandstorm/), famously showcasing [Darude Sandstrom](https://youtu.be/mgfwwqwxdxY). He created a mod called [Recursive Blueprints](https://mods.factorio.com/mod/recursive-blueprints) to automate blueprint placing, and then built a fully functioning factory using the mod that's *only* [9x14 tiles big](https://www.reddit.com/r/factorio/comments/6j48q7/9x14_micro_factory_recursive_blueprints/). He was even the one who found the [origin](https://www.reddit.com/r/factorio/comments/526zwk/i_found_the_source_of_the_alien_artifact/) of the original [Alient Artefact](https://alt-f4.blog/ALTF4-6/#alien-artifacts-a-primitive-technology) sprite. Needless to say, if any player was able to pull this of, it was DaveMcW. 

### Why The Big Deal?
Firstly, the size and throughput of this size is enormous, even in today's standards. To compare it to what we know today we can look at the insane amount of circuit's his based consumed, which is the main ingredient for rocket defense. And it consumed roughly what a modern [full-productivity-bonus 2kspm factory](https://kirkmcdonald.github.io/calc.html#zip=fZLLbgMhDEX/hlWQJsluJD7GAWdqlZds0zb9+jJKN02dbCzBuVy/ULgEQVWqm7gECuHoF7+42MPZFaozXjBrwK/OKOKVoUpvrH6/dqmEfnZpeuwxhuPJkWKRAENbAaVWvUTCGtF3iO8rr6dlWQ65bSRK0YSFMinwzYTxDQtFyCbs3NKIT7MO3Z1tX5kHtIgr0zPjbCnGUUYGbbzWkfNDOGDGqDx7ug6u08wUXYkRuPgCG3xTtUUbY4VkM6qCrGiX0Ak5zlV6bqMmeZ2lU38Cfqf4sc/q3r2pY0hg18FAj3d3IKCY5w5sQ2kZeM6+4pPXHTG9qki0VfSf8I/c8d/Pa0l+AA==) would consume today. But this was built *fully* vanilla, with biters, before [personal roboports](https://wiki.factorio.com/Personal_roboport), without a [live map view](https://www.reddit.com/r/factorio/comments/76r746/the_ability_to_zoom_in_on_map_view_and_blueprint/), without [copy-paste-undo](https://www.factorio.com/blog/post/fff-255), without any existing [calculators](https://kirkmcdonald.github.io/), no [blueprint books](https://wiki.factorio.com/Blueprint_book), to name a few.

Firstly, simply achieving the throughput is also non-trivial in 0.11, even if we only look at beacons. They're used to speed up machines, which means you need less machines, which increases your UPS and lowers the footprint. Today it's trivial to place [12 beacons](https://www.reddit.com/r/factorio/comments/bgf7er/green_circuits_blueprint_uses_12beacon_and_level/) around an assembler. But, in 0.11, there were no [stack inserters](https://wiki.factorio.com/Stack_inserter) or even [stack size bonus](https://wiki.factorio.com/Roadmap/History#Factorio_0.13_.28June_27th_2016.29). This means, for example, to keep a electronic circuit assembler running with 40% productivity and only 4 full speed beacons affecting it (+140%), you'll need **15** [fast inserters](https://wiki.factorio.com/Inserters) to load/unload that single machine, which is arguably impossible (without bots). This meant there was a severe limitation of the amount of beacons can can be used, although it did result in some beautiful designs.

![](media/base_spaghetti.gif "Beautiful chaos")

*One section of 32 creating most of the circuits.* 

Then, importing enough raw resources for a factory of this size requires amounts that's still mind boggling today. For example, in 0.11 there was no [mining productivity](https://wiki.factorio.com/Mining_productivity_(research)). This means that resource patches be depleted *very* quickly, and maintaining a megabase would unfortunately consist largly of rebuilding outposts (hence the addition of mining productivity in [0.15](https://wiki.factorio.com/Version_history/0.15.0)). DaveMcW delayed this problem by building an absolutely gigantic outpost rail network. Using 72 unloading stations in total, accross 4 seperate rail networks, he had 216 trains importing ore from **217** resource outposts. (No, that's not a typo). That's what he needed to feed his factory without running out of ore, or at least for roughly 20 hours.

Took 11 months - no calculators or tools to aid design. UPS died. Probably took how long

### A Few Interesting Techniques

There are a lot of interesting methods and facts about this base which could keep me talking for hours. However, I will only outline a few aspects of this legendary base.

Firstly, the sprawling rail network, which is DaveMcW's favourite aspect of his base. As mentioned, it's enormous, with 216 trains ~~speeding~~ moving (they were coal powered) between 217 outposts. But, in 0.11, there was no [chain signals](https://wiki.factorio.com/Rail_chain_signal). This meant large intersections were tricky to design for high throughput while preventing train jams (**better word?**). His solution for this was to simply eliminate the need for intersections. Instead, each of his four mirrored rail networks consisted of a large single loop, meaning there was never traffic crossing from oposing sides! Additionally, in 0.11 [train schedules](https://wiki.factorio.com/Railway#Train_schedule) could *only* handle a `"time passed at station"` condition. Therefore, to also ensure all outposts are drawn from evenly, *each* of the 216 trains has a custom wait time.

![](media/base_rail_network.png "Four Seperate Rail Networks without intersections")
**TAKE A 0.11 SCREEN SHOT**

cars as chests

Didn't use large powerpoles, got annoyed by collision box

No safety factor. The module production (producing 50 /m of each)

### Running The Factory in 1.0
I was curious how this ancient and massive base would run in Factorio 1.0 with the all the optimizations the developers have applied over the past 5 years. So I migrated it, which took longer than I expected, but it works! For reference, on my [5 year old CPU](https://ark.intel.com/content/www/us/en/ark/products/75123/intel-core-i7-4770k-processor-8m-cache-up-to-3-90-ghz.html) using `0.11.22` the base runs at `2/7 FPS/UPS`, but in `1.0` it reaches `60/60 FPS/UPS`! Although just barely. It's not a perfect representation, but it's amazing to think that it's the same number of belts, items, machines, inserters, etc, but it's calculated so much faster!

*(Disclaimer: the migration to `1.0` is not perfect. For example fluids is slightly hacked. And I'm sure there's something else I missed. The goal was to get the base running mostly in the same configuration.)*

PICTURE OF BASE RUNNING IN HD

There were quite a few changes apply to run this old base in `1.0`. It started with adding items and changing recipes to reflect `0.11`. Then there were more straight-forward changes like fixing cases where inserters now needing a [belt directly in front of it](https://www.reddit.com/r/factorio/comments/48v5qo/inserters_not_picking_up_from_end_of_conveyor/). Or replacing small-pump setups (of which DaveMcW was also the [expert](https://forums.factorio.com/viewtopic.php?f=134&t=6066)) with normal [pumps](https://wiki.factorio.com/Pump).  But, there were few a other changes that was not initially apparent interesting. For example, in `0.11` a splitter's throughput was limited by it's output, whereas today it's limited by it's input. This means a red belt could be split 50-50 using a **yellow** splitter and still maintain full throughput. Luckily, since the base is so beautifully mirrored, if I found a problem in a specific area, I knew I had to fix it in 3 or 7 other areas as well.

PICTURE OF WEIRD SPLITTING BEHAVIOUR

Then, I had to deal with biters and insufficient defenses. This is because DaveMcW used an [old belt trick](https://forums.factorio.com/viewtopic.php?f=8&t=10151) that interrupts a spitter's attack animation indefinitely, which means the laser turrets only needs to focus on biters. To circumvent this problem completely for `1.0`, without losing the CPU load of biters, I simply [increased the laser turret damage 10-fold](https://youtu.be/xxtxn3H1g60). 

![](media/base_perimeter.jpg "Belt Trick with Laser Perimeter")
*Perimeter wall showing belt that interrupts spitter attack animation. (Image from [here](https://imgur.com/a/xcYxk))*

Finally I had to modify *all* vertical train stations manually, which was the most time consuming. This is because before [`0.13`](https://wiki.factorio.com/Roadmap/History#Factorio_0.13_.28June_27th_2016.29) vertical and horizontal train stations had [different lengths](https://www.factorio.com/blog/post/fff-133)!

You too can observe this breathtaking base by downloading the `1.0` [here]() and the required modpack [here](). Or if you want a quick look around 

### My Notes

NEED TO MENTION MIRROR SIMMETRY EARLY

[the base](https://www.reddit.com/r/factorio/comments/3biwcf/one_minute_rocket_defense/)

[forum post](https://forums.factorio.com/viewtopic.php?t=13269)

The transport belts interrupt the spitter attack animation, making them do zero damage. The laser turrets focus fire the biters, making them do zero damage. It never needs repairs.

[1rpm googlemap](https://www.reddit.com/r/factorio/comments/3bp4hx/one_minute_rocket_defense_google_map/)

[this base by ColWill reached 5k iron / min](https://www.youtube.com/watch?v=IuRdFCvwzJE&ab_channel=ColonelWill)


[Proper timing is required for all station designs, it is a function of mining outpost distance.](https://www.reddit.com/r/factorio/comments/3biwcf/one_minute_rocket_defense/cso0nwl?utm_source=share&utm_medium=web2x&context=3)

What is the splitter/belt trick?
Theres no large poles! Why?
 - large power poles used to have a hitbox the size of accumulators. I got so annoyed walking into them that I refused to use them
Theres no balancers!
Belts not backed up. It's designed to not run full belts. Makes it beautiful

I fixed:
- added a radar in the factory itself.
- Add recipes for goop and rocket defense
- Hacked oil to require only 1 oil and 1 water
- Added daggling belts for inserters to pick up    
- ~~Remove stack size bonus (Except for long-handed)~~
- Gave laser-turrets insane damage.
- Fixed all vertical train stations
- Fixed processing units, advanced circuits, chemical plant
- Replaced splitters on coal lines. Didn't allow enough coal to pass. Interesting change in spliter beaviour.
- Made long handed inserters 50% faster since they have to rotate further
- Fixed module 3 recipe

Other notes
- BELTS ARE FASTER! What effect will this have?


Bonus points if you find the roboport that DaveMcW dropped 5 years ago.

From Dave:
- How long did it take to design/build? Started designing just after his [destroyer capsule](https://forums.factorio.com/viewtopic.php?f=202&t=4936) factory. So 11 months.
  - that includes calculating everything, since calculators had not been invented yet  
- no cheats was simply because useful ones hadn't been invented either



~~More questions~~ (Asked):
- Do you know what was the previous biggest factory? I've tried to find something, but it's not easy to find such things.
- How much of a safety factor did you design in?
- what would you do differently if you did it again? (Assuming we're still in 0.11) 
- Was all your modules designed in perfect ratios? For example your red-circuit module, as shown in the imgur album (link: https://imgur.com/a/xcYxk#RgdrW3s). I've tried to check myself, but as you mentioned, there isn't really tools.
- Could we provide a direct download link for your map in the article?
