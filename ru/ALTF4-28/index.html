<!DOCTYPE html>
<html lang="ru" class="ru">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Alt-F4 #28 - ROFL</title>
	<!-- Meta -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2">
<meta property="og:title" content="Alt-F4 #28 - ROFL">
<meta name="author" content="Ph.X">
<meta property="og:locale" content="en">
<meta name="description" content="This fine week in March, first-time contributor Ph.X talks about their very compartmentalized system for laying out a base using isolated modules and connecting them through a Logistic Train Network. Taking inspiration from software development and the lessons learned there, Ph.X uses the concepts of Modular Programming to their advantage. Also, in other news, we now offer an email list that you can subscribe to! If you don’t browse reddit or the forums or even our Discord regularly, we now offer the option of the ever-popular concept of an email list. Just enter your email here and you’ll be notified every Friday on release of the newest issue. We will of course only ever use this for Alt-F4 posts, and not spam you with irrelevant crap. Recipe-Oriented Factorio Life Ph.X Factorio has a complex network of production lines (i.e. spaghetti) that make the game fun and challenging. It’s a complex engineering problem with similar challenges to software engineering, so I think it is worthwhile to use some real-life experience to improve the game experience. What is ‘ROFL’ People with programming experience should have heard of Object-Oriented Programming Modular Programming, which is the theory that Recipe-Oriented Factorio Life (ROFL) aims to mimic. Modular programming is a software design technique that emphasizes separating the functionality of a program into independent, interchangeable modules, such that each contains everything necessary to execute a single aspect of the desired functionality. In ROFL, we divide the whole factory into independent, interchangeable subfactory modules, such that each contains everything necessary to process only one recipe of the desired factory. Like most philosophies, ROFL tries to find one timeless Arche as the origin of everything; In our case, we choose the recipe. Red circuits can be crafted by an assembly machine of any tier, which may be affected by different modules, and the required raw materials may come from a belt, a logistics chest, or even an adjacent copper wire assembly machine, but no matter how other conditions may change, the recipe itself keeps being copper wires, electronic circuits with plastic bars to the advanced circuit. The recipe is kind of an atomic operation in Factorio: an indivisible unit, as it can’t be broken down further. Based on a certain recipe, a dedicated subfactory is packaged into a module. A separate logistics system is used to fetch raw materials and ditch products for the modules, as the interface for external interaction of the module. The purpose of this division is to achieve high cohesion inside the modules and low coupling between the modules. High cohesion inside the module meaning the module contains all the facilities (assemble machines, inserters, belts, power poles, beacons, etc.) needed to make the recipe so it can work independently. Low coupling between the modules meaning modules interact with each other through predefined interfaces (ie. power and rail grids) without direct dependencies, making them interchangeable. To better implement this idea, the LTN - Logistic Train Network, AAI Containers &amp; Warehouses and Miniloader mods are being used in the following examples. The blueprints for all the examples below can be downloaded here. Interface Design Before actually building any subfactory modules, we need to design a universal logistics network as the interface between the modules. Although a main bus or logistic robots can be implemented as such a logistics system to some extent, a city-block rail grid far exceeds other solutions in terms of throughput, reusability, and plain coolness. In vanilla, trains can only run on a predetermined schedule, which is not very flexible and “logistical”. This is where the Logistic Train Network comes in handy. With LTN, trains are parked in depot stations, just like logistic robots are parked in roboports. When there is a logistic demand, the system will find a suitable train at the depot and generate a schedule for it to fetch the specified items at the provider station, then go to the requester station for unloading, then return to a depot station, similar again to the behaviour of a logistic robot. But unlike logistic robots, the trains do not load or unload themselves, so inserters or loaders at the stations are needed. LTN is more powerful than a logistic robot network because of the huge cargo capacity, high speed, and support for fluid transports. The chosen rail grid in my example is a two-way left-hand drive railroad, which allows me to place the rail signals in between the rails. Junctions are straight and left turn only for space-saving. Most stations have a train stop limit of two to ensure that a maximum of one train waits outside the station. Sections occupied by a handful of trains waiting outside the stations can be detoured through the fully interconnected grid. Only the centre grid will contain a crafting module. The modules are kept at a grid distance from each other, where the grids between the modules are used for train traffic management, solar power generation, and robot logistics networks separation. Robots excel in short-distance logistics but are terrible at long-distance transportation. A separated logistics network can prevent robots from being involved in unnecessary long-distance flights because that part of the job belongs to trains. The smallest two-car trains with one locomotive and one cargo/fluid wagon were chosen to reduce the size and eliminate the need to balance loading and unloading between wagons. Fuel replenishment for the locomotives happens in the LTN depot stations where trains return after each delivery. Fuel used for locomotives replenishment are also acquired via LTN. Module design Let’s start with the simplest example, the iron gear wheel; a recipe with a single ingredient and a single product. A logistic train stop at the bottom of the grid is requesting 8000 iron plates, and a logistic train stop at the top of the grid is providing items (i.e. gears) from the connected warehouse. Simply gear module. The raw material station sits at the bottom, the product station is located at the top. Since the inputs and outputs within this module are fulfilled by trains, our modification and upgrade of the production line within the module will not affect other modules. So, we could change it into a fully beaconed setup for gears without changing anything else about the factory. Gear module with beacons. No change of stations, only the production line between stations. Next, let‘s look at an advanced circuit module with three types of raw materials. By setting the logistic train stop to request multiple ingredients, we are able to unload all of our raw materials at a single station. At this point all the raw materials are mixed in one warehouse, we then use filter miniloaders (similar to filter inserters) to separate each material onto a separate belt to supply the assembly machines. Advanced circuit module. Use a single station to obtain raw materials. The same works for recipes that produce/consume fluids if we use a fluid wagon instead. Oil refinery module. Note that by controlling the pump via the LTN signal allows different fluids to be loaded or unloaded at the same station without mixing. There are also some unconventional recipes, such as research, a steam power plant, and the rocket silo. Research centre module, which doesn’t need an output station. Steam power plant with landfill to place on the water. Or you can use Landfill Everything to prepare the site. Rocket silo module. Independent logistics robot networks are used within the module. The bottom station is for materials needed to build rockets, and the station on right is for the payloads of the rocket, usually satellites. Pros and Cons of ROFL ROFL is aimed at engineering-minded people, making it easy for players to divide and conquer production problems. When you need to implement a certain recipe, simply set up input and output stations in the grid that match the types of raw materials and products, and then design production lines between the stations. When the capacity of a recipe is insufficient, you can directly copy and paste the corresponding factory module and integrate it into the whole factory production without plumbing up the inputs and outputs. ROFL is not optimized towards perfect production, as it is not a perfect-ratio production line, so it’s common that structures stop working because of insufficient raw materials or product overflow. Each item has to be loaded to and unloaded from a wagon, adding a lot of input and output bottlenecks, most typically in copper wire, where the number of products exceeds the number of raw materials and the number of stacks is high while the demand is huge. There is a very significant stockpile for every cell because of the warehouses, which does not help you identify the items with insufficient production in time (definitely iron ore though). The rail network used for inter-module logistics in the factory is expensive to build and also poses a large number of traffic accident hazards (praise the Spidertron). Conclusion ROFL is more of a way of thinking that tries to simplify complex problems rather than a blueprint book. The examples above are just one solution that uses ROFL as a guide. Using LTN to build a rail grid may be considered a bit cheaty by some, but this idea can also be used for main bus gameplay and more. There will never be one “correct” way to play Factorio, the variety is what makes it awesome. A space exploration mod game using the ROFL scheme above. Contributing As always, we’re looking for people that want to contribute to Alt-F4, be it by submitting an article or by helping with translation. If you have something interesting in mind that you want to share with the community in a polished way, this is the place to do it. If you’re not too sure about it we’ll gladly help by discussing content ideas and structure questions. If that sounds like something that’s up your alley, join the Discord to get started!">
<meta property="og:description" content="This fine week in March, first-time contributor Ph.X talks about their very compartmentalized system for laying out a base using isolated modules and connecting them through a Logistic Train Network. Taking inspiration from software development and the lessons learned there, Ph.X uses the concepts of Modular Programming to their advantage. Also, in other news, we now offer an email list that you can subscribe to! If you don’t browse reddit or the forums or even our Discord regularly, we now offer the option of the ever-popular concept of an email list. Just enter your email here and you’ll be notified every Friday on release of the newest issue. We will of course only ever use this for Alt-F4 posts, and not spam you with irrelevant crap. Recipe-Oriented Factorio Life Ph.X Factorio has a complex network of production lines (i.e. spaghetti) that make the game fun and challenging. It’s a complex engineering problem with similar challenges to software engineering, so I think it is worthwhile to use some real-life experience to improve the game experience. What is ‘ROFL’ People with programming experience should have heard of Object-Oriented Programming Modular Programming, which is the theory that Recipe-Oriented Factorio Life (ROFL) aims to mimic. Modular programming is a software design technique that emphasizes separating the functionality of a program into independent, interchangeable modules, such that each contains everything necessary to execute a single aspect of the desired functionality. In ROFL, we divide the whole factory into independent, interchangeable subfactory modules, such that each contains everything necessary to process only one recipe of the desired factory. Like most philosophies, ROFL tries to find one timeless Arche as the origin of everything; In our case, we choose the recipe. Red circuits can be crafted by an assembly machine of any tier, which may be affected by different modules, and the required raw materials may come from a belt, a logistics chest, or even an adjacent copper wire assembly machine, but no matter how other conditions may change, the recipe itself keeps being copper wires, electronic circuits with plastic bars to the advanced circuit. The recipe is kind of an atomic operation in Factorio: an indivisible unit, as it can’t be broken down further. Based on a certain recipe, a dedicated subfactory is packaged into a module. A separate logistics system is used to fetch raw materials and ditch products for the modules, as the interface for external interaction of the module. The purpose of this division is to achieve high cohesion inside the modules and low coupling between the modules. High cohesion inside the module meaning the module contains all the facilities (assemble machines, inserters, belts, power poles, beacons, etc.) needed to make the recipe so it can work independently. Low coupling between the modules meaning modules interact with each other through predefined interfaces (ie. power and rail grids) without direct dependencies, making them interchangeable. To better implement this idea, the LTN - Logistic Train Network, AAI Containers &amp; Warehouses and Miniloader mods are being used in the following examples. The blueprints for all the examples below can be downloaded here. Interface Design Before actually building any subfactory modules, we need to design a universal logistics network as the interface between the modules. Although a main bus or logistic robots can be implemented as such a logistics system to some extent, a city-block rail grid far exceeds other solutions in terms of throughput, reusability, and plain coolness. In vanilla, trains can only run on a predetermined schedule, which is not very flexible and “logistical”. This is where the Logistic Train Network comes in handy. With LTN, trains are parked in depot stations, just like logistic robots are parked in roboports. When there is a logistic demand, the system will find a suitable train at the depot and generate a schedule for it to fetch the specified items at the provider station, then go to the requester station for unloading, then return to a depot station, similar again to the behaviour of a logistic robot. But unlike logistic robots, the trains do not load or unload themselves, so inserters or loaders at the stations are needed. LTN is more powerful than a logistic robot network because of the huge cargo capacity, high speed, and support for fluid transports. The chosen rail grid in my example is a two-way left-hand drive railroad, which allows me to place the rail signals in between the rails. Junctions are straight and left turn only for space-saving. Most stations have a train stop limit of two to ensure that a maximum of one train waits outside the station. Sections occupied by a handful of trains waiting outside the stations can be detoured through the fully interconnected grid. Only the centre grid will contain a crafting module. The modules are kept at a grid distance from each other, where the grids between the modules are used for train traffic management, solar power generation, and robot logistics networks separation. Robots excel in short-distance logistics but are terrible at long-distance transportation. A separated logistics network can prevent robots from being involved in unnecessary long-distance flights because that part of the job belongs to trains. The smallest two-car trains with one locomotive and one cargo/fluid wagon were chosen to reduce the size and eliminate the need to balance loading and unloading between wagons. Fuel replenishment for the locomotives happens in the LTN depot stations where trains return after each delivery. Fuel used for locomotives replenishment are also acquired via LTN. Module design Let’s start with the simplest example, the iron gear wheel; a recipe with a single ingredient and a single product. A logistic train stop at the bottom of the grid is requesting 8000 iron plates, and a logistic train stop at the top of the grid is providing items (i.e. gears) from the connected warehouse. Simply gear module. The raw material station sits at the bottom, the product station is located at the top. Since the inputs and outputs within this module are fulfilled by trains, our modification and upgrade of the production line within the module will not affect other modules. So, we could change it into a fully beaconed setup for gears without changing anything else about the factory. Gear module with beacons. No change of stations, only the production line between stations. Next, let‘s look at an advanced circuit module with three types of raw materials. By setting the logistic train stop to request multiple ingredients, we are able to unload all of our raw materials at a single station. At this point all the raw materials are mixed in one warehouse, we then use filter miniloaders (similar to filter inserters) to separate each material onto a separate belt to supply the assembly machines. Advanced circuit module. Use a single station to obtain raw materials. The same works for recipes that produce/consume fluids if we use a fluid wagon instead. Oil refinery module. Note that by controlling the pump via the LTN signal allows different fluids to be loaded or unloaded at the same station without mixing. There are also some unconventional recipes, such as research, a steam power plant, and the rocket silo. Research centre module, which doesn’t need an output station. Steam power plant with landfill to place on the water. Or you can use Landfill Everything to prepare the site. Rocket silo module. Independent logistics robot networks are used within the module. The bottom station is for materials needed to build rockets, and the station on right is for the payloads of the rocket, usually satellites. Pros and Cons of ROFL ROFL is aimed at engineering-minded people, making it easy for players to divide and conquer production problems. When you need to implement a certain recipe, simply set up input and output stations in the grid that match the types of raw materials and products, and then design production lines between the stations. When the capacity of a recipe is insufficient, you can directly copy and paste the corresponding factory module and integrate it into the whole factory production without plumbing up the inputs and outputs. ROFL is not optimized towards perfect production, as it is not a perfect-ratio production line, so it’s common that structures stop working because of insufficient raw materials or product overflow. Each item has to be loaded to and unloaded from a wagon, adding a lot of input and output bottlenecks, most typically in copper wire, where the number of products exceeds the number of raw materials and the number of stacks is high while the demand is huge. There is a very significant stockpile for every cell because of the warehouses, which does not help you identify the items with insufficient production in time (definitely iron ore though). The rail network used for inter-module logistics in the factory is expensive to build and also poses a large number of traffic accident hazards (praise the Spidertron). Conclusion ROFL is more of a way of thinking that tries to simplify complex problems rather than a blueprint book. The examples above are just one solution that uses ROFL as a guide. Using LTN to build a rail grid may be considered a bit cheaty by some, but this idea can also be used for main bus gameplay and more. There will never be one “correct” way to play Factorio, the variety is what makes it awesome. A space exploration mod game using the ROFL scheme above. Contributing As always, we’re looking for people that want to contribute to Alt-F4, be it by submitting an article or by helping with translation. If you have something interesting in mind that you want to share with the community in a polished way, this is the place to do it. If you’re not too sure about it we’ll gladly help by discussing content ideas and structure questions. If that sounds like something that’s up your alley, join the Discord to get started!">
<link rel="canonical" href="https://alt-f4.blog/ru/ALTF4-28/">
<meta property="og:url" content="https://alt-f4.blog/ALTF4-28/">
<meta property="og:site_name" content="Alternative Friday Factorio Fan Facts">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-03-19T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Alt-F4 #28 - ROFL">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ph.X"},"dateModified":"2021-03-19T00:00:00+00:00","datePublished":"2021-03-19T00:00:00+00:00","description":"This fine week in March, first-time contributor Ph.X talks about their very compartmentalized system for laying out a base using isolated modules and connecting them through a Logistic Train Network. Taking inspiration from software development and the lessons learned there, Ph.X uses the concepts of Modular Programming to their advantage. Also, in other news, we now offer an email list that you can subscribe to! If you don’t browse reddit or the forums or even our Discord regularly, we now offer the option of the ever-popular concept of an email list. Just enter your email here and you’ll be notified every Friday on release of the newest issue. We will of course only ever use this for Alt-F4 posts, and not spam you with irrelevant crap. Recipe-Oriented Factorio Life Ph.X Factorio has a complex network of production lines (i.e. spaghetti) that make the game fun and challenging. It’s a complex engineering problem with similar challenges to software engineering, so I think it is worthwhile to use some real-life experience to improve the game experience. What is ‘ROFL’ People with programming experience should have heard of Object-Oriented Programming Modular Programming, which is the theory that Recipe-Oriented Factorio Life (ROFL) aims to mimic. Modular programming is a software design technique that emphasizes separating the functionality of a program into independent, interchangeable modules, such that each contains everything necessary to execute a single aspect of the desired functionality. In ROFL, we divide the whole factory into independent, interchangeable subfactory modules, such that each contains everything necessary to process only one recipe of the desired factory. Like most philosophies, ROFL tries to find one timeless Arche as the origin of everything; In our case, we choose the recipe. Red circuits can be crafted by an assembly machine of any tier, which may be affected by different modules, and the required raw materials may come from a belt, a logistics chest, or even an adjacent copper wire assembly machine, but no matter how other conditions may change, the recipe itself keeps being copper wires, electronic circuits with plastic bars to the advanced circuit. The recipe is kind of an atomic operation in Factorio: an indivisible unit, as it can’t be broken down further. Based on a certain recipe, a dedicated subfactory is packaged into a module. A separate logistics system is used to fetch raw materials and ditch products for the modules, as the interface for external interaction of the module. The purpose of this division is to achieve high cohesion inside the modules and low coupling between the modules. High cohesion inside the module meaning the module contains all the facilities (assemble machines, inserters, belts, power poles, beacons, etc.) needed to make the recipe so it can work independently. Low coupling between the modules meaning modules interact with each other through predefined interfaces (ie. power and rail grids) without direct dependencies, making them interchangeable. To better implement this idea, the LTN - Logistic Train Network, AAI Containers &amp; Warehouses and Miniloader mods are being used in the following examples. The blueprints for all the examples below can be downloaded here. Interface Design Before actually building any subfactory modules, we need to design a universal logistics network as the interface between the modules. Although a main bus or logistic robots can be implemented as such a logistics system to some extent, a city-block rail grid far exceeds other solutions in terms of throughput, reusability, and plain coolness. In vanilla, trains can only run on a predetermined schedule, which is not very flexible and “logistical”. This is where the Logistic Train Network comes in handy. With LTN, trains are parked in depot stations, just like logistic robots are parked in roboports. When there is a logistic demand, the system will find a suitable train at the depot and generate a schedule for it to fetch the specified items at the provider station, then go to the requester station for unloading, then return to a depot station, similar again to the behaviour of a logistic robot. But unlike logistic robots, the trains do not load or unload themselves, so inserters or loaders at the stations are needed. LTN is more powerful than a logistic robot network because of the huge cargo capacity, high speed, and support for fluid transports. The chosen rail grid in my example is a two-way left-hand drive railroad, which allows me to place the rail signals in between the rails. Junctions are straight and left turn only for space-saving. Most stations have a train stop limit of two to ensure that a maximum of one train waits outside the station. Sections occupied by a handful of trains waiting outside the stations can be detoured through the fully interconnected grid. Only the centre grid will contain a crafting module. The modules are kept at a grid distance from each other, where the grids between the modules are used for train traffic management, solar power generation, and robot logistics networks separation. Robots excel in short-distance logistics but are terrible at long-distance transportation. A separated logistics network can prevent robots from being involved in unnecessary long-distance flights because that part of the job belongs to trains. The smallest two-car trains with one locomotive and one cargo/fluid wagon were chosen to reduce the size and eliminate the need to balance loading and unloading between wagons. Fuel replenishment for the locomotives happens in the LTN depot stations where trains return after each delivery. Fuel used for locomotives replenishment are also acquired via LTN. Module design Let’s start with the simplest example, the iron gear wheel; a recipe with a single ingredient and a single product. A logistic train stop at the bottom of the grid is requesting 8000 iron plates, and a logistic train stop at the top of the grid is providing items (i.e. gears) from the connected warehouse. Simply gear module. The raw material station sits at the bottom, the product station is located at the top. Since the inputs and outputs within this module are fulfilled by trains, our modification and upgrade of the production line within the module will not affect other modules. So, we could change it into a fully beaconed setup for gears without changing anything else about the factory. Gear module with beacons. No change of stations, only the production line between stations. Next, let‘s look at an advanced circuit module with three types of raw materials. By setting the logistic train stop to request multiple ingredients, we are able to unload all of our raw materials at a single station. At this point all the raw materials are mixed in one warehouse, we then use filter miniloaders (similar to filter inserters) to separate each material onto a separate belt to supply the assembly machines. Advanced circuit module. Use a single station to obtain raw materials. The same works for recipes that produce/consume fluids if we use a fluid wagon instead. Oil refinery module. Note that by controlling the pump via the LTN signal allows different fluids to be loaded or unloaded at the same station without mixing. There are also some unconventional recipes, such as research, a steam power plant, and the rocket silo. Research centre module, which doesn’t need an output station. Steam power plant with landfill to place on the water. Or you can use Landfill Everything to prepare the site. Rocket silo module. Independent logistics robot networks are used within the module. The bottom station is for materials needed to build rockets, and the station on right is for the payloads of the rocket, usually satellites. Pros and Cons of ROFL ROFL is aimed at engineering-minded people, making it easy for players to divide and conquer production problems. When you need to implement a certain recipe, simply set up input and output stations in the grid that match the types of raw materials and products, and then design production lines between the stations. When the capacity of a recipe is insufficient, you can directly copy and paste the corresponding factory module and integrate it into the whole factory production without plumbing up the inputs and outputs. ROFL is not optimized towards perfect production, as it is not a perfect-ratio production line, so it’s common that structures stop working because of insufficient raw materials or product overflow. Each item has to be loaded to and unloaded from a wagon, adding a lot of input and output bottlenecks, most typically in copper wire, where the number of products exceeds the number of raw materials and the number of stacks is high while the demand is huge. There is a very significant stockpile for every cell because of the warehouses, which does not help you identify the items with insufficient production in time (definitely iron ore though). The rail network used for inter-module logistics in the factory is expensive to build and also poses a large number of traffic accident hazards (praise the Spidertron). Conclusion ROFL is more of a way of thinking that tries to simplify complex problems rather than a blueprint book. The examples above are just one solution that uses ROFL as a guide. Using LTN to build a rail grid may be considered a bit cheaty by some, but this idea can also be used for main bus gameplay and more. There will never be one “correct” way to play Factorio, the variety is what makes it awesome. A space exploration mod game using the ROFL scheme above. Contributing As always, we’re looking for people that want to contribute to Alt-F4, be it by submitting an article or by helping with translation. If you have something interesting in mind that you want to share with the community in a polished way, this is the place to do it. If you’re not too sure about it we’ll gladly help by discussing content ideas and structure questions. If that sounds like something that’s up your alley, join the Discord to get started!","headline":"Alt-F4 #28 - ROFL","mainEntityOfPage":{"@type":"WebPage","@id":"https://alt-f4.blog/ALTF4-28/"},"url":"https://alt-f4.blog/ALTF4-28/"}</script>
<!-- End Jekyll SEO tag -->
	

	
	  <meta property="og:image" content="https://alt-f4.blog/assets/ALTF4/28/thumbnail.jpg">
	  <meta name="twitter:image" content="https://alt-f4.blog/assets/ALTF4/28/thumbnail.jpg">
	

	<!-- CSS & fonts -->
	<link href="/ru/assets/GLOBAL/css/titillium-web.css" rel="stylesheet">
	<link rel="stylesheet" href="/ru/assets/GLOBAL/css/style.css">
	<link rel="stylesheet" href="/ru/assets/GLOBAL/css/spidertron.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.css" rel="stylesheet" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,400italic%7CSignika:700,300,400,600" rel="stylesheet" type="text/css">

	<link href="/ru/assets/GLOBAL/img/favicon.ico" rel="icon" type="image/x-icon">
	<link href="/ru/assets/GLOBAL/img/favicon.ico" rel="shortcut icon" type="image/x-icon">

	<!-- RSS -->
	<link href="/ru/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed">

	<script src="/assets/GLOBAL/js/spidertron.js"></script>
	<script src="/assets/GLOBAL/js/localization.js"></script>
	<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
</head>


  <body>
    <!-- Navigation Bar -->
    <nav id="top" class="top-bar">
	<div class="top-bar-inner flex flex-space-between">
		<div class="sites links flex">
			<a href="/ru/" class="sites-current">
				<div id="navbar-logo" role="img" aria-label="Alt-F4 Logo"></div>
			</a>
			<a href="https://alt-f4.blog/ru/discord" class="">Discord</a>
			<span class="separator">|</span>
			<a href="https://factorio.com/blog" class="">FFF</a>
		</div>
		<div class="sites links flex hide-tag-line">
			<em>Общественный наследник возлюбленным Пятничным Фактам Factorio</em>
		</div>
		<div class="dropdown flex-end">
			<a class="button flex flex-space-between" href="#">
				<i class="fas fa-language"></i>
			</a>
			<div class="submenu">
				
				<a class="button lang-button" href="/../ALTF4-28/" onclick="setLanguage('en')">English</a>
				
				<a class="button lang-button" href="/cs/ALTF4-28/" onclick="setLanguage('cs')">Čeština</a>
				
				<a class="button lang-button" href="/de/ALTF4-28/" onclick="setLanguage('de')">Deutsch</a>
				
				<a class="button lang-button" href="/es/ALTF4-28/" onclick="setLanguage('es')">Español</a>
				
				<a class="button lang-button" href="/fr/ALTF4-28/" onclick="setLanguage('fr')">Français</a>
				
				<a class="button lang-button" href="/it/ALTF4-28/" onclick="setLanguage('it')">Italiano</a>
				
				<a class="button lang-button" href="/nl/ALTF4-28/" onclick="setLanguage('nl')">Nederlands</a>
				
				<a class="button lang-button" href="/pt-br/ALTF4-28/" onclick="setLanguage('pt-br')">Português Brasileiro</a>
				
				<a class="button button-green lang-button" href="/ru/ALTF4-28/" onclick="setLanguage('ru')">Русский</a>
				
				<a class="button lang-button" href="/zh/ALTF4-28/" onclick="setLanguage('zh')">中文</a>
				
			</div>
		</div>
	</div>
</nav>


    <!-- Main content -->
    <div class="container">
      <div class="container-inner">
        <div class="small-center"></div>
        <!-- Posts -->
        <article class="panel blog-post">
	
	<h1 class="page-title-headder">Alt-F4 #28 - ROFL  <author>19-03-2021</author>
</h1>
	
	
	<div class="panel-inset mb0">
		
Написали <em>Ph.X</em>,



отредактировали <em>stringweasel, Nanogamer7, Conor_, Therenas, Firerazer</em>








	</div>
	
	<div class="panel-inset-lighter mt0">
		<div class="post-header">
  <div class="panel">
    <div class="outer">
      <img class="inner" src="/assets/ALTF4/28/thumbnail.jpg" alt="" style="margin: 1px;">
    </div>
  </div>
  <details class="panel toc">
    <summary>
      <h2>Содержание</h2>
    </summary>
    <div class="panel-inset mb0">
      <ul>
  <li>
<a href="#recipe-oriented-factorio-life-phx">Recipe-Oriented Factorio Life <author>Ph.X</author></a>
    <ul>
      <li><a href="#what-is-rofl">What is ‘ROFL’</a></li>
      <li><a href="#interface-design">Interface Design</a></li>
      <li><a href="#module-design">Module design</a></li>
      <li><a href="#pros-and-cons-of-rofl">Pros and Cons of ROFL</a></li>
      <li><a href="#conclusion">Conclusion</a></li>
    </ul>
  </li>
  <li><a href="#contributing">Contributing</a></li>
</ul>

    </div>
  </details>
</div>


<div class="center banner">
  <p>К сожалению, эта статья ещё не переведена на русский, поэтому она отображается на английском. Если хотите помочь это исправить, присоединяйтесь к <a href="https://alt-f4.blog/ru/discord">нашему Дискорду</a>, чтобы начать. Спасибо!</p>

</div>



<p>This fine week in March, first-time contributor Ph.X talks about their very compartmentalized system for laying out a base using isolated modules and connecting them through a Logistic Train Network. Taking inspiration from software development and the lessons learned there, Ph.X uses the concepts of Modular Programming to their advantage.</p>

<p>Also, in other news, we now offer an email list that you can subscribe to! If you don’t browse reddit or the forums or even our <a href="https://alt-f4.blog/ru/discord">Discord</a> regularly, we now offer the option of the ever-popular concept of an email list. Just enter your email <a href="https://www.freelists.org/list/alt-f4">here</a> and you’ll be notified every Friday on release of the newest issue. We will of course only ever use this for Alt-F4 posts, and not spam you with irrelevant crap.</p>
      <h2 id="recipe-oriented-factorio-life-phx">
        
        
            <a href="#recipe-oriented-factorio-life-phx" class="anchor" style="text-decoration: none;">Recipe-Oriented Factorio Life <author>Ph.X</author></a>
          
        
      </h2>
    

<p>Factorio has a complex network of production lines (i.e. spaghetti) that make the game fun and challenging. It’s a complex engineering problem with similar challenges to software engineering, so I think it is worthwhile to use some real-life experience to improve the game experience.</p>
      <h3 id="what-is-rofl">
        
        
            <a href="#what-is-rofl" class="anchor" style="text-decoration: none;">What is ‘ROFL’</a>
          
        
      </h3>
    

<p>People with programming experience should have heard of <del><a href="https://en.wikipedia.org/wiki/Object-oriented_programming">Object-Oriented Programming</a></del> <a href="https://en.wikipedia.org/wiki/Modular_programming">Modular Programming</a>, which is the theory that Recipe-Oriented Factorio Life (ROFL) aims to mimic. Modular programming is a software design technique that emphasizes separating the functionality of a program into independent, interchangeable modules, such that each contains everything necessary to execute a single aspect of the desired functionality. In ROFL, we divide the whole factory into independent, interchangeable subfactory modules, such that each contains everything necessary to process only one recipe of the desired factory.</p>

<p>Like most philosophies, ROFL tries to find one timeless <a href="https://en.wikipedia.org/wiki/Arche">Arche</a> as the origin of everything; In our case, we choose the recipe. Red circuits can be crafted by an assembly machine of any tier, which may be affected by different modules, and the required raw materials may come from a belt, a logistics chest, or even an adjacent copper wire assembly machine, but no matter how other conditions may change, the recipe itself keeps being copper wires, electronic circuits with plastic bars to the advanced circuit. The recipe is kind of an atomic operation in Factorio: an indivisible unit, as it can’t be broken down further.</p>

<p>Based on a certain recipe, a dedicated subfactory is packaged into a module. A separate logistics system is used to fetch raw materials and ditch products for the modules, as the interface for external interaction of the module. The purpose of this division is to achieve high cohesion inside the modules and low coupling between the modules. High cohesion inside the module meaning the module contains all the facilities (assemble machines, inserters, belts, power poles, beacons, etc.) needed to make the recipe so it can work independently. Low coupling between the modules meaning modules interact with each other through predefined interfaces (ie. power and rail grids) without direct dependencies, making them interchangeable.</p>

<p>To better implement this idea, the <a href="https://mods.factorio.com/mods/Optera/LogisticTrainNetwork">LTN - Logistic Train Network</a>, <a href="https://mods.factorio.com/mod/aai-containers">AAI Containers &amp; Warehouses</a> and <a href="https://mods.factorio.com/mod/miniloader">Miniloader</a> mods are being used in the following examples. The blueprints for all the examples below can be downloaded <a href="https://media.alt-f4.blog/ALTF4/28/rofl_example_blueprint.txt">here</a>.</p>
      <h3 id="interface-design">
        
        
            <a href="#interface-design" class="anchor" style="text-decoration: none;">Interface Design</a>
          
        
      </h3>
    

<p>Before actually building any subfactory modules, we need to design a universal logistics network as the interface between the modules. Although a main bus or logistic robots can be implemented as such a logistics system to some extent, a city-block rail grid far exceeds other solutions in terms of throughput, reusability, and plain <em>coolness</em>.</p>

<p>In vanilla, trains can only run on a predetermined schedule, which is not very flexible and “logistical”. This is where the <em>Logistic</em> Train Network comes in handy. With LTN, trains are parked in depot stations, just like logistic robots are parked in roboports. When there is a logistic demand, the system will find a suitable train at the depot and generate a schedule for it to fetch the specified items at the provider station, then go to the requester station for unloading, then return to a depot station, similar again to the behaviour of a logistic robot. But unlike logistic robots, the trains do not load or unload themselves, so inserters or loaders at the stations are needed. LTN is more powerful than a logistic robot network because of the huge cargo capacity, high speed, and support for fluid transports.</p>

<p>The chosen rail grid in my example is a two-way left-hand drive railroad, which allows me to place the rail signals in between the rails. Junctions are straight and left turn only for space-saving. Most stations have a train stop limit of two to ensure that a maximum of one train waits outside the station. Sections occupied by a handful of trains waiting outside the stations can be detoured through the fully interconnected grid.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/28/rail_grid.jpg" alt="Rail grid" style="max-width: ; max-height:  ">
        
        <figcaption>Only the centre grid will contain a crafting module.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>The modules are kept at a grid distance from each other, where the grids between the modules are used for train traffic management, solar power generation, and robot logistics networks separation. Robots excel in short-distance logistics but are terrible at long-distance transportation. A separated logistics network can prevent robots from being involved in unnecessary long-distance flights because that part of the job belongs to trains.</p>

<p>The smallest two-car trains with one locomotive and one cargo/fluid wagon were chosen to reduce the size and eliminate the need to balance loading and unloading between wagons. Fuel replenishment for the locomotives happens in the LTN depot stations where trains return after each delivery.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/28/rail_yard_module.jpg" alt="Rail yard module" style="max-width: ; max-height:  ">
        
        <figcaption>Fuel used for locomotives replenishment are also acquired via LTN.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>
      <h3 id="module-design">
        
        
            <a href="#module-design" class="anchor" style="text-decoration: none;">Module design</a>
          
        
      </h3>
    

<p>Let’s start with the simplest example, the iron gear wheel; a recipe with a single ingredient and a single product. A logistic train stop at the bottom of the grid is requesting 8000 iron plates, and a logistic train stop at the top of the grid is providing items (i.e. gears) from the connected warehouse.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/28/rofl_gear_module.jpg" alt="Gear module" style="max-width: ; max-height:  ">
        
        <figcaption>Simply gear module. The raw material station sits at the bottom, the product station is located at the top.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Since the inputs and outputs within this module are fulfilled by trains, our modification and upgrade of the production line within the module will not affect other modules. So, we could change it into a fully beaconed setup for gears without changing anything else about the factory.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/28/rofl_gear_module_2.jpg" alt="Alt gear module" style="max-width: ; max-height:  ">
        
        <figcaption>Gear module with beacons. No change of stations, only the production line between stations.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>Next, let‘s look at an advanced circuit module with three types of raw materials. By setting the logistic train stop to request multiple ingredients, we are able to unload all of our raw materials at a single station. At this point all the raw materials are mixed in one warehouse, we then use filter miniloaders (similar to filter inserters) to separate each material onto a separate belt to supply the assembly machines.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/28/advanced_circuit_module.jpg" alt="Advanced circuit module" style="max-width: ; max-height:  ">
        
        <figcaption>Advanced circuit module. Use a single station to obtain raw materials.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>The same works for recipes that produce/consume fluids if we use a fluid wagon instead.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/28/oil_refinery_module.jpg" alt="Oil refinery module" style="max-width: ; max-height:  ">
        
        <figcaption>Oil refinery module. Note that by controlling the pump via the LTN signal allows different fluids to be loaded or unloaded at the same station without mixing.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p>There are also some unconventional recipes, such as research, a steam power plant, and the rocket silo.</p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/28/research_centre_module.jpg" alt="Research centre module" style="max-width: ; max-height:  ">
        
        <figcaption>Research centre module, which doesn’t need an output station.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/28/thermal_power_plant_module.jpg" alt="Thermal power plant module" style="max-width: ; max-height:  ">
        
        <figcaption>Steam power plant with landfill to place on the water. Or you can use <a href="https://mods.factorio.com/mod/LandfillEverything">Landfill Everything</a> to prepare the site.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>

<p></p>
<p><!-- Spacing --></p>
<div class="image">
    
      <figure>
        <img src="https://media.alt-f4.blog/ALTF4/28/rocket_silo_module.jpg" alt="Rocket silo module" style="max-width: ; max-height:  ">
        
        <figcaption>Rocket silo module. Independent logistics robot networks are used within the module. The bottom station is for materials needed to build rockets, and the station on right is for the payloads of the rocket, usually satellites.</figcaption>
      </figure>
      
      
</div>
<p></p>
<p><!-- Spacing --></p>
      <h3 id="pros-and-cons-of-rofl">
        
        
            <a href="#pros-and-cons-of-rofl" class="anchor" style="text-decoration: none;">Pros and Cons of ROFL</a>
          
        
      </h3>
    

<p>ROFL is aimed at engineering-minded people, making it easy for players to divide and conquer production problems. When you need to implement a certain recipe, simply set up input and output stations in the grid that match the types of raw materials and products, and then design production lines between the stations. When the capacity of a recipe is insufficient, you can directly copy and paste the corresponding factory module and integrate it into the whole factory production without <a href="https://alt-f4.blog/ru/ALTF4-22/#the-goal-of-factorio">plumbing up the inputs and outputs</a>.</p>

<p>ROFL is not optimized towards perfect production, as it is not a perfect-ratio production line, so it’s common that structures stop working because of insufficient raw materials or product overflow. Each item has to be loaded to and unloaded from a wagon, adding a lot of input and output bottlenecks, most typically in copper wire, where the number of products exceeds the number of raw materials and the number of stacks is high while the demand is huge. There is a very significant stockpile for every cell because of the warehouses, which does not help you identify the items with insufficient production in time (definitely iron ore though). The rail network used for inter-module logistics in the factory is expensive to build and also poses a large number of traffic accident hazards (praise the Spidertron).</p>
      <h3 id="conclusion">
        
        
            <a href="#conclusion" class="anchor" style="text-decoration: none;">Conclusion</a>
          
        
      </h3>
    

<p>ROFL is more of a way of thinking that tries to simplify complex problems rather than a blueprint book. The examples above are just one solution that uses ROFL as a guide. Using LTN to build a rail grid may be considered a bit cheaty by some, but this idea can also be used for main bus gameplay and more. There will never be one “correct” way to play Factorio, the variety is what makes it awesome.</p>

<figure>
		<div class="aspect-ratio">
			<iframe src="https://media.alt-f4.blog/ALTF4/28/mapshot/index.html" frameborder="0"></iframe>
		</div>
		<figcaption>A space exploration mod game using the ROFL scheme above.</figcaption>
</figure>
      <h2 id="contributing">
        
        
            <a href="#contributing" class="anchor" style="text-decoration: none;">Contributing</a>
          
        
      </h2>
    

<p>As always, we’re looking for people that want to contribute to Alt-F4, be it by submitting an article or by helping with translation. If you have something interesting in mind that you want to share with the community in a polished way, this is the place to do it. If you’re not too sure about it we’ll gladly help by discussing content ideas and structure questions. If that sounds like something that’s up your alley, join the <a href="https://alt-f4.blog/ru/discord">Discord</a> to get started!</p>





<script>
  (() => {
    if (window.innerWidth >= 720) {
      document.getElementsByClassName('toc')[0].setAttribute('open', '')
    }
  })()

  var slideIndex = 1;
  showSlides(slideIndex);

  function plusSlides(n) {
    showSlides(slideIndex += n);
  }

  function currentSlide(n) {
    showSlides(slideIndex = n);
  }

  function showSlides(n) {
    var i;
    var slides = document.getElementsByClassName("galleryItem");
    var dots = document.getElementsByClassName("galleryPreview");
    var captionText = document.getElementById("caption");
    if (n > slides.length) { slideIndex = 1 }
    if (n < 1) { slideIndex = slides.length }
    for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
    }
    for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex - 1].style.display = "block";
    dots[slideIndex - 1].className += " active";
    captionText.innerHTML = dots[slideIndex - 1].alt;
  }
</script>

		
<div class="flex flex-column flex-items-center mt8">
  
  <a class="button-green-right m4" style="width: 16em;" href="https://forums.factorio.com/viewtopic.php?f=5&t=97104">
    Обсудить на форумах Factorio
  </a>
  
  
  <a class="button-green-right m4" style="width: 16em;" href="https://www.reddit.com/r/factorio/comments/m8fyz9/altf4_28_rofl/">
    Обсудить на Реддите
  </a>
  
  
  <a class="button-green-right m4" style="width: 16em;" href="https://alt-f4.blog/ru/discord">
    Обсудить на Дискорде
  </a>
  
</div>


	</div>
	<div class="panel-inset mb0 p4 flex">
		<div>
		<!-- Previous Button -->
		
		<a href="/ru/ALTF4-27/" class="button square-sm"><i class="fas fa-angle-double-left"></i></a>
		
		<a class="button square-sm" href="/ru/">
			<i class="fas fa-home"></i>
		</a>

		<!-- Next Button -->
		
		<a href="/ru/ALTF4-29/" class="button square-sm">
			<i class="fas fa-angle-double-right"></i>
		</a>
		
		</div>
	</div>
</article>

      </div>
    </div>


    <!-- Footer -->
    <footer class="footer">
  <div class="footer-inner panel">

    <div class="footer-links panel-inset slots p1 mt0 mb0">
      <a href="/ru/about" class="slot" title="About">
        <div class="slot-button">
          <i class="fas fa-info"></i>
        </div>
      </a>
      <a href="https://github.com/AlternativeFFFF/Alt-F4" class="slot" title="Github">
        <div class="slot-button">
          <i class="fab fa-github"></i>
        </div>
      </a>
      <a href="https://alt-f4.blog/ru/discord" class="slot" title="Discord">
        <div class="slot-button">
          <i class="fab fa-discord"></i>
        </div>
      </a>
      <a href="/ru/atom.xml" type="application/atom+xml" rel="alternate" class="slot" title="ATOM Feed">
        <div class="slot-button">
          <i class="fas fa-rss"></i>
        </div>
      </a>
      <a href="https://www.freelists.org/list/alt-f4" class="slot" title="Email Newsletter">
        <div class="slot-button">
          <i class="fas fa-envelope"></i>
        </div>
      </a>

      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
      <div class="slot">
        <div class="slot-empty"></div>
      </div>
    </div>
    <div class="footer-rocket panel-inset m0">
      <div class="spidertron-center">
        <div id="spidertron" class="spidertron-home" data-spidertron-scale="0.6" data-spidertron-speed="400"></div>
      </div>
      <div class="shadow-overlay"></div>
      <div class="shadow-overlay-bottom"></div>
    </div>
    <div class="footer-copyright panel-inset m0">
      Этот сайт - фан-проект и не имеет прямого отношения к Wube Software
    </div>
  </div>
</footer>

  </body>

</html>
