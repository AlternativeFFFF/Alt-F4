## Experiment [Tekuté Elektřiny](https://mods.factorio.com/mod/FluidicPower) <author>stringweasel</author>

Již od začátku mého vzdělání v elektronickém inženýrství, vidím tok elektřiny kdekoliv se podívám. Zpětně cestující vlna aut posouvající se vpřed je v mých očích pohyb elektronů. Ještě zajímavější je jak podobný tok elektřiny je k pohybu tekutin. Když splachuji záchod a vytvoří vodní vír, vidím induktor, který je nabíjen kondenzátorem. Když zničeho nic zavřu kohoutek a slyším vodu, která bije v trubkách, vidím špičku v napětí induktoru, která je používána pro [zvyšováky napětí](https://en.wikipedia.org/wiki/Boost_converter). Nebylo by zajímavé toto chování mít v elektřine v Factoriu?

### Proč je to těžké?

Zaprvé, v vanilla Factoriu, elektřina se chová ideálně - to znamená, že není žádný odpor ve vedení. Vašě elektrická síť je schopna přenášet nekonečně mnoho energie přes nekonečnou vzdálenost. Je to jako kdyby pověsili kryogenicky chlazené [supervodiče](https://cs.wikipedia.org/wiki/Supravodivost) na levné, dřevěné tyče. Toto funguje velmi dobře pro cíle a omezení hry, a perfektně se vejde do většiny hracích stylů. Vždy ale existuje pár hráčů, kteří by chtěli trochu větší výzvu, tací se polud by elektřina mohla být [více realistická](https://forums.factorio.com/viewtopic.php?t=68761). Třeba hráči, kteří by chtěli použít transformátory, aby se vyhnuli snížení napětí přes vzdálenost.

Rekreace více realistického chování elektřiny je (diskutabilně) mimo rozsah pro vanilla Factorio a nejspíše se [nikdy nestane](https://forums.factorio.com/viewtopic.php?p=301132#p301132) - takže je na módech, aby vyplnily tuto slabě sadistickou skulinku. V Factoriu, módy jsou schopny modifikovat pouze některé [předem určené aspekty](https://lua-api.factorio.com/next/) hry, a možnosti pro elektřinu jsou velmi limitované. Proto si moddeři našli pár zajímavých řešení. Jeden z největších problémů je, že jakmile jsou dva elektricé sloupy spojeny měďeným drátem, hra bude automaticky rozesílat elektřinu interně, což nemůže být manipulováno módy. Jediný reálný způsob pro změnu elektrické síťe je použitím [Rozhraní Elektrické Energie](https://wiki.factorio.com/Prototype/ElectricEnergyInterface) (odteď pod jménem *EEI*), ale to nemění způsob, _jak_ je elektřina rozesílána.

Další možnost je manuální odstranění měďených drátů z elektrických sloupů pro manuální ovládání elektřiny, ale to vždy bude také odstraňovat vizualizaci spojení daným drátem, což bude vypadat divně. Také vás bude nutit, aby jste počítali přenos energie v kódu módu, stejně jako by to normálně dělala hra. Problém je, že výpočty dělané módem budou vždy násobně pomalejší, než kdyby hra dělala to samé. Toto je proč vývojár *Rseding91* měl následující k slovu pár let dozadu, poté co se někdo zeptal pro mód, který by implementoval [progresivní snižování napětí](https://en.wikipedia.org/wiki/Voltage_drop).

{% include quote.html text='[Napětí] není jediná věc, o kterou se budete starat, že se snižuje. Vaše UPS bude ZNIČENO jakmile postavíte více než pár čehokoliv, pokud by jste používali takový mód :P' author='<a href="https://www.reddit.com/r/factorio/comments/6wwkhx/comment/dmcea1c/">Rseding91, vývojář Factoria</a>' %}

Toto ale neznamená, že to není nemožné, i kdyby hra poté neběžela tak svižne, jako vanilla Factorio. Moddeři našli krásné cesty kolem mnoho překážek, včetně těchto limitací, a vytvořili všemožné způsoby herních mechanik, o kterých si lidé mysleli, že jsou nerealistické.

### Krátká Historie Elektrických Změn

Jeden z prvních módů, který se dotkl elektřiny byl nejspíše [Flow Network](https://mods.factorio.com/mods/Simdezimon/flownetwork) - dělán v dobách Factorio 0.13. Zkrátce, neviditelné akumulátory byly položeny pod každý sloup, což vytvořilo kompozitní entitu, trik, který je často používán v módech. Měďěné dráty jsou poté odstraněny a nahrazeny červenymi dráty aby se zastavila vanilla distribute energie, ale vizualizace spojení pořád existovala. Energie je poté distribuována manuálné mezi těmito schovanými akumulátory s vlastním skriptem. Naneštěstí, jako jsem předtím řekl, toto je velmi pomalé, protože *všechny* výpočty energie jsou dělané v módu a nejsou vyřizovány Factoriem samotným. Má to ale výhodu toho, že to je velmi přispůsobitelné

{% include image.html src='https://media.alt-f4.blog/ALTF4/51/flow-network.jpg' alt='Příkůlad distribuce elektřiny, ukazující napětí v sloupu, tok elektřiny zkrz sloup, a snížení napětí v sloupu.' caption='Příkůlad distribuce elektřiny, ukazující napětí v sloupu, tok elektřiny zkrz sloup, a snížení napětí v sloupu.' %}

